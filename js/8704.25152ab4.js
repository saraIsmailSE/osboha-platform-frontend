"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[8704],{74740:function(e,s,r){var a=r(66252),t=r(79940),i=r(24150);class o{async getUnactive(){const e=await i.hi.get("users/list/un-active");return e}async searchByEmail(e){const s=await i.hi.get(`users/search-by-email/${e}`);return s.data.data}async listInChargeOf(){try{const e=await i.hi.get("users/list-in-charge-of");return e.data.data}catch(e){(0,a.S3)(e)}}async getUnactiveReviwers(){const e=await i.hi.get("users/list/un-active-reviwers-auditors");return e}async deleteUser(e){const s=await i.hi.delete(`users/${e}`);return s}async acceptUser(e){const s=await i.hi.patch(`users/activate/${e}`);return s}acceptThesis(e){return!0}async searchUsers(e){try{const s=await i.hi.get(`users/search?search=${e}`);return s.data}catch(s){(0,a.S3)(s)}}async assignToParent(e){try{const s=await i.hi.post("users/assign-to-parent",e,{headers:{"Content-type":"multipart/form-data"}});return s.data.data}catch(s){(0,t.F)(s,"UserGroupService.AddMember")}}}s.Z=new o},79940:function(e,s,r){r.d(s,{F:function(){return t}});r(70560);var a=r(1120);function t(e,s=""){throw console.log(`[ERROR] ${s} =>`,e.response.data),404===e.response.data.statusCode?a.Z.push({name:"NotFound"}):403===e.response.data.statusCode&&a.Z.push({name:"NotAuthorized"}),e}},18704:function(e,s,r){r.r(s),r.d(s,{default:function(){return F}});var a=r(66252),t=r(49963),i=r(3577),o=r(42922),n=r(79885);const l={class:"col-sm-12 mt-3"},c=(0,a._)("div",{class:"iq-card-header-toolbar d-flex text-center align-items-center mx-auto"},[(0,a._)("h1",{class:"text-center mt-3 mb-3"},"تعيين مسؤول عنه")],-1),d=(0,a._)("div",{class:"iq-card-body p-4"},[(0,a._)("div",{class:"image-block text-center"},[(0,a._)("img",{src:o,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),u={class:"col-12 bg-white pt-2"},m={class:"sign-in-from"},h={class:"form-group"},g=(0,a._)("label",{for:"user"},"المستخدم",-1),v={key:0,style:{color:"red"}},f={key:1,style:{color:"red"}},p={class:"form-group"},y=(0,a._)("label",{for:"head_user"}," المسؤول عنه",-1),w={key:0,style:{color:"red"}},$={key:1,style:{color:"red"}},_={key:0,class:"form-group text-center"},b={style:{color:"red"}},k={key:1,class:"col-sm-12 text-center"},q=(0,a._)("p",{class:"text-center"},"جاري التعيين",-1),D=(0,a._)("img",{src:n,alt:"loader",style:{height:"100px"}},null,-1),x=[q,D],C={key:2,class:"d-inline-block w-100"},U=["disabled"];function S(e,s,r,o,n,q){const D=(0,a.up)("iq-card");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(D,{class:"iq-card"},{default:(0,a.w5)((()=>[c,d,(0,a._)("div",u,[(0,a._)("div",m,[(0,a._)("form",{class:"mt-2",onSubmit:s[2]||(s[2]=(0,t.iM)((e=>q.onSubmit()),["prevent"]))},[(0,a._)("div",h,[g,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.v$.form.user.$model=e),type:"email",class:"form-control mb-0",id:"user",placeholder:"ادخل بريد المستخدم"},null,512),[[t.nr,o.v$.form.user.$model]]),o.v$.form.user.$error?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[o.v$.form.user.required.$invalid?((0,a.wg)(),(0,a.iD)("small",v,"البريد الالكتروني للمستخدم مطلوب")):(0,a.kq)("",!0),o.v$.form.user.email.$invalid?((0,a.wg)(),(0,a.iD)("small",f,"البريد الالكتروني للمستخدم غير صحيح")):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0)]),(0,a._)("div",p,[y,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>o.v$.form.head_user.$model=e),type:"email",class:"form-control mb-0",id:"head_user",placeholder:"ادخل بريد المسؤول عنه"},null,512),[[t.nr,o.v$.form.head_user.$model]]),o.v$.form.head_user.$error?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[o.v$.form.head_user.required.$invalid?((0,a.wg)(),(0,a.iD)("small",w," البريد الالكتروني للمسؤول مطلوب")):(0,a.kq)("",!0),o.v$.form.head_user.email.$invalid?((0,a.wg)(),(0,a.iD)("small",$," البريد الالكتروني للمسؤول غير صحيح")):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0)]),n.message?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("small",b,(0,i.zw)(n.message),1)])):(0,a.kq)("",!0),n.loader?((0,a.wg)(),(0,a.iD)("div",k,x)):((0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:n.loader}," تعيين ",8,U)]))],32)])])])),_:1})])}var Z=r(5705),T=r(10760),O=r(74740),P={name:"Assign To Parent",setup(){return{v$:(0,Z.ZP)()}},data(){return{loader:!1,form:{user:"",head_user:""},message:""}},validations(){return{form:{user:{required:T.C1,email:T.Do},head_user:{required:T.C1,email:T.Do}}}},methods:{async onSubmit(){if(this.v$.$validate(),!this.v$.$error){this.loader=!0;try{this.message="";const e=await O.Z.assignToParent(this.form);this.message=e,this.v$.form.$reset(),this.form={user:"",head_user:""},setTimeout((()=>{this.message=""}),5e3)}catch(e){this.message="حدث خطأ, يرجى المحاولة لاحقاً"}finally{this.loader=!1}}}}},R=r(83744);const A=(0,R.Z)(P,[["render",S]]);var F=A},42922:function(e,s,r){e.exports=r.p+"img/assign-administrator.46bdcb01.png"}}]);
//# sourceMappingURL=8704.25152ab4.js.map