"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[890],{34964:function(e,t,r){var n=r(50124),a=r(48534),o=r(13087),u=r(62833),s=(r(34338),r(24150)),c=r(66252),i=r(79940),l=function(){function e(){(0,o.Z)(this,e)}return(0,u.Z)(e,[{key:"create",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.post("/books",t,{headers:{"Content-type":"multipart/form-data"}});case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,c.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("books?page="+t);case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,c.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getById",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.F)(e.t0,"BookService.getById");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteById",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.delete("/books/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBooksByType",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/type/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBooksByLevel",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/level/".concat(t,"?page=").concat(r));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,c.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBooksByName",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/name?page=".concat(r,"&name=").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,c.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBooksByLanguage",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/language/".concat(t,"?page=").concat(r));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,c.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,r){return e.apply(this,arguments)}return t}()},{key:"getBooksBySection",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/section/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRecentAddedBooks",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/recent-added-books");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMostReadableBooks",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/most-readable-books");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRandomBook",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/random-book");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"latestBooks",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("/books/latest");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"showBasicInfo",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.get("books/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.hi.post("/books/update",t,{headers:{"Content-type":"multipart/form-data"}});case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,c.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t.Z=new l},79940:function(e,t,r){r.d(t,{F:function(){return a}});r(70560);var n=r(1120);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";throw console.log("[ERROR] ".concat(t," =>"),e.response.data),404===e.response.data.statusCode?n.Z.push({name:"NotFound"}):403===e.response.data.statusCode&&n.Z.push({name:"NotAuthorized"}),e}},40890:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(66252),a=r(3577),o={class:"row"},u={key:0,class:"col-lg-12"},s={class:"card card-block card-stretch card-height blog blog-detail"},c={class:"card-body"},i={class:"position-absolute start-0"},l={class:"image-block text-center mt-3"},p=["src"],d={class:"blog-description mt-3 text-center"},v={class:"mb-3 pb-3 border-bottom text-center"},f={class:"blog-meta d-flex align-items-center mb-3 position-right-side flex-wrap"},h={class:"date me-4 d-flex align-items-center"},k=(0,n._)("i",{class:"material-symbols-outlined pe-2 md-18 text-primary"},"calendar_month",-1),b={class:"comments me-4 d-flex align-items-center"},m=(0,n._)("i",{class:"material-symbols-outlined pe-2 md-18 text-primary"}," book ",-1),g={class:"text-center"},w={class:"col-lg-12 mt-3"},x={class:"card card-block card-stretch card-height blog"};function y(e,t,r,y,Z,B){var _,T=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("main",null,[(0,n._)("div",o,[Z.book?((0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",s,[(0,n._)("div",c,[(0,n._)("div",i,[(0,n._)("span",{role:"button",onClick:t[0]||(t[0]=function(t){return e.download(Z.book.link)}),class:"material-symbols-outlined align-middle display-5 me-1s"}," download "),B.isAdmin||B.inBooksTeam||e.book_owner?((0,n.wg)(),(0,n.j4)(T,{key:0,class:"material-symbols-outlined align-middle display-5 me-3",to:{name:"book.update",params:{book_id:Z.book.id}}},{default:(0,n.w5)((function(){return[(0,n.Uk)(" edit ")]})),_:1},8,["to"])):(0,n.kq)("",!0)]),(0,n._)("div",l,[(0,n._)("img",{src:B.resolve_img_url(null!==(_=Z.book.media.path)&&void 0!==_?_:""),class:"img-fluid rounded w-25",alt:"blog-img"},null,8,p)]),(0,n._)("div",d,[(0,n._)("h2",v,(0,a.zw)(Z.book.name),1),(0,n._)("div",f,[(0,n._)("div",h,[k,(0,n.Uk)("تاريخ الاضافة "+(0,a.zw)(B.formattedDate),1)]),(0,n._)("div",b,[m,(0,n.Uk)(" عدد الصفحات: "+(0,a.zw)(Z.book.end_page),1)])]),(0,n._)("div",g,[(0,n.Uk)((0,a.zw)(Z.shortBriefText)+" ",1),B.isMore?((0,n.wg)(),(0,n.iD)("a",{key:0,class:"load-btn",onClick:t[1]||(t[1]=function(){return B.loadMoreBriefText&&B.loadMoreBriefText.apply(B,arguments)})},"...قراءة المزيد")):(0,n.kq)("",!0),B.isLess?((0,n.wg)(),(0,n.iD)("a",{key:1,class:"load-btn",onClick:t[2]||(t[2]=function(){return B.loadLessBriefText&&B.loadLessBriefText.apply(B,arguments)})},"قراءة أقل")):(0,n.kq)("",!0)]),(0,n._)("div",w,[(0,n._)("div",x,[(0,n.Wm)(T,{to:{name:"book.book-details",params:{book_id:Z.book.id}},class:"btn btn-primary d-block w-100",disabled:!Z.book.allow_comments},{default:(0,n.w5)((function(){return[(0,n.Uk)(" عرض الأطروحات ")]})),_:1},8,["to","disabled"])])])])])])])):(0,n.kq)("",!0)])])}var Z=r(50124),B=r(48534),_=(r(89730),r(34964)),T=r(30381),C=r.n(T),D=r(49579),L={name:"Latest Book",created:function(){var e=this;return(0,B.Z)((0,Z.Z)().mark((function t(){var r;return(0,Z.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_.Z.latestBooks();case 2:e.book=t.sent,e.fullBriefText=e.book.brief,e.shortBriefText=null===(r=e.fullBriefText)||void 0===r?void 0:r.slice(0,200);case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{book:null,fullBriefText:"",shortBriefText:""}},methods:{loadMoreBriefText:function(){this.shortBriefText=this.fullBriefText},loadLessBriefText:function(){var e;this.shortBriefText=null===(e=this.fullBriefText)||void 0===e?void 0:e.slice(0,200)},resolve_img_url:function(e){return e||r(21218)}},computed:{formattedDate:function(){var e;return C()(null===(e=this.book)||void 0===e?void 0:e.created_at).format("YYYY-MM-DD")},isMore:function(){var e,t;return(null===(e=this.shortBriefText)||void 0===e?void 0:e.length)<(null===(t=this.fullBriefText)||void 0===t?void 0:t.length)},isLess:function(){var e,t,r;return(null===(e=this.shortBriefText)||void 0===e?void 0:e.length)>=(null===(t=this.fullBriefText)||void 0===t?void 0:t.length)&&(null===(r=this.fullBriefText)||void 0===r?void 0:r.length)>200},user:function(){return this.$store.getters.getUser},inBooksTeam:function(){return D.Z.hasRole(this.user,"book_quality_team")},isAdmin:function(){return D.Z.hasRole(this.user,"admin")}}},M=r(83744);const R=(0,M.Z)(L,[["render",y]]);var S=R},21218:function(e,t,r){e.exports=r.p+"img/200x200-book.5a0360f9.png"}}]);
//# sourceMappingURL=890-legacy.b553de42.js.map