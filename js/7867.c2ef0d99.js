"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[7867],{22658:function(t,e,a){var r=a(66252),s=a(24150),n=a(79940);class l{async createGroup(t){try{const e=await s.hi.post("/group/create",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async getAll(t,e){try{const a=await s.hi.get(`/group?page=${e}&name=${t}`);return await a.data}catch(a){return a}}async searchGroupByName(t){try{const e=await s.hi.get(`group/search-group-by-name/${t}`);return await e.data}catch(e){return e}}async getById(t){try{const e=await s.hi.get(`group/show/${t}`);return e.data.data}catch(e){return e}}async showBasicInfo(t){try{const e=await s.hi.get(`group/show-basic-info/${t}`);return e.data.data}catch(e){return e}}async getBooks(t){try{const e=await s.hi.get(`group/books/${t}`);return e.data.data}catch(e){(0,r.S3)(e)}}async getAllGroupExceptions(t){try{const e=await s.hi.get(`group/group-exceptions/${t}`);return e.data.data}catch(e){return e}}async exceptionsFilter(t,e){try{const a=await s.hi.get(`group/exceptions-filter/${t}/${e}`);return a.data.data}catch(a){return a}}async BasicMarksView(t,e){try{const a=await s.hi.get(`group/basic-mark-view/${t}/${e}`);return a.data.data}catch(a){return a}}async AllAchievements(t,e){try{const a=await s.hi.get(`group/all-achievements/${t}/${e}`);return a.data.data}catch(a){return a}}async AchievementAsPages(t,e){try{const a=await s.hi.get(`group/achievement-as-pages/${t}/${e}`);return a.data.data}catch(a){return a}}async searchForAmbassadorAchievement(t,e,a){try{const r=await s.hi.get(`group/search-for-ambassador-achievement/${t}/${e}/${a}`);return r.data.data}catch(r){return r}}async searchForAmbassador(t,e){try{const a=await s.hi.get(`group/search-for-ambassador/${t}/${e}`);return a.data.data}catch(a){return a}}async createLeaderRequest(t){try{const e=await s.hi.post("/group/create-leader-request",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){return e}}async lastLeaderRequest(t){try{const e=await s.hi.get(`group/last-leader-request/${t}`);return e.data.data}catch(e){return e}}async deleteById(t){try{return await s.hi.delete(`/group/delete/${t}`)}catch(e){return e}}async update(t){try{const e=await s.hi.post("/group/update",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async getGroupByType(t){try{const e=await s.hi.get(`/group/group-by-type/${t}`);return e.data.data}catch(e){return e}}async userGroups(t,e){try{const a=await s.hi.get(`/group/user-groups?page=${e}&name=${t}`);return a.data}catch(a){return a}}async statistics(t){try{const e=await s.hi.get(`group/statistics/${t}`);return e.data.data}catch(e){(0,n.F)(e,"statistics")}}async thesesAndScreensByWeek(t,e){try{const a=await s.hi.get(`group/theses-and-screens-by-week/${t}/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}async monthAchievement(t,e){try{const a=await s.hi.get(`group/month-achievement/${t}/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}async assignAdministrator(t){try{const e=await s.hi.post("/group/assign-administrator",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}}e.Z=new l},79940:function(t,e,a){a.d(e,{F:function(){return s}});a(70560);var r=a(1120);function s(t,e=""){throw console.log(`[ERROR] ${e} =>`,t.response.data),404===t.response.data.statusCode?r.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&r.Z.push({name:"NotAuthorized"}),t}},37867:function(t,e,a){a.r(e),a.d(e,{default:function(){return ot}});a(76265);var r=a(66252),s=a(3577),n=a(49963),l=a(59797),i=a(79885);const o={class:"col-sm-12 mt-3 text-center"},c=(0,r._)("div",{class:"iq-card-header-toolbar d-flex align-items-center mx-auto"},[(0,r._)("h3",{class:"text-center mt-3 mb-3"}," طلب سفراء ")],-1),u={class:"iq-card-body p-3"},d=(0,r._)("div",{class:"image-block text-center"},[(0,r._)("img",{src:l,class:"img-fluid rounded w-50",alt:"blog-img"})],-1),m=(0,r._)("h4",{class:"card-title"}," الطلب الأخير",-1),p=(0,r._)("i",{class:"ri-code-s-slash-line"},null,-1),h={class:"table w-100"},g=(0,r._)("td",null,"رقم الطلب",-1),y=(0,r._)("td",null,"حالة الطلب",-1),b={key:0},w=(0,r._)("span",{class:"badge bg-danger"},"غير مكتمل",-1),_=[w],f={key:1},v=(0,r._)("span",{class:"badge bg-primary"},"مكتمل",-1),$=[v],q=(0,r._)("td",null,"جنس السفراء",-1),k=(0,r._)("td",null,"العدد المطلوب",-1),x=(0,r._)("p",null,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.",-1),F={class:"d-flex align-items-center mt-3"},A={class:"form-group col-12"},C=(0,r._)("h4",null,"جنس السفراء",-1),S=["disabled"],W=(0,r._)("option",{value:"",selected:""},"اختر جنس السفراء",-1),B=(0,r._)("option",{value:"any"},"لا فرق",-1),D=(0,r._)("option",{value:"female"},"إناث",-1),R=(0,r._)("option",{value:"male"},"ذكور",-1),Z=[W,B,D,R],z={key:0,style:{color:"red"}},I={class:"form-group"},L=(0,r._)("h4",null,"العدد المطلوب",-1),E={class:"form-group row"},G=["disabled"],M=(0,r._)("option",{value:"0",selected:""},"اختر عدد السفراء",-1),N=["value"],T={key:0,style:{color:"red"}},O=(0,r._)("hr",null,null,-1),V={class:"form-group"},P=["disabled"],U={key:0,class:"col-sm-12 text-center"},j=(0,r._)("img",{src:i,alt:"loader",style:{height:"100px"}},null,-1),H=[j],K={key:1,class:"text-center mt-3 mb-3"},Y={class:"d-flex align-items-center mt-3 row"},J={class:"d-inline-block w-100 text-center col-12"},Q=(0,r._)("span",null,"عودة للمجموعة",-1),X=(0,r._)("span",{class:"align-middle material-symbols-outlined"}," keyboard_return ",-1),tt=[Q,X];function et(t,e,a,l,i,w){const v=(0,r.up)("collapse"),W=(0,r.up)("tab-nav-items"),B=(0,r.up)("tab-nav"),D=(0,r.up)("tab-content-item"),R=(0,r.up)("tab-content"),j=(0,r.up)("iq-card");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(j,{class:"iq-card"},{default:(0,r.w5)((()=>[c,(0,r._)("div",u,[d,i.last_request?((0,r.wg)(),(0,r.j4)(j,{key:0},{headerTitle:(0,r.w5)((()=>[m])),headerAction:(0,r.w5)((()=>[(0,r.Wm)(v,{class:"text-primary float-right",href:"#example-collapse6","data-bs-toggle":"collapse"},{default:(0,r.w5)((()=>[p])),_:1})])),body:(0,r.w5)((()=>[(0,r.Wm)(B,{pills:!0,class:"nav-fill mb-3",id:"pills-tab-1"},{default:(0,r.w5)((()=>[(0,r.Wm)(W,{active:!0,id:"pills-home-tab-fill",href:"#pills-home-fill",ariaControls:"pills-home-fill",role:"tab",ariaSelected:!0,title:"تفاصيل الطلب"}),(0,r.Wm)(W,{active:!1,id:"pills-profile-tab-fill",href:"#pills-profile-fill",ariaControls:"pills-profile-fill",role:"tab",ariaSelected:!1,title:"السفراء"})])),_:1}),(0,r.Wm)(R,{id:"pills-tabContent-1",class:"mt-0"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{active:!0,id:"pills-home-fill","aria-labelled-by":"pills-home-tab-fill"},{default:(0,r.w5)((()=>[(0,r._)("table",h,[(0,r._)("tbody",null,[(0,r._)("tr",null,[g,(0,r._)("td",null,(0,s.zw)(i.last_request.id),1)]),(0,r._)("tr",null,[y,0==i.last_request.is_done?((0,r.wg)(),(0,r.iD)("td",b,_)):((0,r.wg)(),(0,r.iD)("td",f,$))]),(0,r._)("tr",null,[q,(0,r._)("td",null,(0,s.zw)(i.last_request.gender),1)]),(0,r._)("tr",null,[k,(0,r._)("td",null,(0,s.zw)(i.last_request.members_num),1)])])])])),_:1}),(0,r.Wm)(D,{active:!1,id:"pills-profile-fill","aria-labelled-by":"pills-profile-tab-fill"},{default:(0,r.w5)((()=>[x])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r._)("div",F,[(0,r._)("form",{onSubmit:e[2]||(e[2]=(0,n.iM)(((...t)=>w.submitException&&w.submitException(...t)),["prevent"])),class:"post-text ml-3 w-100 row"},[(0,r._)("div",A,[C,(0,r.wy)((0,r._)("select",{disabled:i.message,"onUpdate:modelValue":e[0]||(e[0]=t=>l.v$.requestForm.gender.$model=t),class:"form-select mt-2","data-trigger":"",name:"gender",id:"eceptionType"},Z,8,S),[[n.bM,l.v$.requestForm.gender.$model]]),l.v$.requestForm.gender.$error?((0,r.wg)(),(0,r.iD)("small",z," يرجى اختيار جنس السفراء")):(0,r.kq)("",!0)]),(0,r._)("div",I,[L,(0,r._)("div",E,[(0,r.wy)((0,r._)("select",{disabled:i.message,"onUpdate:modelValue":e[1]||(e[1]=t=>l.v$.requestForm.members_num.$model=t),class:"form-select mt-2","data-trigger":"",name:"members_num",id:"eceptionType"},[M,((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(10,(t=>(0,r._)("option",{key:t,value:t},(0,s.zw)(t),9,N))),64))],8,G),[[n.bM,l.v$.requestForm.members_num.$model]])]),l.v$.requestForm.members_num.$error?((0,r.wg)(),(0,r.iD)("small",T," يرجى اختيار عدد السفراء ")):(0,r.kq)("",!0)]),O,(0,r._)("div",V,[(0,r._)("button",{type:"submit",disabled:i.message,class:"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto"}," طلب ",8,P)]),i.loader?((0,r.wg)(),(0,r.iD)("div",U,H)):(0,r.kq)("",!0),i.message?((0,r.wg)(),(0,r.iD)("h4",K,(0,s.zw)(i.message),1)):(0,r.kq)("",!0)],32)]),(0,r._)("div",Y,[(0,r._)("div",J,[(0,r._)("a",{role:"button",onClick:e[3]||(e[3]=t=>w.back()),class:"d-block mt-3 mb-3 w-75 mx-auto"},tt)])])])])),_:1})])}a(70560);var at=a(5705),rt=a(22658),st=a(10760),nt={name:"New Ambassador Request",async created(){this.last_request=await rt.Z.lastLeaderRequest(this.$route.params.group_id)},components:{},setup(){return{v$:(0,at.ZP)()}},data(){return{loader:!1,requestForm:{gender:"",members_num:0,group_id:this.$route.params.group_id},last_request:null,message:null}},validations(){return{requestForm:{gender:{required:st.C1},members_num:{required:st.C1}}}},methods:{async submitException(){if(this.v$.$touch(),!this.v$.requestForm.$invalid){this.message="",this.loader=!0;try{const t=await rt.Z.createLeaderRequest(this.requestForm);this.loader=!1,this.message="تم رفع الطلب - رقم الطلب هو: "+t.id,this.v$.requestForm.$reset()}catch(t){console.log(t)}}},back(){this.$router.push({name:"group.group-detail"})}}},lt=a(83744);const it=(0,lt.Z)(nt,[["render",et]]);var ot=it},59797:function(t,e,a){t.exports=a.p+"img/request_amb.aa8e9207.png"}}]);
//# sourceMappingURL=7867.c2ef0d99.js.map