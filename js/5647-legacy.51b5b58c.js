"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[5647],{79113:function(r,e,t){var n=t(50124),s=t(48534),a=t(13087),o=t(62833),i=t(24150),u=function(){function r(){(0,a.Z)(this,r),this.prefix="roles"}return(0,o.Z)(r,[{key:"assignRole",value:function(){var r=(0,s.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.hi.post("".concat(this.prefix,"/assign-role"),e);case 3:return t=r.sent,r.abrupt("return",t.data.data);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",r.t0.response);case 10:case"end":return r.stop()}}),r,this,[[0,7]])})));function e(e){return r.apply(this,arguments)}return e}()},{key:"ChangeAdvisingTeam",value:function(){var r=(0,s.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.hi.post("".concat(this.prefix,"/change-advising-team"),e);case 3:return t=r.sent,r.abrupt("return",t.data.data);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",r.t0.response);case 10:case"end":return r.stop()}}),r,this,[[0,7]])})));function e(e){return r.apply(this,arguments)}return e}()},{key:"supervisorsSwap",value:function(){var r=(0,s.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.hi.post("".concat(this.prefix,"/supervisors-swap"),e);case 3:return t=r.sent,r.abrupt("return",t.data.data);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",r.t0.response);case 10:case"end":return r.stop()}}),r,this,[[0,7]])})));function e(e){return r.apply(this,arguments)}return e}()},{key:"newSupervisor_currentToAmbassador",value:function(){var r=(0,s.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.hi.post("".concat(this.prefix,"/new-supervisor-current-to-ambassador"),e);case 3:return t=r.sent,r.abrupt("return",t.data.data);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",r.t0.response);case 10:case"end":return r.stop()}}),r,this,[[0,7]])})));function e(e){return r.apply(this,arguments)}return e}()},{key:"newSupervisor_currentToLeader",value:function(){var r=(0,s.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.hi.post("".concat(this.prefix,"/new-supervisor-current-to-leader"),e);case 3:return t=r.sent,r.abrupt("return",t.data.data);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",r.t0.response);case 10:case"end":return r.stop()}}),r,this,[[0,7]])})));function e(e){return r.apply(this,arguments)}return e}()},{key:"newLeader_currentToAmbassador",value:function(){var r=(0,s.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.hi.post("".concat(this.prefix,"/new-leader-current-to-ambassador"),e);case 3:return t=r.sent,r.abrupt("return",t.data.data);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",r.t0.response);case 10:case"end":return r.stop()}}),r,this,[[0,7]])})));function e(e){return r.apply(this,arguments)}return e}()},{key:"transferLeader",value:function(){var r=(0,s.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.hi.post("".concat(this.prefix,"/transfer-leader"),e);case 3:return t=r.sent,r.abrupt("return",t.data.data);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",r.t0.response);case 10:case"end":return r.stop()}}),r,this,[[0,7]])})));function e(e){return r.apply(this,arguments)}return e}()},{key:"transferAmbassador",value:function(){var r=(0,s.Z)((0,n.Z)().mark((function r(e){var t;return(0,n.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.hi.post("".concat(this.prefix,"/transfer-ambassador"),e);case 3:return t=r.sent,r.abrupt("return",t.data.data);case 7:return r.prev=7,r.t0=r["catch"](0),r.abrupt("return",r.t0.response);case 10:case"end":return r.stop()}}),r,this,[[0,7]])})));function e(e){return r.apply(this,arguments)}return e}()}]),r}();e.Z=new u},85647:function(r,e,t){t.r(e),t.d(e,{default:function(){return J}});var n=t(66252),s=t(49963),a=t(3577),o=t(87041),i=t(79885),u={class:"col-sm-12 mt-3"},c=(0,n._)("div",{class:"iq-card-header-toolbar text-center align-items-center mx-auto"},[(0,n._)("h1",{class:"text-center mt-3"},"تبديل المراقبين"),(0,n._)("h4",{class:"text-center mt-1 mb-3"},"في التوجيه نفسه")],-1),p=(0,n._)("div",{class:"iq-card-body p-4"},[(0,n._)("div",{class:"image-block text-center"},[(0,n._)("img",{src:o,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),l={class:"col-12 bg-white pt-2"},v={class:"sign-in-from"},d={class:"form-group"},m=(0,n._)("label",{for:"role"},"اختر نوع الاجراء",-1),f=(0,n._)("option",{value:"",selected:""},"اختر نوع الاجراء ...",-1),w=(0,n._)("option",{value:"newSupervisor_currentToLeader"},"مراقب جديد - الحالي إلى قائد",-1),h=(0,n._)("option",{value:"newSupervisor_currentToAmbassador"},"مراقب جديد - الحالي إلى سفير",-1),b=(0,n._)("option",{value:"supervisorsSwap"},"تبديل بين مراقبين",-1),k=[f,w,h,b],S={class:"form-group"},_=(0,n._)("label",{for:"currentSupervisor"},"المراقب الحالي",-1),g={key:0,style:{color:"red"}},y={key:1,style:{color:"red"}},x={class:"form-group"},$=(0,n._)("label",{for:"newSupervisor"},"المراقب الجديد",-1),Z={key:0,style:{color:"red"}},T={key:1,style:{color:"red"}},q={key:0,class:"form-group"},L=(0,n._)("label",{for:"newLeader"},"القائد الجديد",-1),D={key:0,style:{color:"red"}},A={key:1,style:{color:"red"}},F={key:1,class:"form-group text-center"},C={style:{color:"red"}},O={key:2,class:"col-sm-12 text-center"},U=(0,n._)("p",{class:"text-center"},"جاري التبديل",-1),V=(0,n._)("img",{src:i,alt:"loader",style:{height:"100px"}},null,-1),H=[U,V],Y={key:3,class:"d-inline-block w-100"},M=["disabled"];function z(r,e,t,o,i,f){var w=(0,n.up)("iq-card");return(0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(w,{class:"iq-card"},{default:(0,n.w5)((function(){return[c,p,(0,n._)("div",l,[(0,n._)("div",v,[(0,n._)("div",d,[m,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":e[0]||(e[0]=function(r){return i.formOption=r}),class:"form-select","data-trigger":"",name:"role",id:"role",onChange:e[1]||(e[1]=function(r){return f.displayForm()})},k,544),[[s.bM,i.formOption]])]),i.formOption?((0,n.wg)(),(0,n.iD)("form",{key:0,class:"mt-2",onSubmit:e[5]||(e[5]=(0,s.iM)((function(r){return f.onSubmit()}),["prevent"]))},[(0,n._)("div",S,[_,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[2]||(e[2]=function(r){return o.v$.form.currentSupervisor.$model=r}),type:"email",class:"form-control mb-0",id:"currentSupervisor",placeholder:"ادخل بريد المراقب الحالي"},null,512),[[s.nr,o.v$.form.currentSupervisor.$model]]),o.v$.form.currentSupervisor.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[o.v$.form.currentSupervisor.required.$invalid?((0,n.wg)(),(0,n.iD)("small",g,"البريد الالكتروني للمراقب الحالي مطلوب")):(0,n.kq)("",!0),o.v$.form.currentSupervisor.email.$invalid?((0,n.wg)(),(0,n.iD)("small",y,"البريد الالكتروني للمراقب الحالي غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),(0,n._)("div",x,[$,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[3]||(e[3]=function(r){return o.v$.form.newSupervisor.$model=r}),type:"email",class:"form-control mb-0",id:"newSupervisor",placeholder:"ادخل بريد المراقب الجديد"},null,512),[[s.nr,o.v$.form.newSupervisor.$model]]),o.v$.form.newSupervisor.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[o.v$.form.newSupervisor.required.$invalid?((0,n.wg)(),(0,n.iD)("small",Z,"البريد الالكتروني للمراقب الجديد مطلوب")):(0,n.kq)("",!0),o.v$.form.newSupervisor.email.$invalid?((0,n.wg)(),(0,n.iD)("small",T,"البريد الالكتروني للمراقب الجديد غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),i.newSupervisor_currentToAmbassador?((0,n.wg)(),(0,n.iD)("div",q,[L,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[4]||(e[4]=function(r){return o.v$.form.newLeader.$model=r}),type:"email",class:"form-control mb-0",id:"newLeader",placeholder:"ادخل بريد القائد الجديد"},null,512),[[s.nr,o.v$.form.newLeader.$model]]),o.v$.form.newLeader.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[o.v$.form.newLeader.required.$invalid?((0,n.wg)(),(0,n.iD)("small",D,"البريد الالكتروني القائد الجديد مطلوب")):(0,n.kq)("",!0),o.v$.form.newLeader.email.$invalid?((0,n.wg)(),(0,n.iD)("small",A,"البريد الالكتروني القائد الجديد غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)])):(0,n.kq)("",!0),i.message?((0,n.wg)(),(0,n.iD)("div",F,[(0,n._)("small",C,(0,a.zw)(i.message),1)])):(0,n.kq)("",!0),i.loader?((0,n.wg)(),(0,n.iD)("div",O,H)):((0,n.wg)(),(0,n.iD)("div",Y,[(0,n._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:i.loader}," تبديل ",8,M)]))],32)):(0,n.kq)("",!0)])])]})),_:1})])}var P=t(50124),R=t(48534),W=t(5705),j=t(10760),B=t(79113),E={name:"Assign Administrator",setup:function(){return{v$:(0,W.ZP)()}},data:function(){return{loader:!1,form:{currentSupervisor:"",newSupervisor:"",newLeader:""},message:"",formOption:"",supervisorsSwap:!1,newSupervisor_currentToAmbassador:!1,newSupervisor_currentToLeader:!1}},validations:function(){return{form:{currentSupervisor:{required:j.C1,email:j.Do},newSupervisor:{required:j.C1,email:j.Do},newLeader:{required:(0,j.CF)((function(){return this.newSupervisor_currentToAmbassador})),email:j.Do}}}},methods:{displayForm:function(){switch(this.formOption){case"supervisorsSwap":this.supervisorsSwap=!0,this.newSupervisor_currentToAmbassador=!1,this.newSupervisor_currentToLeader=!1,this.resetForm();break;case"newSupervisor_currentToAmbassador":this.supervisorsSwap=!1,this.newSupervisor_currentToAmbassador=!0,this.newSupervisor_currentToLeader=!1,this.resetForm();break;case"newSupervisor_currentToLeader":this.supervisorsSwap=!1,this.newSupervisor_currentToAmbassador=!1,this.newSupervisor_currentToLeader=!0,this.resetForm();break;default:this.supervisorsSwap=!1,this.newSupervisor_currentToAmbassador=!1,this.newSupervisor_currentToLeader=!1,this.resetForm()}},onSubmit:function(){var r=this;return(0,R.Z)((0,P.Z)().mark((function e(){var t;return(0,P.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r.v$.$validate(),r.v$.$error){e.next=36;break}if(r.loader=!0,e.prev=3,r.message="",t=null,!r.supervisorsSwap){e.next=12;break}return e.next=9,B.Z.supervisorsSwap(r.form);case 9:t=e.sent,e.next=25;break;case 12:if(!r.newSupervisor_currentToAmbassador){e.next=18;break}return e.next=15,B.Z.newSupervisor_currentToAmbassador(r.form);case 15:t=e.sent,e.next=25;break;case 18:if(!r.newSupervisor_currentToLeader){e.next=24;break}return e.next=21,B.Z.newSupervisor_currentToLeader(r.form);case 21:t=e.sent,e.next=25;break;case 24:r.message="يجب اختيار نوع الاجراء!";case 25:r.message=t,r.resetForm(),setTimeout((function(){r.message=""}),1800),e.next=33;break;case 30:e.prev=30,e.t0=e["catch"](3),r.message="حدث خطأ, يرجى المحاولة لاحقاً";case 33:return e.prev=33,r.loader=!1,e.finish(33);case 36:case"end":return e.stop()}}),e,null,[[3,30,33,36]])})))()},resetForm:function(){this.v$.form.$reset(),this.form={currentSupervisor:"",newSupervisor:""}}}},G=t(83744);const I=(0,G.Z)(E,[["render",z]]);var J=I},87041:function(r,e,t){r.exports=t.p+"img/supervisors-swap.676723a2.png"}}]);
//# sourceMappingURL=5647-legacy.51b5b58c.js.map