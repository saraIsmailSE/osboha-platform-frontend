"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[4023],{90031:function(t,s,a){var e=a(66252),i=a(24150);class n{constructor(){this.prefix="general-conversations"}async addQuestion(t){const s=new FormData;if(s.append("question",t.question),t.media&&t.media.length>0)for(let e=0;e<t.media.length;e++)s.append("media[]",t.media[e]);try{const t=await i.hi.post(`${this.prefix}/questions`,s,{headers:{"Content-type":"multipart/form-data"}});return t.data}catch(a){(0,e.S3)(a)}}async addAnswer(t){const s=new FormData;s.append("answer",t.answer),s.append("question_id",t.question_id),t.image&&s.append("image",t.image);try{const t=await i.hi.post(`${this.prefix}/answers`,s,{headers:{"Content-type":"multipart/form-data"}});return t.data}catch(a){(0,e.S3)(a)}}async getQuestions(t){try{const s=await i.hi.get(`${this.prefix}/questions?page=${t}`);return s.data}catch(s){(0,e.S3)(s)}}async getQuestionById(t){try{const s=await i.hi.get(`${this.prefix}/questions/${t}`);return s.data}catch(s){(0,e.S3)(s)}}async getMyQuestions(t){try{const s=await i.hi.get(`${this.prefix}/questions/my-questions?page=${t}`);return s.data}catch(s){(0,e.S3)(s)}}async getAssignedToMeQuestions(t){try{const s=await i.hi.get(`${this.prefix}/questions/assigned-to-me?page=${t}`);return s.data}catch(s){(0,e.S3)(s)}}async solveQuestion(t){try{const s=await i.hi.put(`${this.prefix}/questions/${t}/solve`);return s.data}catch(s){(0,e.S3)(s)}}async closeQuestion(t){try{const s=await i.hi.put(`${this.prefix}/questions/${t}/close`);return s.data}catch(s){(0,e.S3)(s)}}async assignToParent(t){try{const s=await i.hi.put(`${this.prefix}/questions/${t}/assign-to-parent`);return s.data}catch(s){(0,e.S3)(s)}}async getStatistics(){try{const t=await i.hi.get(`${this.prefix}/questions/statistics`);return t.data}catch(t){(0,e.S3)(t)}}async closeOverdueQuestions(){try{const t=await i.hi.put(`${this.prefix}/questions/close-overdue`);return t.data}catch(t){(0,e.S3)(t)}}async addWorkingHours(t,s){try{const a=await i.hi.post(`${this.prefix}/working-hours`,{date:t,minutes:s});return a.data}catch(a){(0,e.S3)(a)}}async getWorkingHours(){try{const t=await i.hi.get(`${this.prefix}/working-hours`);return t.data}catch(t){(0,e.S3)(t)}}async getWorkingHoursStatistics(t=""){try{const s=await i.hi.get(`${this.prefix}/working-hours/statistics?date=${t}`);return s.data}catch(s){(0,e.S3)(s)}}async addFollowup(){try{const t=await i.hi.post(`${this.prefix}/followup`);return t.data}catch(t){(0,e.S3)(t)}}async getFollowupStatistics(){try{const t=await i.hi.get(`${this.prefix}/followup/statistics`);return t.data}catch(t){(0,e.S3)(t)}}}s.Z=new n},60351:function(t,s,a){a.d(s,{So:function(){return e},Wx:function(){return n},b5:function(){return o},gg:function(){return r},jx:function(){return i}});const e={ambassador:"سفير",leader:"قائد",supervisor:"مراقب",advisor:"موجه",consultant:"مستشار",admin:"ادارة",book_quality_team:"جودة الكتب"},i={arabic:"اللغة العربية",english:"اللغة الانجليزية"},n={normal:"منهج",ramadan:"رمضان",young:"يافعين",kids:"أطفال",tafseer:"تفسير",free:"كتاب حر"},r={January:"يناير",February:"فبراير",March:"مارس",April:"ابريل",May:"مايو",June:"يونيو",July:"يوليو",August:"أغسطس",September:"سبتمبر",October:"أكتوبر",November:"نوفمبر",December:"ديسمبر"},o={"01":"يناير","02":"فبراير","03":"مارس","04":"ابريل","05":"مايو","06":"يونيو","07":"يوليو","08":"أغسطس","09":"سبتمبر",10:"أكتوبر",11:"نوفمبر",12:"ديسمبر"}},54023:function(t,s,a){a.r(s),a.d(s,{default:function(){return O}});var e=a(66252),i=a(3577),n=a(38657);const r={class:"container"},o={class:"row"},c={class:"col-lg-12"},l={class:"card"},u=(0,e._)("div",{class:"card-header"},[(0,e._)("div",{class:"header-title"},[(0,e._)("h4",{class:"card-title bg-primary text-white text-center px-2 py-3"}," إحصائيات تفقد التحويل العام ")])],-1),d={class:"card-body"},h={key:0,class:"col-sm-12 text-center"},p=(0,e._)("img",{src:n,alt:"loader"},null,-1),g=[p],y={key:1,class:"col-12 col-md-12 col-lg-12"},w={class:"card"},f={class:"card-title"},_={class:"text-center"},m={class:"card-body"},v={class:"blog-description"},S={class:"table w-100 table-bordered"},x=(0,e._)("thead",null,[(0,e._)("tr",{class:"py-3"},[(0,e._)("th",{scope:"col"},"الاسم"),(0,e._)("th",{scope:"col"},"الرتبة"),(0,e._)("th",{scope:"col"},"الأحد"),(0,e._)("th",{scope:"col"},"الاثنين"),(0,e._)("th",{scope:"col"},"الثلاثاء"),(0,e._)("th",{scope:"col"},"الأربعاء"),(0,e._)("th",{scope:"col"},"الخميس"),(0,e._)("th",{scope:"col"},"الجمعة"),(0,e._)("th",{scope:"col"},"السبت")])],-1),b=(0,e._)("hr",null,null,-1);function $(t,s,a,n,p,$){return(0,e.wg)(),(0,e.iD)("div",r,[(0,e._)("div",o,[(0,e._)("div",c,[(0,e._)("div",l,[u,(0,e._)("div",d,[p.loading?((0,e.wg)(),(0,e.iD)("div",h,g)):((0,e.wg)(),(0,e.iD)("div",y,[(0,e._)("div",w,[(0,e._)("div",f,[(0,e._)("h4",_,"الأسبوع "+(0,i.zw)($.weekTitle),1)]),(0,e._)("div",m,[(0,e._)("div",v,[(0,e._)("table",S,[x,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(p.statistics,((t,s)=>((0,e.wg)(),(0,e.iD)("tr",{key:s},[(0,e._)("td",null,(0,i.zw)(t.user.name),1),(0,e._)("td",null,(0,i.zw)(p.ARABIC_ROLES[t.user.roles[0]]),1),((0,e.wg)(),(0,e.iD)(e.HY,null,(0,e.Ko)(7,(s=>{var a,n,r,o,c,l;return(0,e._)("td",{class:(0,i.C_)([{"bg-danger":(null!==(a=null===(n=t.days[s])||void 0===n?void 0:n.counter)&&void 0!==a?a:0)<2,"bg-primary":(null!==(r=null===(o=t.days[s])||void 0===o?void 0:o.counter)&&void 0!==r?r:0)>=2},"text-white text-center"]),key:s},(0,i.zw)(null!==(c=null===(l=t.days[s])||void 0===l?void 0:l.counter)&&void 0!==c?c:0),3)})),64))])))),128))])]),b])])])]))])])])])])}var k=a(43144),q=a(90031),A=a(8209),D=a(60351),Q={name:"FollowupStatistics",created(){this.getStatistics()},data(){return{loading:!1,statistics:[],ARABIC_ROLES:D.So}},computed:{weekTitle(){return this.$store.state.week_title}},watch:{statistics:function(t){t&&console.log(this.objectToArray(t[0].days))}},methods:(0,k.Z)((0,k.Z)({},A.Z),{},{async getStatistics(){if(!this.loading){this.loading=!0;try{const t=await q.Z.getFollowupStatistics();this.statistics=t.data}catch(t){this.toggleErrorToast()}finally{this.loading=!1}}}})},C=a(83744);const F=(0,C.Z)(Q,[["render",$]]);var O=F},38657:function(t,s,a){t.exports=a.p+"img/loader-3.208ab985.gif"}}]);
//# sourceMappingURL=4023.d57ef355.js.map