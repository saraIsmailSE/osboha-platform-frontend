"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[5579],{89809:function(t,e,a){var s=a(24150),r=a(49579),n=a(66252);class o{async login({username:t,password:e}){try{const a=s.hi.post("/auth/signin",{username:t,password:e});return a.data.accessToken&&r.Z.setUser(a.date),a.data}catch(a){console.log(a)}}logout(){r.Z.removeUser()}async register(t,e,a,r,n,o){return await s.hi.post("/register",{name:t,gender:e,email:a,phone:r,password:n,user_type:o})}async sendEmail(){let t=null;const e=await s.hi.post("email/verification-notification").catch((t=>{t=t.response.data.message}));return{data:e.data,error:t}}async resetEmail(t){try{const e=await s.hi.post("email/reset",{email:t});return e.data.data}catch(e){return e.response}}async resetPassword(t,e,a){let r=new FormData;r.append("password",t),r.append("email",e),r.append("token",a);try{const t=await s.hi.post("password/reset",r);return t.data}catch(n){return n.response}}async forgetPassword(t){try{const e=await s.hi.post("password/forgot-password",{email:t});return e.data}catch(e){return e.response}}async sessionData(){try{const t=await s.hi.get("session-data");return t.data.data}catch(t){(0,n.S3)(t)}}async refreshToken(){try{const t=await s.hi.post("/refresh");return t.data.data}catch(t){(0,n.S3)(t)}}async returnToTeam(){try{const t=await s.hi.get("/return-to-team");return t.data.data}catch(t){(0,n.S3)(t)}}}e.Z=new o},64174:function(t,e,a){a.r(e),a.d(e,{default:function(){return U}});a(76265);var s=a(66252),r=a(3577),n=a.p+"img/confirm_mail.5ae6eebd.png";const o={class:"container-fluid p-0"},i={class:"row no-gutters"},c={class:"col-sm-12 text-center"},l={class:"iq-error position-relative mt-5"},d=(0,s._)("img",{src:n,class:"img-fluid iq-error-img",alt:"confirm email"},null,-1),u=(0,s._)("h2",{class:"mb-2 text-center"},"تفقد بريدك الالكتروني",-1),m=(0,s._)("p",{class:"text-center"},"قم بتاكيد بريدك الالكتروني لتستطيع استخذام الموقع",-1),p={class:"alert alert-warning w-75 m-auto",role:"alert"},h={class:"d-inline-block w-100 text-center"},g={key:0,class:"text-center",style:{color:"red"}},w={class:"p-2 text-center text-danger"},y=(0,s._)("i",{class:"material-symbols-outlined"},"logout",-1),f=(0,s._)("span",{class:"mobile-text d-lg-none ms-3"},"تسجيل خروج",-1),_=[y,f];function b(t,e,a,n,y,f){const b=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",i,[(0,s._)("div",c,[(0,s._)("div",l,[d,(0,s._)("div",null,[u,m,(0,s._)("div",p," الايميل المسجل به: "+(0,r.zw)(f.user.email),1),(0,s._)("div",h,[y.message?((0,s.wg)(),(0,s.iD)("h4",g,"تم الارسال")):(0,s.kq)("",!0),(0,s._)("button",{type:"submit",class:"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto",onClick:e[0]||(e[0]=(...t)=>f.sendMail&&f.sendMail(...t))}," اعادة ارسال البريد الالكتروني ")]),(0,s._)("h4",w,[(0,s.Uk)(" اذا كنت تواجه مشكلة في تأكيد بريدك الالكتروني الحالي يمكن إعادة تعيينه من "),(0,s.Wm)(b,{to:{name:"auth.reset-email"}},{default:(0,s.w5)((()=>[(0,s.Uk)(" هنا ")])),_:1},8,["to"])]),(0,s._)("a",{href:"javascript:void(0);",class:"d-flex align-items-center m-3",onClick:e[1]||(e[1]=(...t)=>f.logout&&f.logout(...t))},_)])])])])])}a(70560);var k=a(89809),v=(a(49579),{name:"ConfirmMail",data(){return{message:!1}},methods:{async sendMail(){this.message=!0,await k.Z.sendEmail()},logout(){this.$store.dispatch("logout"),this.$router.push({name:"osboha"})}},computed:{user(){return this.$store.getters.getUser}}}),x=a(83744);const C=(0,x.Z)(v,[["render",b]]);var U=C}}]);
//# sourceMappingURL=5579.7095ef48.js.map