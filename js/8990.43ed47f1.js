"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[8990],{94268:function(t,e,r){var s=r(24150);class a{constructor(){this.prefix="audit-marks"}async groupAuditMarks(t){try{const e=await s.hi.get(`${this.prefix}/group-audit-marks/${t}`).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return e.data.data}catch(e){return e}}async markForAudit(t){try{const e=await s.hi.get(`${this.prefix}/mark-for-audit/${t}`).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return e.data.data}catch(e){return e}}async updateMarkForAuditStatus(t,e){try{const r=s.hi.patch(`${this.prefix}/update-mark-for-audit-status/${e}`,{status:t}).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return r.data.data}catch(r){return r}}async addNote(t){try{const e=await s.hi.post(`/${this.prefix}/add-note`,t,{headers:{"Content-type":"multipart/form-data"}}).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return e.data.data}catch(e){return e}}async groupsAudit(t){try{const e=await s.hi.get(`/${this.prefix}/groups-audit/${t}`).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return e.data.data}catch(e){return e}}async supervisorsAudit(t){try{const e=await s.hi.get(`/${this.prefix}/supervisors-audit/${t}`).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return e.data.data}catch(e){return e}}async advisorMainAudit(t){try{const e=await s.hi.get(`/${this.prefix}/advisor-main-audit/${t}`).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return e.data.data}catch(e){return e}}async getNotes(t){try{const e=await s.hi.get(`/${this.prefix}/get-notes/${t}`).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return e.data.data}catch(e){return e}}async pendingTheses(t){try{const e=await s.hi.get(`/${this.prefix}/pending-theses/${t}`).catch((t=>{t.response?(0,s.LO)(t.response.status):t.request?console.log(t.request):console.log("Error",t.message)}));return e.data.data}catch(e){return e}}}e.Z=new a},69887:function(t,e,r){r.d(e,{Z:function(){return y}});var s=r(66252),a=r(3577);const o=t=>((0,s.dD)("data-v-347baa10"),t=t(),(0,s.Cn)(),t),n={key:0,class:"d-flex align-items-center p-3"},i={class:"d-flex align-items-center w-100 row"},u={class:"col-lg-3 col-md-3 col-sm-12 ms-3"},c={class:"d-inline-block"},l={class:"col-lg-5 col-md-5 col-sm-12 form-check mt-2"},d={class:"d-block w-100"},p={class:"progress"},g={class:"col-lg-3 col-md-3 col-sm-12 text-center"},h=o((()=>(0,s._)("span",{class:"badge bg-primary ms-0 ms-md-3 my-1 my-md-0 w-75 text-center text-white",role:"button"},"عرض ",-1)));function m(t,e,r,o,m,f){const v=(0,s.up)("BaseAvatar"),k=(0,s.up)("router-link");return r.audit?((0,s.wg)(),(0,s.iD)("li",n,[(0,s.Wm)(v,{profileImg:r.audit.mark.user.user_profile.profile_picture,profile_id:r.audit.mark.user.user_profile.id,title:r.audit.mark.user.name,gender:r.audit.mark.user.gender,avatarClass:"rounded-circle avatar-40"},null,8,["profileImg","profile_id","title","gender"]),(0,s._)("div",i,[(0,s._)("div",u,[(0,s._)("h6",c,[(0,s._)("span",{class:(0,a.C_)(`ms-2 rounded badge text-white ${f.statusClass(r.audit.status)}`)},(0,a.zw)(m.audit_status[r.audit.status]),3),(0,s._)("strong",null,(0,a.zw)(r.audit.mark.user.name),1)])]),(0,s._)("div",l,[(0,s._)("div",d,[(0,s._)("div",p,[(0,s._)("div",{class:(0,a.C_)([`${f.markClass(r.audit.mark.reading_mark+r.audit.mark.writing_mark+r.audit.mark.support)}`,"progress-bar progress-bar-striped"]),role:"progressbar","aria-valuenow":"90","aria-valuemin":"0","aria-valuemax":"100",style:(0,a.j5)(`width: ${r.audit.mark.reading_mark+r.audit.mark.writing_mark+r.audit.mark.support}%;`)},null,6)])])]),(0,s._)("div",g,[(0,s.Wm)(k,{to:{name:"group.markAudit",params:{mark_for_audit:r.audit.id}}},{default:(0,s.w5)((()=>[h])),_:1},8,["to"])])])])):(0,s.kq)("",!0)}var f={name:"Achievement Progress",props:{audit:{type:[Object],required:!0}},data(){return{audit_status:{acceptable:"مقبول",unacceptable:"مرفوض",not_audited:"لم يتم تدقيقه"}}},methods:{markClass(t){switch(t){case 100:return"full-mark";case 0:return"zero-mark";default:return"incomplete"}},statusClass(t){switch(t){case"acceptable":return"bg-primary";case"unacceptable":return"bg-danger";default:return"bg-dark"}}}},v=r(83744);const k=(0,v.Z)(f,[["render",m],["__scopeId","data-v-347baa10"]]);var y=k},48990:function(t,e,r){r.r(e),r.d(e,{default:function(){return A}});var s=r(66252),a=r(3577);const o={class:"col-12"},n={class:"card card-block card-stretch card-height blog"},i=(0,s._)("div",{class:"card-header"},[(0,s._)("h2",null,"تدقيق المراقبين")],-1),u={class:"card-body"},c={class:"book-title mb-2",style:{direction:"rtl"}},l=["onClick"],d={key:0,class:"table w-100"},p=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"السفير"),(0,s._)("th",{scope:"col"},"من تدقيق المراقب")])],-1),g={key:0,class:"align-middle text-center"},h=(0,s._)("span",null,"❌ ",-1),m=[h],f={key:1,class:"align-middle text-center"},v=(0,s._)("span",null," ✅ ",-1),k=[v],y=(0,s._)("hr",null,null,-1);function _(t,e,r,h,v,_){const w=(0,s.up)("AchievementProgress");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",n,[i,(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.supervisors,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{class:"blog-description",key:e},[(0,s._)("h3",c,[(0,s._)("span",{role:"button",onClick:t=>_.showSupervisors(e),class:"align-middle material-symbols-outlined"}," visibility ",8,l),(0,s.Uk)(" "+(0,a.zw)(e),1)]),v.supervisorsList[e]?((0,s.wg)(),(0,s.iD)("table",d,[p,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e},[(0,s._)("td",null,[(0,s.Wm)(w,{audit:t.audit_mark},null,8,["audit"])]),"not_of_supervisor_audit"==t.audit_mark.type.name?((0,s.wg)(),(0,s.iD)("td",g,m)):((0,s.wg)(),(0,s.iD)("td",f,k))])))),128))])])):(0,s.kq)("",!0),y])))),128))])])])}r(278),r(70560),r(76801),r(43843);var w=r(94268),b=r(69887),x={name:"Advisor Audit",async created(){try{const t=await w.Z.advisorMainAudit(this.$route.params.advisor_id);this.supervisors=Object.keys(t).reduce(((e,r)=>{let s=t[r].supervisor_name;return e[s]||(e[s]=[]),e[s].push(t[r]),e}),{}),this.audit=t}catch(t){console.log(t)}},components:{AchievementProgress:b.Z},data(){return{audit:[],supervisors:[],supervisorsList:{}}},methods:{showSupervisors(t){Object.keys(this.supervisorsList).forEach((t=>{this.supervisorsList[t]=!1})),this.supervisorsList[t]=!0},addKeyIfNotExists(t,e,r){Object.keys(t).includes(e)||(t[e]=r)}}},q=r(83744);const $=(0,q.Z)(x,[["render",_]]);var A=$},16834:function(t,e,r){var s=r(3689);t.exports=function(t,e){var r=[][t];return!!r&&s((function(){r.call(null,e||function(){return 1},1)}))}},88820:function(t,e,r){var s=r(10509),a=r(90690),o=r(94413),n=r(6310),i=TypeError,u=function(t){return function(e,r,u,c){s(r);var l=a(e),d=o(l),p=n(l),g=t?p-1:0,h=t?-1:1;if(u<2)while(1){if(g in d){c=d[g],g+=h;break}if(g+=h,t?g<0:p<=g)throw new i("Reduce of empty array with no initial value")}for(;t?g>=0:p>g;g+=h)g in d&&(c=r(c,d[g],g,l));return c}};t.exports={left:u(!1),right:u(!0)}},27413:function(t,e,r){var s=r(44201),a=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[a]=!1,"/./"[t](e)}catch(s){}}return!1}},42124:function(t,e,r){var s=r(91245),a=TypeError;t.exports=function(t){if(s(t))throw new a("The method doesn't accept regular expressions");return t}},76801:function(t,e,r){var s=r(79989),a=r(84328).includes,o=r(3689),n=r(87370),i=o((function(){return!Array(1).includes()}));s({target:"Array",proto:!0,forced:i},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},278:function(t,e,r){var s=r(79989),a=r(88820).left,o=r(16834),n=r(3615),i=r(50806),u=!i&&n>79&&n<83,c=u||!o("reduce");s({target:"Array",proto:!0,forced:c},{reduce:function(t){var e=arguments.length;return a(this,t,e,e>1?arguments[1]:void 0)}})},43843:function(t,e,r){var s=r(79989),a=r(68844),o=r(42124),n=r(74684),i=r(34327),u=r(27413),c=a("".indexOf);s({target:"String",proto:!0,forced:!u("includes")},{includes:function(t){return!!~c(i(n(this)),i(o(t)),arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=8990.43ed47f1.js.map