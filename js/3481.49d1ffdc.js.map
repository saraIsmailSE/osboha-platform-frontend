{"version":3,"file":"js/3481.49d1ffdc.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/user-books.service.js","webpack://Osboha180/./src/views/Book/LaterBooks.vue","webpack://Osboha180/./src/views/Book/LaterBooks.vue?b079"],"sourcesContent":["import { handleError } from \"vue\";\nimport { api } from \"../Intercepter\";\n\nclass UserBooks {\n  //Finished\n  async getUserBooks(user_id) {\n    try {\n      const books = await api.get(`user-books/show/${user_id}`);\n      return books.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  //All Free\n  async getAllFree(page, user_id) {\n    try {\n      const books = await api.get(`user-books/free-books/${user_id}/${page}`);\n      return books.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * Check rules for free book.\n   *\n   * @param user_id\n   * @return jsonResponse[eligible_to_write_thesis boolean]\n   */\n  async eligibleToWriteThesis(user_id) {\n    try {\n      const response = await api.get(\n        `user-books/eligible-to-write-thesis/${user_id}`\n      );\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  //All Later\n  async laterBooks(user_id) {\n    try {\n      const books = await api.get(`user-books/later-books/${user_id}`);\n      return books.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n  //delete for later book\n  async deleteForLeater(id) {\n    try {\n      const books = await api.get(`user-books/delete-for-later-book/${id}`);\n      return books.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async saveBookForLater(bookId) {\n    try {\n      const book = await api.patch(`/user-books/${bookId}/save-for-later`);\n      return book.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n}\n\nexport default new UserBooks();\n","<template>\r\n  <div class=\"col-sm-12 mt-3 text-center\">\r\n    <iq-card class=\"iq-card\">\r\n      <div class=\"iq-card-header-toolbar d-flex align-items-center mx-auto\">\r\n        <h3 class=\"text-center mt-3 mb-3\">كتب للقراءة لاحقاً</h3>\r\n      </div>\r\n      <div class=\"iq-card-body p-3\">\r\n        <div class=\"image-block text-center\">\r\n          <img src=\"@/assets/images/main/reading_list.png\" class=\"img-fluid rounded w-50\" alt=\"profile-img\" />\r\n        </div>\r\n        <ul class=\"mt-3 list-group\" v-if=\"books.length > 0\">\r\n          <li class=\"list-group-item d-flex justify-content-between align-items-center\" v-for=\"book in books\"\r\n            :key=\"book.id\">\r\n            <router-link :to=\"{\r\n              name: 'book.book-details',\r\n              params: { book_id: book.book.id },\r\n            }\">\r\n              <h5 role=\"button\">{{ book.book.name }}</h5>\r\n            </router-link>\r\n            <div>\r\n              <span class=\"rounded-pill badge bg-primary\">\r\n                {{ book.book.section.section }}\r\n              </span>\r\n              <span role=\"button\" class=\"align-middle material-symbols-outlined later-book later-book-on ms-2\"\r\n                @click=\"deleteForLeater(book.id)\" v-if=\"isAuth\">\r\n                delete\r\n              </span>\r\n\r\n            </div>\r\n\r\n          </li>\r\n        </ul>\r\n\r\n        <ul class=\"mt-3 list-group\" v-else>\r\n          <h4 class=\"text-center mt-3 mb-3\">لا يوجد كتب</h4>\r\n          <router-link v-if=\"isAuth\" class=\"btn btn-primary w-100\" aria-current=\"page\" :to=\"{ name: 'osboha.book' }\">\r\n            أضف للقائمة\r\n          </router-link>\r\n        </ul>\r\n      </div>\r\n    </iq-card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport userBookService from \"@/API/services/user-books.service\";\r\nimport helper from \"@/utilities/helper\";\r\n\r\nexport default {\r\n  name: \"Later Books\",\r\n  async created() {\r\n    this.books = await userBookService.laterBooks(this.$route.params.user_id);\r\n  },\r\n  data() {\r\n    return {\r\n      books: [],\r\n    };\r\n  },\r\n  computed: {\r\n    isAuth() {\r\n      return (\r\n        this.$store.getters.getUser.id === parseInt(this.$route.params.user_id)\r\n      );\r\n    },\r\n  },\r\n  methods: {\r\n    async deleteForLeater(id) {\r\n      this.books = await userBookService.deleteForLeater(id);\r\n      helper.toggleToast(\r\n        \"تم الحذف \",\r\n        \"success\"\r\n      );\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.later-book {\r\n  font-variation-settings:\r\n    'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 48\r\n}\r\n\r\n.later-book-on {\r\n  color: darkred;\r\n}\r\n</style>","import { render } from \"./LaterBooks.vue?vue&type=template&id=495c99b6\"\nimport script from \"./LaterBooks.vue?vue&type=script&lang=js\"\nexport * from \"./LaterBooks.vue?vue&type=script&lang=js\"\n\nimport \"./LaterBooks.vue?vue&type=style&index=0&id=495c99b6&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["UserBooks","getUserBooks","user_id","books","api","get","data","error","getAllFree","page","eligibleToWriteThesis","response","laterBooks","deleteForLeater","id","saveBookForLater","bookId","book","patch","handleError","class","_createElementVNode","src","_imports_0","alt","role","_createElementBlock","_hoisted_1","_createVNode","_component_iq_card","_hoisted_2","_hoisted_3","_hoisted_4","$data","length","_hoisted_5","_Fragment","_renderList","key","_component_router_link","to","_hoisted_6","_toDisplayString","name","_hoisted_7","section","$options","isAuth","onClick","$event","_hoisted_8","_hoisted_9","_hoisted_10","_createBlock","created","this","userBookService","$route","params","computed","$store","getters","getUser","parseInt","methods","helper","toggleToast","__exports__","render"],"sourceRoot":""}