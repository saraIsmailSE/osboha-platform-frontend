{"version":3,"file":"js/8469-legacy.b3f36f1e.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/notifications.service.js","webpack://Osboha180/./src/views/OsbohaMain/Notifications/Notification.vue","webpack://Osboha180/./src/views/OsbohaMain/Notifications/Notification.vue?d665"],"sourcesContent":["import { handleError } from \"vue\";\nimport { api } from \"../Intercepter\";\n\nclass Notifications {\n  constructor() {\n    this.prefix = \"notifications\";\n  }\n\n  /**\n   * list all Unread Notifications.\n   * @return Unread Notifications\n   */\n  async listUnreadNotification() {\n    try {\n      const response = await api.get(`${this.prefix}/un-read`);\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  /**\n   * list all Notifications.\n   * @return Unread Notifications\n   */\n  async listAllNotification(page) {\n    try {\n      const response = await api.get(`${this.prefix}/list-all?page=${page}`);\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  /**\n   * mark one notification as read\n   * @param notification_id\n   */\n  async markAsRead(notification_id) {\n    try {\n      const response = await api.get(\n        `${this.prefix}/mark-as-read/${notification_id}`\n      );\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n   * mark ALL notifications as read\n   * @param notification_id\n   */\n  async markAllAsRead() {\n    try {\n      const response = await api.get(`${this.prefix}/mark-all-as-read`);\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n}\n\nexport default new Notifications();\n","<template>\n  <div class=\"row\" ref=\"listContainer\">\n    <div class=\"col-sm-12\">\n      <h4 class=\"card-title\">الاشعارات</h4>\n\n      <div class=\"col-sm-12\" v-if=\"notifications.length == 0\">\n        <iq-card class=\"iq-card\">\n          <div class=\"iq-card-body p-0\">\n            <div class=\"image-block text-center\">\n              <img\n                src=\"@/assets/images/main/no-notifications.png\"\n                class=\"img-fluid rounded w-50\"\n                alt=\"blog-img\"\n              />\n            </div>\n\n            <h4 class=\"text-center mt-3 mb-3\">لا يوجد اشعارات</h4>\n          </div>\n        </iq-card>\n      </div>\n\n      <span\n        role=\"button\"\n        class=\"btn btn-primary mb-3\"\n        v-if=\"unreadCount > 0\"\n        style=\"direction: rtl !important\"\n        @click=\"markAllAsRead()\"\n      >\n        <i role=\"button\" class=\"material-symbols-outlined align-middle\">\n          done\n        </i>\n\n        تحديد قراءة الكل\n      </span>\n    </div>\n    <div\n      class=\"col-sm-12\"\n      v-for=\"(notification, index) in notifications\"\n      :key=\"index\"\n    >\n      <iq-card\n        :class=\"[seenClass(notification.read_at), notification.data.type]\"\n      >\n        <template v-slot:body>\n          <div class=\"notification-list m-0 p-0\">\n            <div class=\"d-flex align-items-center justify-content-between\">\n              <base-avatar\n                :profileImg=\"\n                  notification.data.sender.user_profile.profile_picture\n                \"\n                :profile_id=\"notification.data.sender.user_profile.id\"\n                :title=\"notification.data.sender.name\"\n                :gender=\"notification.data.sender.gender\"\n                avatarClass=\"rounded-circle avatar-40\"\n              />\n              <div class=\"w-100\">\n                <div class=\"d-flex justify-content-between\">\n                  <div class=\"ms-3\">\n                    <h6\n                      style=\"direction: rtl\"\n                      :class=\"{\n                        'text-white': isWhite(notification),\n                      }\"\n                    >\n                      {{ notification.data.message }}\n                    </h6>\n                    <tooltip\n                      tag=\"span\"\n                      class=\"text-muted small\"\n                      :class=\"{\n                        'text-white-50': isWhite(notification),\n                      }\"\n                      tooltipPlacement=\"bottom\"\n                      data-bs-toggle=\"tooltip\"\n                      :title=\"formatFullDate(notification.created_at)\"\n                      >{{ formatDateToWritten(notification.created_at) }}\n                    </tooltip>\n                  </div>\n\n                  <div class=\"d-flex align-items-center\">\n                    <span\n                      role=\"button\"\n                      class=\"me-1\"\n                      :class=\"{\n                        'text-white': isWhite(notification),\n                      }\"\n                      @click.prevent=\"\n                        sendToPage(notification.data.path, notification.id)\n                      \"\n                      v-if=\"notification.data.path\"\n                    >\n                      عرض\n                    </span>\n                    <i\n                      role=\"button\"\n                      class=\"material-symbols-outlined md-18 me-3\"\n                      :class=\"{\n                        'text-white': isWhite(notification),\n                      }\"\n                      v-if=\"!notification.read_at\"\n                      @click=\"markAsRead(notification.id)\"\n                    >\n                      done\n                    </i>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </template>\n      </iq-card>\n    </div>\n  </div>\n</template>\n<script>\nimport helper from \"@/utilities/helper\";\nimport notificationsServices from \"@/API/services/notifications.service\";\n\nexport default {\n  name: \"Notification\",\n  created() {\n    this.loadNotifications();\n  },\n  async mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n  beforeUnmount() {\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  },\n  data() {\n    return {\n      notifications: [],\n      notifications_route: [],\n      notification_route: {\n        friends_requests: \"user.friendsRequests\",\n      },\n\n      page: 1,\n      totalPages: 1,\n      loading: false,\n      pendingRequest: false,\n      hasMore: true,\n      unRead: false,\n    };\n  },\n  computed: {\n    hasMoreToLoad() {\n      return this.page <= this.totalPages && this.hasMore;\n    },\n    unreadCount() {\n      return this.notifications.length;\n    },\n  },\n  methods: {\n    ...helper,\n    async loadNotifications() {\n      if (this.pendingRequest) {\n        return;\n      }\n\n      this.pendingRequest = true;\n      this.loading = true;\n      try {\n        let response = await notificationsServices.listAllNotification(\n          this.page,\n        );\n        this.notifications = response.data;\n        console.log(response.data[0].data.type);\n        this.checkUnread();\n\n        this.totalPages = response.data?.last_page ?? 1;\n        this.page++;\n\n        if (response.statusCode === 200 && !response.data) {\n          this.hasMore = false;\n          return;\n        }\n      } catch (error) {\n        console.log(error);\n        // helper.toggleToast(\n        //   \"حدث خطأ أثناء تحميل الإشعارات, حاول مرة أخرى\",\n        //   \"error\"\n        // );\n      } finally {\n        this.loading = false;\n        this.pendingRequest = false;\n      }\n    },\n    /**\n     * Check if the user has scrolled to the bottom of the page\n     * @returns {boolean}\n     */\n    isAtBottomOfPage() {\n      const containerRect = this.$refs.listContainer.getBoundingClientRect();\n      const containerBottom = containerRect.bottom;\n      const windowHeight = window.innerHeight;\n      return containerBottom <= windowHeight;\n    },\n    /*\n     * Load more posts when the user scrolls to the bottom of the page\n     */\n    handleScroll() {\n      if (this.hasMoreToLoad && this.isAtBottomOfPage()) {\n        this.loadNotifications();\n      }\n    },\n\n    /**\n     * return bg color class.\n     *  @param  read_at\n     * @return class\n     */\n    seenClass(read_at) {\n      if (read_at) {\n        return \"seen\";\n      } else {\n        return \"un-seen\";\n      }\n    },\n    /**\n     * mark one notification as read.\n     *  @param  notification_id\n     */\n    async markAsRead(notification_id) {\n      const response = await notificationsServices.markAsRead(notification_id);\n      this.notifications = response.data;\n      this.checkUnread();\n      if (this.unreadCount > 0) {\n        this.$store.commit(\"SET_UNREAD_NOTIFICATIONS\", this.unreadCount - 1);\n      }\n    },\n\n    /**\n     * mark ALL notification as read.\n     */\n    async markAllAsRead() {\n      const response = await notificationsServices.markAllAsRead();\n      this.notifications = response.data;\n      this.checkUnread();\n      this.$store.commit(\"SET_UNREAD_NOTIFICATIONS\", 0);\n    },\n    checkUnread() {\n      function there_is_unread(notification) {\n        return notification.read_at === null;\n      }\n      // check unread\n      if (this.notifications.find(there_is_unread)) {\n        this.unRead = true;\n      }\n    },\n\n    sendToPage(path, id) {\n      if (path) {\n        this.$router.push({ path });\n      }\n      this.markAsRead(id);\n    },\n\n    isWhite(notification) {\n      return (\n        notification.data.type === \"announcement\" ||\n        notification.data.type === \"support\"\n      );\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.seen:not(.announcement, .support) {\n  --bs-bg-opacity: 1;\n  background-color: white;\n}\n\n.un-seen:not(.announcement, .support) {\n  --bs-bg-opacity: 1;\n  background-color: #e2e2e2;\n}\n\n.announcement {\n  $primary: #1f662b;\n  $secondary: rgba($primary, 0.9);\n  --bs-bg-opacity: 1;\n  background-color: $primary;\n\n  &.seen {\n    background-color: $secondary;\n  }\n}\n\n.support {\n  $primary: #831018;\n  $secondary: rgba($primary, 0.9);\n  --bs-bg-opacity: 1;\n  background-color: $primary;\n\n  &.seen {\n    background-color: $secondary;\n  }\n}\n</style>\n","import { render } from \"./Notification.vue?vue&type=template&id=266538c2&scoped=true\"\nimport script from \"./Notification.vue?vue&type=script&lang=js\"\nexport * from \"./Notification.vue?vue&type=script&lang=js\"\n\nimport \"./Notification.vue?vue&type=style&index=0&id=266538c2&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-266538c2\"]])\n\nexport default __exports__"],"names":["Notifications","_classCallCheck","this","prefix","_createClass","key","value","_listUnreadNotification","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","api","get","concat","sent","abrupt","data","t0","handleError","stop","listUnreadNotification","apply","arguments","_listAllNotification","_callee2","page","_context2","listAllNotification","_x","_markAsRead","_callee3","notification_id","_context3","markAsRead","_x2","_markAllAsRead","_callee4","_context4","markAllAsRead","class","ref","_createElementVNode","src","_imports_0","alt","role","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$data","notifications","length","_hoisted_4","_createVNode","_component_iq_card","_hoisted_5","$options","unreadCount","style","onClick","_cache","$event","_hoisted_6","_Fragment","_renderList","notification","index","_normalizeClass","seenClass","read_at","type","body","_withCtx","_hoisted_7","_hoisted_8","_component_base_avatar","profileImg","sender","user_profile","profile_picture","profile_id","id","title","name","gender","avatarClass","_hoisted_9","_hoisted_10","_hoisted_11","isWhite","message","_component_tooltip","tag","tooltipPlacement","_ctx","formatFullDate","created_at","formatDateToWritten","_hoisted_12","path","_withModifiers","sendToPage","_hoisted_13","_hoisted_14","created","loadNotifications","mounted","_this","window","addEventListener","handleScroll","beforeUnmount","removeEventListener","notifications_route","notification_route","friends_requests","totalPages","loading","pendingRequest","hasMore","unRead","computed","hasMoreToLoad","methods","_objectSpread","helper","_this2","_response$data$last_p","_response$data","notificationsServices","console","log","checkUnread","last_page","statusCode","finish","isAtBottomOfPage","containerRect","$refs","listContainer","getBoundingClientRect","containerBottom","bottom","windowHeight","innerHeight","_this3","$store","commit","_this4","there_is_unread","find","$router","push","__exports__","render"],"sourceRoot":""}