"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[5431],{34964:function(e,t,n){var r=n(50124),a=n(48534),o=n(13087),s=n(62833),c=(n(34338),n(24150)),i=n(66252),u=n(79940),l=function(){function e(){(0,o.Z)(this,e)}return(0,s.Z)(e,[{key:"create",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.post("/books",t,{headers:{"Content-type":"multipart/form-data"}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAll",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("books?page="+t);case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,u.F)(e.t0,"BookService.getById");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteById",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.delete("/books/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBooksByType",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/type/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBooksByLevel",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/level/".concat(t,"?page=").concat(n));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getBooksByName",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/name?page=".concat(n,"&name=").concat(t));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getBooksByLanguage",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/language/".concat(t,"?page=").concat(n));case 3:return a=e.sent,e.abrupt("return",a.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getBooksBySection",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/section/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRecentAddedBooks",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/recent-added-books");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMostReadableBooks",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/most-readable-books");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRandomBook",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/random-book");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"latestBooks",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("/books/latest");case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"showBasicInfo",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.get("books/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.hi.post("/books/update",t,{headers:{"Content-type":"multipart/form-data"}});case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t.Z=new l},44106:function(e,t,n){n.d(t,{Z:function(){return p}});n(59749),n(86544),n(60228),n(84254),n(21694),n(76265),n(21057);var r=n(12780);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,s=e},f:function(){try{c||null==n["return"]||n["return"]()}finally{if(i)throw s}}}}var o=n(50124),s=n(48534),c=n(13087),i=n(62833),u=(n(34338),n(66252)),l=n(24150),d=function(){function e(){(0,c.Z)(this,e)}return(0,i.Z)(e,[{key:"create",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r,a;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=new FormData,n.append("type",t.type),t.post_id&&n.append("post_id",t.post_id),t.book_id&&n.append("book_id",t.book_id),t.comment_id&&n.append("comment_id",t.comment_id),t.body&&n.append("body",t.body),t.screenShots&&t.screenShots.length>0)for(r=0;r<t.screenShots.length;r++)n.append("screenShots[]",t.screenShots[r]);return t.start_page&&n.append("start_page",t.start_page),t.end_page&&n.append("end_page",t.end_page),t.image&&n.append("image",t.image),e.prev=10,e.next=13,l.hi.post("/comments",n,{headers:{"Content-type":"multipart/form-data"}});case 13:return a=e.sent,e.abrupt("return",a.data);case 17:e.prev=17,e.t0=e["catch"](10),(0,u.S3)(e.t0);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPostComments",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,a,s=arguments;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]?s[2]:"",e.prev=1,e.next=4,l.hi.get("/comments/post/".concat(t,"/").concat(r,"?page=").concat(n));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e["catch"](1),(0,u.S3)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getPostCommentsUsers",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.hi.get("/comments/post/".concat(t,"/users"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,u.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r,s,c,i,d;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=new FormData,n.append("u_comment_id",t.u_comment_id),t.body&&n.append("body",t.body),t.screenShots&&t.screenShots.length>0)for(r=0;r<t.screenShots.length;r++)n.append("screenShots[]",t.screenShots[r]);t.start_page&&n.append("start_page",t.start_page),t.end_page&&n.append("end_page",t.end_page),t.image&&n.append("image",t.image),s=a(n.entries());try{for(s.s();!(c=s.n()).done;)i=c.value,console.log("".concat(i[0],", ").concat(i[1]))}catch(o){s.e(o)}finally{s.f()}return e.prev=9,e.next=12,l.hi.post("/comments/update",n,{"Content-type":"multipart/form-data"});case 12:return d=e.sent,e.abrupt("return",d.data);case 16:e.prev=16,e.t0=e["catch"](9),(0,u.S3)(e.t0);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.hi.delete("/comments/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0),(0,u.S3)(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),p=new d},79940:function(e,t,n){n.d(t,{F:function(){return a}});n(70560);var r=n(1120);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";throw console.log("[ERROR] ".concat(t," =>"),e.response.data),404===e.response.data.statusCode?r.Z.push({name:"NotFound"}):403===e.response.data.statusCode&&r.Z.push({name:"NotAuthorized"}),e}},82908:function(e,t,n){n.d(t,{Z:function(){return Y}});var r=n(66252),a=n(3577),o=n(49963),s=function(e){return(0,r.dD)("data-v-5cee3cfd"),e=e(),(0,r.Cn)(),e},c={class:"d-grid gap-3 d-grid-template-1fr-19"},i={class:"card mb-0"},u={class:"position-absolute top-0 end-0 p-2 rounded-start",style:{"background-color":"#278036",opacity:"50%"}},l={class:"text-white"},d={class:"position-absolute start-0 mt-2"},p={class:"card-body text-center"},f=["src"],h={class:"group-info pt-3 pb-3"},v={class:"group-details d-inline-block pb-3"},m={class:"d-flex align-items-center justify-content-between list-inline m-0 p-0"},k={class:"pe-3 ps-3"},g=s((function(){return(0,r._)("p",{class:"mb-0"},"المستوى",-1)})),b={class:"pe-3 ps-3"},y=s((function(){return(0,r._)("p",{class:"mb-0"},"الفئة",-1)})),w={class:"pe-3 ps-3"},_=s((function(){return(0,r._)("p",{class:"mb-0"},"الصفحات",-1)})),Z={key:0,class:"row"},B={key:0,class:"row d-flex justify-content-center"},x={class:"col-12"},C={key:0},S={key:1},A={key:1,class:"row d-flex justify-content-center"},I={class:"col-12"},D={key:1,class:"row"},T={class:"col-6"},F=["data-bs-target","disabled"],U={class:"col-6"},M=["id"],R={href:"javascript:void(0);",class:"lh-1","data-bs-dismiss":"modal",ref:"closeBtn"},L=s((function(){return(0,r._)("span",{class:"material-symbols-outlined"},"close",-1)})),N=[L];function P(e,t,n,s,L,P){var E,z,j,$=(0,r.up)("router-link"),q=(0,r.up)("model-header"),O=(0,r.up)("createThesis"),W=(0,r.up)("model-body"),H=(0,r.up)("modal");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",c,[(0,r._)("div",i,[(0,r._)("div",u,[(0,r._)("h6",l,(0,a.zw)(P.bookTypeLanguage),1)]),(0,r._)("div",d,[n.isProfile?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("span",{key:0,class:(0,a.C_)(["material-symbols-outlined me-2 align-middle",[P.isSaved?"later-book-on":"later-book-off"]]),role:"button",onClick:t[0]||(t[0]=(0,o.iM)((function(){return P.markBookForLater&&P.markBookForLater.apply(P,arguments)}),["prevent"]))}," favorite ",2)),(0,r._)("span",{role:"button",onClick:t[1]||(t[1]=function(e){return P.download(n.cardInfo.link)}),class:"material-symbols-outlined download-book align-middle me-3"}," download ")]),(0,r._)("div",p,[(0,r._)("img",{src:P.resolve_img_url(null!==(E=null===(z=n.cardInfo.media)||void 0===z?void 0:z.path)&&void 0!==E?E:""),class:"img-fluid rounded w-75 mt-4",alt:"blog-img"},null,8,f),(0,r._)("div",h,[(0,r._)("h4",null,[(0,r.Wm)($,{to:{name:"book.book-details",params:{book_id:this.cardInfo.id}},"data-toggle":"tooltip","data-placement":"top",title:n.cardInfo.name,class:(0,a.C_)(["truncated",P.directionClass])},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(n.cardInfo.name),1)]})),_:1},8,["to","title","class"])]),(0,r._)("p",{class:(0,a.C_)(["truncated",P.directionClass])},(0,a.zw)(n.cardInfo.writer),3)]),(0,r._)("div",v,[(0,r._)("ul",m,[(0,r._)("li",k,[g,(0,r._)("h6",null,(0,a.zw)(n.cardInfo.level.arabic_level),1)]),(0,r._)("li",b,[y,(0,r._)("h6",null,(0,a.zw)(null===(j=n.cardInfo.section)||void 0===j?void 0:j.section),1)]),(0,r._)("li",w,[_,(0,r._)("h6",null,(0,a.zw)(n.cardInfo.end_page),1)])])]),n.isProfile?((0,r.wg)(),(0,r.iD)("div",Z,[n.isAmbassador?((0,r.wg)(),(0,r.iD)("div",B,[(0,r._)("div",x,[(0,r._)("button",{type:"submit",class:"btn btn-primary d-block w-100",onClick:t[2]||(t[2]=function(e){return P.thesesDetails()})},[(0,r.Uk)(" عرض "),P.myProfile?((0,r.wg)(),(0,r.iD)("span",C," أطروحاتي ")):((0,r.wg)(),(0,r.iD)("span",S," أطروحات السفير "))])])])):((0,r.wg)(),(0,r.iD)("div",A,[(0,r._)("div",I,[(0,r._)("button",{type:"submit",class:"btn btn-primary d-block w-100",onClick:t[3]||(t[3]=function(e){return P.bookDetails()})}," صفحة الكتاب ")])]))])):((0,r.wg)(),(0,r.iD)("div",D,[(0,r._)("div",T,[(0,r._)("button",{type:"submit",class:"btn btn-primary d-block w-100","data-bs-toggle":"modal","data-bs-target":"#modal-".concat(n.cardInfo.id),disabled:!n.cardInfo.allow_comments}," كتابة أطروحة ",8,F)]),(0,r._)("div",U,[(0,r._)("button",{type:"submit",class:"btn btn-primary d-block w-100",onClick:t[4]||(t[4]=function(e){return P.bookDetails()})}," عرض الأطروحات ")])]))])])]),(0,r.Wm)(H,{class:"modal fade",id:"modal-".concat(n.cardInfo.id),dialogClass:"modal-fullscreen-sm-down",tabindex:"-1",title:"Create Thesis","aria-labelledby":"modalsLabel-".concat(n.cardInfo.id),"aria-hidden":!0},{default:(0,r.w5)((function(){return[(0,r.Wm)(q,null,{default:(0,r.w5)((function(){return[(0,r._)("h5",{class:"modal-title",id:"modalsLabel-".concat(n.cardInfo.id)},(0,a.zw)(n.cardInfo.name)+" || أطروحة جديدة ",9,M),(0,r._)("a",R,N,512)]})),_:1}),(0,r.Wm)(W,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(O,{book:n.cardInfo,lastThesis:n.cardInfo.last_thesis,onCloseModel:P.closeModel,onAddThesis:P.addThesis},null,8,["book","lastThesis","onCloseModel","onAddThesis"])]})),_:1})]})),_:1},8,["id","aria-labelledby"])],64)}var E=n(50124),z=n(48534),j=(n(70560),n(32320),n(41251)),$=n(19057),q=n(31025),O={name:"BookCard",components:{createThesis:j.Z},props:{cardInfo:{type:Object},isProfile:{type:Boolean,default:!1},isAmbassador:{type:Boolean,default:!0}},created:function(){window.addEventListener("popstate",this.popstateEventAction)},emits:["updateUserBook"],methods:{popstateEventAction:function(){var e=document.querySelector("body");e.removeAttribute("data-bs-overflow"),e.removeAttribute("data-bs-padding-right"),e.removeAttribute("style"),e.classList.remove("modal-open");for(var t=document.getElementsByClassName("modal-backdrop"),n=0;n<t.length;n++)t[n].remove();this.removePopstateEventAction()},removePopstateEventAction:function(){window.removeEventListener("popstate",this.popstateEventAction)},resolve_img_url:function(e){return e||n(21218)},bookDetails:function(){this.$router.push({name:"book.book-details",params:{book_id:this.cardInfo.id}})},thesesDetails:function(){this.$router.push({name:"book.user-theses",params:{book_id:this.cardInfo.id,user_id:this.$route.params.user_id}})},closeModel:function(){this.$refs.closeBtn.click()},addThesis:function(e){var t=this;setTimeout((function(){t.closeModel(),t.bookDetails()}),1800)},markBookForLater:function(){var e=this;return(0,z.Z)((0,E.Z)().mark((function t(){var n;return(0,E.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.Z.saveBookForLater(e.cardInfo.id);case 3:n=t.sent,q.Z.handleSuccessSwal(n.message,1800),e.$emit("updateUserBook",e.cardInfo.id,n.data?{id:n.data.id,status:n.data.status,counter:n.data.counter}:null),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("[save book error]",t.t0),q.Z.toggleToast("حدث خطأ ما أثناء حفظ الكتاب, يرجى المحاولة مرة أخرى","error");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},download:function(e){var t=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-primary btn-lg ms-2"},buttonsStyling:!1});t.fire({title:"ملاحظة هامة",text:"في مشروعنا لن لا نقوم أبدًا بتصوير الكتب المطبوعة ولا نقوم بنسب هذه الكتب للمشروع أو محاولة إخفاء أسماء دور النشر وحقوقها . إنما كل ما نقوم به هو عملية البحث عن هذه الكتب في مواقع الانترنت و إحضار روابط الحصول عليها للاستفادة منها . علمًا أننا لا نقوم بعملية بيع للكتب أو الاستفادة المادية منها مطلقًا ولكننا نؤمن أن من حق دور النشر إيجاد وسائل لمنع تصوير كتبها ووضعها على مواقع الانترنت ولكن أن يتواجد الكتاب على الانترنت مجانًا سواء عن طريق موقع لديه أذن بالنشر ، أو عن طريق كاتب الكتاب أو غيرهم ، ثم لا نقوم بقراءة هذه الكتب ونمنع أنفسنا من العلم فهذا الأمر لن يساهم في عملية ايقاف الكتب الالكترونية إنما سوف يساهم فقط بمنع أنفسنا عن علم مطروح وتقييد أنفسنا بظروف تدفعنا للجهل والتوقف عن التعلم . علمًا أن المشروع يتعهد دومًا بحذف أي كتاب من المنهج إذا لم يناسب وجوده كاتب الكتب أو دار النشر الخاصة بالكتاب ، فبإمكان كل شخص إما قراءة الكتاب مطبوعًا أو الاستفادة من النسخ التي نجمعها من مواقع الكتب المنتشرة مع إخلاء مسؤوليتنا حول إن كانت هذه المواقع لديها أذن بالنشر والتوزيع من عدمه فنترك هذا الأمر لدور النشر . هذا ونسأل الله أن يصلح نوايانا ويجعلها خالصة لوجهه الكريم وتطبيقًا لأمره لنا بالقراءة لأجل التعلم والتفكر . والله أعلم .",icon:"warning",showCancelButton:!0,confirmButtonText:"تحميل",cancelButtonText:"إلغاء",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((function(t){t.isConfirmed&&window.open(e,"_blank")}))}},computed:{bookTypeLanguage:function(){var e="كتاب ",t=this.cardInfo.type.type.toLowerCase();"normal"==t?e+="منهجي":"ramadan"==t||"tafseer"==t?e+="رمضاني":"kids"==t?e+="أطفال":"young"==t&&(e+="يافعين"),e+=" - ";var n=this.cardInfo.language.language.toLowerCase();return"arabic"==n?e+="عربي":"english"==n&&(e+="إنجليزي"),e},isSaved:function(){var e;return!!this.cardInfo.userBooks&&"later"===(null===(e=this.cardInfo.userBooks[0])||void 0===e?void 0:e.status)},myProfile:function(){return this.isProfile&&this.isAmbassador&&parseInt(this.$store.getters.getUser.id)===parseInt(this.$route.params.user_id)},directionClass:function(){return"arabic"==this.cardInfo.language.language.toLowerCase()?"right-direction":"left-direction"}}},W=n(83744);const H=(0,W.Z)(O,[["render",P],["__scopeId","data-v-5cee3cfd"]]);var Y=H},53186:function(e,t,n){n.d(t,{Z:function(){return v}});n(76801),n(43843);var r=n(66252),a={class:"preview-images"},o=["onClick"],s=(0,r._)("span",null," x ",-1),c=[s],i=["src"],u=["src"];function l(e,t,n,s,l,d){return(0,r.wg)(),(0,r.iD)("div",a,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.previewUrls,(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{class:"image-container",key:e.url},[(0,r._)("div",{class:"delete-image",onClick:function(e){return d.removeMedia(t)}},c,8,o),e.type.includes("image")?((0,r.wg)(),(0,r.iD)("img",{key:0,src:e.url},null,8,i)):((0,r.wg)(),(0,r.iD)("video",{key:1,src:e.url,autoplay:""},null,8,u))])})),128))])}var d=n(89584),p=(n(60228),n(47522),n(70560),n(62506),{name:"ImagePreviewer",props:{media:{type:[Array,FileList],default:function(){return[]}}},emits:["remove-media"],data:function(){return{previewUrls:[]}},methods:{previewMedia:function(){var e=this;this.previewUrls=[];var t=(0,d.Z)(this.media);t.forEach((function(t){var n=new FileReader;n.onload=function(){e.previewUrls.push({url:n.result,type:t.type})},n.readAsDataURL(t)}))},removeMedia:function(e){this.previewUrls.splice(e,1),this.$emit("remove-media",e)},clearMedia:function(){this.previewUrls=[]}},mounted:function(){this.previewMedia()},watch:{media:function(){this.previewMedia()}}}),f=n(83744);const h=(0,f.Z)(p,[["render",l]]);var v=h},42103:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var r=n(66252),a=n(3577),o=function(e){return(0,r.dD)("data-v-43e1245c"),e=e(),(0,r.Cn)(),e},s=o((function(){return(0,r._)("hr",null,null,-1)})),c={key:0,class:"alert alert-danger"},i={key:1,class:"col-sm-12 text-center"},u=["src"],l={class:"d-grid gap-3 d-grid-template-1fr-19"},d={class:"text-center mt-3"},p={class:"pagination w-100"};function f(e,t,o,f,h,v){var m=(0,r.up)("BooksFilter"),k=(0,r.up)("BookCard"),g=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("main",null,[(0,r.Wm)(m,{sections:h.sections,toggleActiveFilter:v.toggleActiveFilter,searchBookByName:v.searchBookByName,filterBooks:v.filterBooks},null,8,["sections","toggleActiveFilter","searchBookByName","filterBooks"]),s,h.empty?((0,r.wg)(),(0,r.iD)("div",c,(0,a.zw)(h.empty),1)):(0,r.kq)("",!0),h.loading&&h.books.length<=0?((0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("img",{src:n(79885),alt:"loader",style:{height:"100px"}},null,8,u)])):((0,r.wg)(),(0,r.iD)(r.HY,{key:2},[(0,r._)("div",l,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(h.books,(function(e){return(0,r.wg)(),(0,r.j4)(k,{key:e.id,cardInfo:e,onUpdateUserBook:v.updateUserBook},null,8,["cardInfo","onUpdateUserBook"])})),128))]),(0,r._)("div",d,[(0,r._)("ul",p,[1!=o.page?((0,r.wg)(),(0,r.j4)(g,{key:0,class:"page-item page-link",to:{name:"osboha.book",query:{page:o.page-1}},rel:"prev"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" السابق ")]})),_:1},8,["to"])):(0,r.kq)("",!0),(0,r._)("li",{class:(0,a.C_)(["page-item page-link",v.checkActive(o.page)])},[(0,r.Wm)(g,{class:"page-item page-link",to:{name:"osboha.book",query:{page:o.page}}},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,a.zw)(o.page),1)]})),_:1},8,["to"])],2),v.hasNextPage?((0,r.wg)(),(0,r.j4)(g,{key:1,class:"page-item page-link",to:{name:"osboha.book",query:{page:o.page+1}},rel:"next"},{default:(0,r.w5)((function(){return[(0,r.Uk)(" التالي ")]})),_:1},8,["to"])):(0,r.kq)("",!0)])])],64))])}var h=n(95082),v=n(50124),m=n(48534),k=(n(64043),n(61514),n(70560),n(79288),n(50886),n(82908)),g=n(49963),b=function(e){return(0,r.dD)("data-v-2ac3f541"),e=e(),(0,r.Cn)(),e},y={class:"container"},w={class:"row mb-3"},_={class:"container"},Z={class:"row d-flex justify-content-center mt-5"},B={class:"col-12"},x={class:"card"},C=b((function(){return(0,r._)("div",{class:"card-title"},[(0,r._)("h3",{class:"font-weight-bold text-center"},"البحث عن الكتب")],-1)})),S=b((function(){return(0,r._)("hr",null,null,-1)})),A={class:"container row d-inline text-center m-auto"},I=["onClick"],D={class:"mt-3 inputs"},T=b((function(){return(0,r._)("i",{class:"material-symbols-outlined"}," search ",-1)})),F={class:"row mb-3"},U={class:"col-4"},M={class:"col-4"},R={class:"col-4"};function L(e,t,n,o,s,c){return(0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("div",w,[(0,r._)("div",_,[(0,r._)("div",Z,[(0,r._)("div",B,[(0,r._)("div",x,[C,S,(0,r._)("div",A,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.sections,(function(e){return(0,r.wg)(),(0,r.iD)("span",{class:"col-lg-1 col-md-1 col-sm-2 text-center",key:e.section_id,onClick:function(t){return c.filterResults(e.section_id)}},[(0,r._)("span",{class:(0,a.C_)(["btn button-60 mr-2 mt-1",c.checkActive(e.active)])},(0,a.zw)(e.section),3)],8,I)})),128))]),(0,r._)("div",D,[T,(0,r.wy)((0,r._)("input",{type:"text",class:"form-control",placeholder:" ... ابحث عن كتاب","onUpdate:modelValue":t[0]||(t[0]=function(e){return s.searchModel=e}),onKeyup:t[1]||(t[1]=function(e){return n.searchBookByName(s.searchModel)})},null,544),[[g.nr,s.searchModel,void 0,{trim:!0}]])])])])])])]),(0,r._)("div",F,[(0,r._)("div",U,[(0,r._)("button",{class:"button-53",role:"button",style:{"background-color":"#77d792"},onClick:t[2]||(t[2]=function(e){return c.filterResults(c.recentAddedBooks)})}," مضاف حديثًا ")]),(0,r._)("div",M,[(0,r._)("button",{class:"button-53",role:"button",style:{"background-color":"#0a6681"},onClick:t[3]||(t[3]=function(e){return c.filterResults(c.mostReadableBooks)})}," الأكثر قراءة ")]),(0,r._)("div",R,[(0,r._)("button",{class:"button-53 animated-btn",role:"button",style:{"background-color":"#f9c93e",color:"black"},onClick:t[4]||(t[4]=function(e){return c.filterResults(c.randomBook)})}," اختر لي كتاباً ")])])])}var N={name:"Books Filter",components:{},props:{sections:{type:Object},toggleActiveFilter:{type:Function},searchBookByName:{type:Function},filterBooks:{type:Function}},data:function(){return{searchModel:""}},methods:{checkActive:function(e){return e?"active":""},filterResults:function(e){this.searchModel="",this.filterBooks(e)}},computed:{recentAddedBooks:function(){return this.sections.length+1},mostReadableBooks:function(){return this.recentAddedBooks+1},randomBook:function(){return this.mostReadableBooks+1}}},P=n(83744);const E=(0,P.Z)(N,[["render",L],["__scopeId","data-v-2ac3f541"]]);var z=E,j=n(34964),$=n(31025),q={name:"Book",components:{BookCard:k.Z,BooksFilter:z},created:function(){var e=this;(0,r.m0)((function(){e.search?e.searchBookByName(e.search):e.selectedSection>0&&e.selectedSection<e.sections.length?e.filterBooks(e.selectedSection):e.selectedSection<e.sections.length&&e.getBooks(e.page)}))},props:["page"],data:function(){return{books:[],totalBooks:0,current:1,booksPerPage:9,search:"",empty:"",selectedSection:0,lastSelectedSection:0,loading:!1,sections:[{section_id:0,section:"الكل",active:!0},{section_id:1,section:"بسيط",level:"simple",active:!1},{section_id:2,section:"متوسط",level:"intermediate",active:!1},{section_id:3,section:"عميق",level:"advanced",active:!1},{section_id:4,section:"عربي",lang:"arabic",active:!1},{section_id:5,section:"إنجليزي",lang:"english",active:!1}],timer:null}},methods:{getBooks:function(e){var t=this;return(0,m.Z)((0,v.Z)().mark((function n(){var r;return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.empty="",t.loading=!0,n.prev=2,n.next=5,j.Z.getAll(e);case 5:r=n.sent,t.books=r.books,t.totalBooks=r.total,t.current=t.page,n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](2),$.Z.toggleToast("حدث خطأ ما, يرجى المحاولة مرة أخرى","error");case 14:return n.prev=14,t.loading=!1,n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[2,11,14,17]])})))()},filterBooks:function(e){var t=this;return(0,m.Z)((0,v.Z)().mark((function n(){var r;return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.empty="",t.toggleActiveFilter(e),r=null,!(e<t.sections.length)){n.next=22;break}if(t.lastSelectedSection!=e&&t.$router.push({name:"osboha.book",query:{page:1}}),0!==Number(e)){n.next=9;break}t.getBooks(t.page),n.next=19;break;case 9:if(!(e>0&&e<4)){n.next=15;break}return n.next=12,j.Z.getBooksByLevel(t.sections[e].level,t.page);case 12:r=n.sent,n.next=19;break;case 15:if(!(e>=4)){n.next=19;break}return n.next=18,j.Z.getBooksByLanguage(t.sections[e].lang,t.page);case 18:r=n.sent;case 19:t.lastSelectedSection=e,n.next=39;break;case 22:if(t.$router.push({name:"osboha.book",query:{page:1}}),e!=t.recentAddedBooks){n.next=29;break}return n.next=26,j.Z.getRecentAddedBooks();case 26:r=n.sent,n.next=39;break;case 29:if(e!=t.mostReadableBooks){n.next=35;break}return n.next=32,j.Z.getMostReadableBooks();case 32:r=n.sent,n.next=39;break;case 35:if(e!=t.randomBook){n.next=39;break}return n.next=38,j.Z.getRandomBook();case 38:r=n.sent;case 39:r&&e<=t.sections.length?(t.books=r.books,t.totalBooks=r.total,t.current=t.page):r&&e>t.sections.length?(t.books=r.length>1?r:[r],t.totalBooks=r.length,t.current=t.page):(t.empty="لا يوجد كتب!",t.books=[]);case 40:case"end":return n.stop()}}),n)})))()},searchBookByName:function(e){var t=this;return(0,m.Z)((0,v.Z)().mark((function n(){return(0,v.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.empty="",t.timer&&(clearTimeout(t.timer),t.timer=null),e?(t.search=e,t.timer=setTimeout((0,m.Z)((0,v.Z)().mark((function e(){var n;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,j.Z.getBooksByName(t.search,t.page);case 4:n=e.sent,(null===n||void 0===n?void 0:n.total)>0?(t.books=n.books,t.totalBooks=n.total,t.current=t.page):(t.empty="لا يوجد كتاب بهذا الاسم",t.books=[]),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),$.Z.toggleToast("حدث خطأ ما, يرجى المحاولة مرة أخرى","error");case 11:return e.prev=11,t.loading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])}))),500)):t.search="";case 3:case"end":return n.stop()}}),n)})))()},checkActive:function(e){var t="";return this.current==e?t="active":t+=" done",t},toggleActiveFilter:function(e){this.sections=this.sections.map((function(t){return Number(t.section_id)===Number(e)?(0,h.Z)((0,h.Z)({},t),{},{active:!0}):(0,h.Z)((0,h.Z)({},t),{},{active:!1})})),this.selectedSection=e},updateUserBook:function(e,t){this.books=this.books.map((function(n){return Number(n.id)===Number(e)?(0,h.Z)((0,h.Z)({},n),{},{userBooks:t?[t]:[]}):n}))}},computed:{hasNextPage:function(){return this.page<this.totalPages},totalPages:function(){return Math.ceil(this.totalBooks/this.booksPerPage)},recentAddedBooks:function(){return this.sections.length+1},mostReadableBooks:function(){return this.recentAddedBooks+1},randomBook:function(){return this.mostReadableBooks+1}}};const O=(0,P.Z)(q,[["render",f],["__scopeId","data-v-43e1245c"]]);var W=O},27413:function(e,t,n){var r=n(44201),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},98494:function(e,t,n){var r=n(23691),a=TypeError;e.exports=function(e,t){if(!delete e[t])throw new a("Cannot delete property "+r(t)+" of "+r(e))}},42124:function(e,t,n){var r=n(91245),a=TypeError;e.exports=function(e){if(r(e))throw new a("The method doesn't accept regular expressions");return e}},76801:function(e,t,n){var r=n(79989),a=n(84328).includes,o=n(3689),s=n(87370),c=o((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:c},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},62506:function(e,t,n){var r=n(79989),a=n(90690),o=n(27578),s=n(68700),c=n(6310),i=n(5649),u=n(55565),l=n(27120),d=n(76522),p=n(98494),f=n(29042),h=f("splice"),v=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,f,h,k,g,b=a(this),y=c(b),w=o(e,y),_=arguments.length;for(0===_?n=r=0:1===_?(n=0,r=y-w):(n=_-2,r=m(v(s(t),0),y-w)),u(y+n-r),f=l(b,r),h=0;h<r;h++)k=w+h,k in b&&d(f,h,b[k]);if(f.length=r,n<r){for(h=w;h<y-r;h++)k=h+r,g=h+n,k in b?b[g]=b[k]:p(b,g);for(h=y;h>y-r+n;h--)p(b,h-1)}else if(n>r)for(h=y-r;h>w;h--)k=h+r-1,g=h+n-1,k in b?b[g]=b[k]:p(b,g);for(h=0;h<n;h++)b[h+w]=arguments[h+2];return i(b,y-r+n),f}})},43843:function(e,t,n){var r=n(79989),a=n(68844),o=n(42124),s=n(74684),c=n(34327),i=n(27413),u=a("".indexOf);r({target:"String",proto:!0,forced:!i("includes")},{includes:function(e){return!!~u(c(s(this)),c(o(e)),arguments.length>1?arguments[1]:void 0)}})},89584:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(49227);function a(e){if(Array.isArray(e))return(0,r.Z)(e)}n(59749),n(86544),n(60228),n(84254),n(21694),n(76265),n(77049);function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var s=n(12780);n(21057);function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){return a(e)||o(e)||(0,s.Z)(e)||c()}}}]);
//# sourceMappingURL=5431-legacy.93713f6a.js.map