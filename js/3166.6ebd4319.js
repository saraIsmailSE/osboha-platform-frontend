"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[3166],{79113:function(e,r,s){var a=s(24150);class t{constructor(){this.prefix="roles"}async assignRole(e){try{const r=await a.hi.post(`${this.prefix}/assign-role`,e);return r.data.data}catch(r){return r.response}}async ChangeAdvisingTeam(e){try{const r=await a.hi.post(`${this.prefix}/change-advising-team`,e);return r.data.data}catch(r){return r.response}}async supervisorsSwap(e){try{const r=await a.hi.post(`${this.prefix}/supervisors-swap`,e);return r.data.data}catch(r){return r.response}}async newSupervisor_currentToAmbassador(e){try{const r=await a.hi.post(`${this.prefix}/new-supervisor-current-to-ambassador`,e);return r.data.data}catch(r){return r.response}}async newSupervisor_currentToLeader(e){try{const r=await a.hi.post(`${this.prefix}/new-supervisor-current-to-leader`,e);return r.data.data}catch(r){return r.response}}async newLeader_currentToAmbassador(e){try{const r=await a.hi.post(`${this.prefix}/new-leader-current-to-ambassador`,e);return r.data.data}catch(r){return r.response}}async transferLeader(e){try{const r=await a.hi.post(`${this.prefix}/transfer-leader`,e);return r.data.data}catch(r){return r.response}}async transferAmbassador(e){try{const r=await a.hi.post(`${this.prefix}/transfer-ambassador`,e);return r.data.data}catch(r){return r.response}}}r.Z=new t},36016:function(e,r,s){s.r(r),s.d(r,{default:function(){return V}});var a=s(66252),t=s(49963),i=s(3577),o=s.p+"img/change-advising-team.ed9456fa.png",n=s(79885);const l={class:"col-sm-12 mt-3"},d=(0,a._)("div",{class:"iq-card-header-toolbar d-flex text-center align-items-center mx-auto"},[(0,a._)("h1",{class:"text-center mt-3 mb-3"},"نقل فريق رقابي")],-1),c=(0,a._)("div",{class:"iq-card-body p-4"},[(0,a._)("div",{class:"image-block text-center"},[(0,a._)("img",{src:o,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),m={class:"col-12 bg-white pt-2"},u={class:"sign-in-from"},p={class:"form-group"},v=(0,a._)("label",{for:"supervisor"},"المراقب",-1),h={key:0,style:{color:"red"}},f={key:1,style:{color:"red"}},w={class:"form-group"},g=(0,a._)("label",{for:"new_advisor"}," الموجه المسؤول عنه",-1),y={key:0,style:{color:"red"}},$={key:1,style:{color:"red"}},_={key:0,class:"form-group text-center"},b={style:{color:"red"}},k={key:1,class:"col-sm-12 text-center"},x=(0,a._)("p",{class:"text-center"},"جاري النقل",-1),q=(0,a._)("img",{src:n,alt:"loader",style:{height:"100px"}},null,-1),D=[x,q],C={key:2,class:"d-inline-block w-100"},T=["disabled"];function A(e,r,s,o,n,x){const q=(0,a.up)("iq-card");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(q,{class:"iq-card"},{default:(0,a.w5)((()=>[d,c,(0,a._)("div",m,[(0,a._)("div",u,[(0,a._)("form",{class:"mt-2",onSubmit:r[2]||(r[2]=(0,t.iM)((e=>x.onSubmit()),["prevent"]))},[(0,a._)("div",p,[v,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>o.v$.form.supervisor.$model=e),type:"email",class:"form-control mb-0",id:"supervisor",placeholder:"ادخل بريد المراقب"},null,512),[[t.nr,o.v$.form.supervisor.$model]]),o.v$.form.supervisor.$error?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[o.v$.form.supervisor.required.$invalid?((0,a.wg)(),(0,a.iD)("small",h,"البريد الالكتروني للمراقب مطلوب")):(0,a.kq)("",!0),o.v$.form.supervisor.email.$invalid?((0,a.wg)(),(0,a.iD)("small",f,"البريد الالكتروني للمراقب غير صحيح")):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0)]),(0,a._)("div",w,[g,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>o.v$.form.new_advisor.$model=e),type:"email",class:"form-control mb-0",id:"new_advisor",placeholder:"ادخل بريد الموجه المسؤول عنه"},null,512),[[t.nr,o.v$.form.new_advisor.$model]]),o.v$.form.new_advisor.$error?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[o.v$.form.new_advisor.required.$invalid?((0,a.wg)(),(0,a.iD)("small",y," البريد الالكتروني للموجه مطلوب")):(0,a.kq)("",!0),o.v$.form.new_advisor.email.$invalid?((0,a.wg)(),(0,a.iD)("small",$," البريد الالكتروني للموجه غير صحيح")):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0)]),n.message?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("small",b,(0,i.zw)(n.message),1)])):(0,a.kq)("",!0),n.loader?((0,a.wg)(),(0,a.iD)("div",k,D)):((0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:n.loader}," نقل ",8,T)]))],32)])])])),_:1})])}var S=s(5705),Z=s(10760),L=s(79113),H={name:"Change Advising Team",setup(){return{v$:(0,S.ZP)()}},data(){return{loader:!1,form:{supervisor:"",new_advisor:""},message:""}},validations(){return{form:{supervisor:{required:Z.C1,email:Z.Do},new_advisor:{required:Z.C1,email:Z.Do}}}},methods:{async onSubmit(){if(this.v$.$validate(),!this.v$.$error){this.loader=!0;try{this.message="";const e=await L.Z.ChangeAdvisingTeam(this.form);this.message=e,setTimeout((()=>{this.message=""}),1800)}catch(e){this.message="حدث خطأ, يرجى المحاولة لاحقاً"}finally{this.loader=!1}}}}},O=s(83744);const U=(0,O.Z)(H,[["render",A]]);var V=U}}]);
//# sourceMappingURL=3166.6ebd4319.js.map