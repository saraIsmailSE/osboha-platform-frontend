"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[9327],{79113:function(e,r,t){var n=t(50124),a=t(48534),s=t(13087),u=t(62833),o=t(24150),i=function(){function e(){(0,s.Z)(this,e),this.prefix="roles"}return(0,u.Z)(e,[{key:"assignRole",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("".concat(this.prefix,"/assign-role"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"ChangeAdvisingTeam",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("".concat(this.prefix,"/change-advising-team"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"supervisorsSwap",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("".concat(this.prefix,"/supervisors-swap"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newSupervisor_currentToAmbassador",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("".concat(this.prefix,"/new-supervisor-current-to-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newSupervisor_currentToLeader",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("".concat(this.prefix,"/new-supervisor-current-to-leader"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newLeader_currentToAmbassador",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("".concat(this.prefix,"/new-leader-current-to-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"transferLeader",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("".concat(this.prefix,"/transfer-leader"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"transferAmbassador",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("".concat(this.prefix,"/transfer-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()}]),e}();r.Z=new i},60351:function(e,r,t){t.d(r,{So:function(){return n},Wx:function(){return s},b5:function(){return o},gg:function(){return u},jx:function(){return a}});var n={ambassador:"سفير",leader:"قائد",supervisor:"مراقب",advisor:"موجه",consultant:"مستشار",admin:"ادارة",book_quality_team:"جودة الكتب"},a={arabic:"اللغة العربية",english:"اللغة الانجليزية"},s={normal:"منهج",ramadan:"رمضان",young:"يافعين",kids:"أطفال",tafseer:"تفسير",free:"كتاب حر"},u={January:"يناير",February:"فبراير",March:"مارس",April:"ابريل",May:"مايو",June:"يونيو",July:"يوليو",August:"أغسطس",September:"سبتمبر",October:"أكتوبر",November:"نوفمبر",December:"ديسمبر"},o={"01":"يناير","02":"فبراير","03":"مارس","04":"ابريل","05":"مايو","06":"يونيو","07":"يوليو","08":"أغسطس","09":"سبتمبر",10:"أكتوبر",11:"نوفمبر",12:"ديسمبر"}},68071:function(e,r,t){t.r(r),t.d(r,{default:function(){return j}});var n=t(66252),a=t(49963),s=t(3577),u=t.p+"img/upgrade-user.6fc5a363.png",o=t(79885),i={class:"col-sm-12 mt-3"},c=(0,n._)("div",{class:"iq-card-header-toolbar d-flex text-center align-items-center mx-auto"},[(0,n._)("h1",{class:"text-center mt-3 mb-3"},"ترقية")],-1),l=(0,n._)("div",{class:"iq-card-body p-4"},[(0,n._)("div",{class:"image-block text-center"},[(0,n._)("img",{src:u,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),p={class:"col-12 bg-white pt-2"},d={class:"sign-in-from"},f={class:"form-group"},v=(0,n._)("label",{for:"user"},"المستخدم",-1),m={key:0,style:{color:"red"}},h={key:1,style:{color:"red"}},w={class:"form-group"},b=(0,n._)("label",{for:"head_user"}," المسؤول عنه",-1),g={key:0,style:{color:"red"}},y={key:1,style:{color:"red"}},k={class:"form-group"},_=(0,n._)("label",{for:"role"},"الترقية",-1),x=(0,n._)("option",{value:"0",selected:""},"ترقية إلى",-1),Z=["value"],$={key:0,style:{color:"red"}},q={key:0,class:"form-group text-center"},D={style:{color:"red"}},A={key:1,class:"col-sm-12 text-center"},S=(0,n._)("p",{class:"text-center"},"جاري الترقية",-1),C=(0,n._)("img",{src:o,alt:"loader",style:{height:"100px"}},null,-1),R=[S,C],L={key:2,class:"d-inline-block w-100"},O=["disabled"];function T(e,r,t,u,o,S){var C=(0,n.up)("iq-card");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(C,{class:"iq-card"},{default:(0,n.w5)((function(){return[c,l,(0,n._)("div",p,[(0,n._)("div",d,[(0,n._)("form",{class:"mt-2",onSubmit:r[3]||(r[3]=(0,a.iM)((function(e){return S.onSubmit()}),["prevent"]))},[(0,n._)("div",f,[v,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return u.v$.form.user.$model=e}),type:"email",class:"form-control mb-0",id:"user",placeholder:"ادخل بريد المستخدم"},null,512),[[a.nr,u.v$.form.user.$model]]),u.v$.form.user.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[u.v$.form.user.required.$invalid?((0,n.wg)(),(0,n.iD)("small",m,"البريد الالكتروني للمستخدم مطلوب")):(0,n.kq)("",!0),u.v$.form.user.email.$invalid?((0,n.wg)(),(0,n.iD)("small",h,"البريد الالكتروني للمستخدم غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),(0,n._)("div",w,[b,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return u.v$.form.head_user.$model=e}),type:"email",class:"form-control mb-0",id:"head_user",placeholder:"ادخل بريد المسؤول عنه"},null,512),[[a.nr,u.v$.form.head_user.$model]]),u.v$.form.head_user.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[u.v$.form.head_user.required.$invalid?((0,n.wg)(),(0,n.iD)("small",g," البريد الالكتروني للمسؤول مطلوب")):(0,n.kq)("",!0),u.v$.form.head_user.email.$invalid?((0,n.wg)(),(0,n.iD)("small",y," البريد الالكتروني للمسؤول غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),(0,n._)("div",k,[_,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":r[2]||(r[2]=function(e){return u.v$.form.role_id.$model=e}),class:"form-select","data-trigger":"",name:"role",id:"role"},[x,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.roles,(function(e,r){return(0,n.wg)(),(0,n.iD)("option",{key:r,value:e.id},(0,s.zw)(o.ARABIC_ROLES[e.name]),9,Z)})),128))],512),[[a.bM,u.v$.form.role_id.$model]]),u.v$.form.role_id.$error?((0,n.wg)(),(0,n.iD)("small",$," يرجى اختيار نوع الترقية ")):(0,n.kq)("",!0)]),o.message?((0,n.wg)(),(0,n.iD)("div",q,[(0,n._)("small",D,(0,s.zw)(o.message),1)])):(0,n.kq)("",!0),o.loader?((0,n.wg)(),(0,n.iD)("div",A,R)):((0,n.wg)(),(0,n.iD)("div",L,[(0,n._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:o.loader}," ترقية ",8,O)]))],32)])])]})),_:1})])}var M=t(50124),V=t(48534),H=t(5705),J=t(10760),U=t(24150),Y=t(60351),z=t(79113),B=function(e){return e>0},E={name:"AssignRole",setup:function(){return{v$:(0,H.ZP)()}},created:function(){var e=this;return(0,V.Z)((0,M.Z)().mark((function r(){var t;return(0,M.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,U.hi.get("get-roles/1");case 2:t=r.sent,e.roles=t.data.data;case 4:case"end":return r.stop()}}),r)})))()},data:function(){return{loader:!1,ARABIC_ROLES:Y.So,form:{user:"",head_user:"",role_id:0},roles:[],message:""}},validations:function(){return{form:{user:{required:J.C1,email:J.Do},head_user:{required:J.C1,email:J.Do},role_id:{required:J.C1,maxValue:B}}}},methods:{onSubmit:function(){var e=this;return(0,V.Z)((0,M.Z)().mark((function r(){var t;return(0,M.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.v$.$validate(),e.v$.$error){r.next=20;break}return e.loader=!0,r.prev=3,e.message="",r.next=7,z.Z.assignRole(e.form);case 7:t=r.sent,e.message=t,e.v$.form.$reset(),e.form={user:"",head_user:"",role_id:0},setTimeout((function(){e.message=""}),1800),r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](3),e.message="حدث خطأ, يرجى المحاولة لاحقاً";case 17:return r.prev=17,e.loader=!1,r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[3,14,17,20]])})))()}}},I=t(83744);const W=(0,I.Z)(E,[["render",T]]);var j=W}}]);
//# sourceMappingURL=9327-legacy.49c4f431.js.map