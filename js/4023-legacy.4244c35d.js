"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[4023],{90031:function(t,e,r){var n=r(50124),a=r(48534),s=r(13087),c=r(62833),i=(r(34338),r(66252)),u=r(24150),o=function(){function t(){(0,s.Z)(this,t),this.prefix="general-conversations"}return(0,c.Z)(t,[{key:"addQuestion",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a,s;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=new FormData,r.append("question",e.question),e.media&&e.media.length>0)for(a=0;a<e.media.length;a++)r.append("media[]",e.media[a]);return t.prev=3,t.next=6,u.hi.post("".concat(this.prefix,"/questions"),r,{headers:{"Content-type":"multipart/form-data"}});case 6:return s=t.sent,t.abrupt("return",s.data);case 10:t.prev=10,t.t0=t["catch"](3),(0,i.S3)(t.t0);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addAnswer",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r,a;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new FormData,r.append("answer",e.answer),r.append("question_id",e.question_id),e.image&&r.append("image",e.image),t.prev=4,t.next=7,u.hi.post("".concat(this.prefix,"/answers"),r,{headers:{"Content-type":"multipart/form-data"}});case 7:return a=t.sent,t.abrupt("return",a.data);case 11:t.prev=11,t.t0=t["catch"](4),(0,i.S3)(t.t0);case 14:case"end":return t.stop()}}),t,this,[[4,11]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getQuestions",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions?page=").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getQuestionById",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions/").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getMyQuestions",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions/my-questions?page=").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAssignedToMeQuestions",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions/assigned-to-me?page=").concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"solveQuestion",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.put("".concat(this.prefix,"/questions/").concat(e,"/solve"));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"closeQuestion",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.put("".concat(this.prefix,"/questions/").concat(e,"/close"));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"assignToParent",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e){var r;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.put("".concat(this.prefix,"/questions/").concat(e,"/assign-to-parent"));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getStatistics",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions/statistics"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"closeOverdueQuestions",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.put("".concat(this.prefix,"/questions/close-overdue"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"addWorkingHours",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(e,r){var a;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.post("".concat(this.prefix,"/working-hours"),{date:e,minutes:r});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"getWorkingHours",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/working-hours"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getWorkingHoursStatistics",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e,r,a=arguments;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"",t.prev=1,t.next=4,u.hi.get("".concat(this.prefix,"/working-hours/statistics?date=").concat(e));case 4:return r=t.sent,t.abrupt("return",r.data);case 8:t.prev=8,t.t0=t["catch"](1),(0,i.S3)(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"addFollowup",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.post("".concat(this.prefix,"/followup"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getFollowupStatistics",value:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(){var e;return(0,n.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/followup/statistics"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}();e.Z=new o},60351:function(t,e,r){r.d(e,{So:function(){return n},Wx:function(){return s},b5:function(){return i},gg:function(){return c},jx:function(){return a}});var n={ambassador:"سفير",leader:"قائد",supervisor:"مراقب",advisor:"موجه",consultant:"مستشار",admin:"ادارة",book_quality_team:"جودة الكتب"},a={arabic:"اللغة العربية",english:"اللغة الانجليزية"},s={normal:"منهج",ramadan:"رمضان",young:"يافعين",kids:"أطفال",tafseer:"تفسير",free:"كتاب حر"},c={January:"يناير",February:"فبراير",March:"مارس",April:"ابريل",May:"مايو",June:"يونيو",July:"يوليو",August:"أغسطس",September:"سبتمبر",October:"أكتوبر",November:"نوفمبر",December:"ديسمبر"},i={"01":"يناير","02":"فبراير","03":"مارس","04":"ابريل","05":"مايو","06":"يونيو","07":"يوليو","08":"أغسطس","09":"سبتمبر",10:"أكتوبر",11:"نوفمبر",12:"ديسمبر"}},54023:function(t,e,r){r.r(e),r.d(e,{default:function(){return H}});var n=r(66252),a=r(3577),s=r(38657),c={class:"container"},i={class:"row"},u={class:"col-lg-12"},o={class:"card"},p=(0,n._)("div",{class:"card-header"},[(0,n._)("div",{class:"header-title"},[(0,n._)("h4",{class:"card-title bg-primary text-white text-center px-2 py-3"}," إحصائيات تفقد التحويل العام ")])],-1),l={class:"card-body"},h={key:0,class:"col-sm-12 text-center"},v=(0,n._)("img",{src:s,alt:"loader"},null,-1),d=[v],f={key:1,class:"col-12 col-md-12 col-lg-12"},w={class:"card"},g={class:"card-title"},x={class:"text-center"},y={class:"card-body"},Z={class:"blog-description"},k={class:"table w-100 table-bordered"},m=(0,n._)("thead",null,[(0,n._)("tr",{class:"py-3"},[(0,n._)("th",{scope:"col"},"الاسم"),(0,n._)("th",{scope:"col"},"الرتبة"),(0,n._)("th",{scope:"col"},"الأحد"),(0,n._)("th",{scope:"col"},"الاثنين"),(0,n._)("th",{scope:"col"},"الثلاثاء"),(0,n._)("th",{scope:"col"},"الأربعاء"),(0,n._)("th",{scope:"col"},"الخميس"),(0,n._)("th",{scope:"col"},"الجمعة"),(0,n._)("th",{scope:"col"},"السبت")])],-1),b=(0,n._)("hr",null,null,-1);function _(t,e,r,s,v,_){return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",i,[(0,n._)("div",u,[(0,n._)("div",o,[p,(0,n._)("div",l,[v.loading?((0,n.wg)(),(0,n.iD)("div",h,d)):((0,n.wg)(),(0,n.iD)("div",f,[(0,n._)("div",w,[(0,n._)("div",g,[(0,n._)("h4",x,"الأسبوع "+(0,a.zw)(_.weekTitle),1)]),(0,n._)("div",y,[(0,n._)("div",Z,[(0,n._)("table",k,[m,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(v.statistics,(function(t,e){return(0,n.wg)(),(0,n.iD)("tr",{key:e},[(0,n._)("td",null,(0,a.zw)(t.user.name),1),(0,n._)("td",null,(0,a.zw)(v.ARABIC_ROLES[t.user.roles[0]]),1),((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(7,(function(e){var r,s,c,i,u,o;return(0,n._)("td",{class:(0,a.C_)([{"bg-danger":(null!==(r=null===(s=t.days[e])||void 0===s?void 0:s.counter)&&void 0!==r?r:0)<2,"bg-primary":(null!==(c=null===(i=t.days[e])||void 0===i?void 0:i.counter)&&void 0!==c?c:0)>=2},"text-white text-center"]),key:e},(0,a.zw)(null!==(u=null===(o=t.days[e])||void 0===o?void 0:o.counter)&&void 0!==u?u:0),3)})),64))])})),128))])]),b])])])]))])])])])])}var S=r(50124),q=r(48534),A=r(95082),D=r(90031),Q=r(31025),C=r(60351),F={name:"FollowupStatistics",created:function(){this.getStatistics()},data:function(){return{loading:!1,statistics:[],ARABIC_ROLES:C.So}},computed:{weekTitle:function(){return this.$store.state.week_title}},watch:{statistics:function(t){t&&console.log(this.objectToArray(t[0].days))}},methods:(0,A.Z)((0,A.Z)({},Q.Z),{},{getStatistics:function(){var t=this;return(0,q.Z)((0,S.Z)().mark((function e(){var r;return(0,S.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,e.next=6,D.Z.getFollowupStatistics();case 6:r=e.sent,t.statistics=r.data,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),t.toggleErrorToast();case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()}})},O=r(83744);const T=(0,O.Z)(F,[["render",_]]);var H=T},38657:function(t,e,r){t.exports=r.p+"img/loader-3.208ab985.gif"}}]);
//# sourceMappingURL=4023-legacy.4244c35d.js.map