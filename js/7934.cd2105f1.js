"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[7934],{89809:function(e,t,a){var s=a(24150),r=a(49579),o=a(66252);class n{async login({username:e,password:t}){try{const a=s.hi.post("/auth/signin",{username:e,password:t});return a.data.accessToken&&r.Z.setUser(a.date),a.data}catch(a){console.log(a)}}logout(){r.Z.removeUser()}async register(e,t,a,r,o,n){return await s.hi.post("/register",{name:e,gender:t,email:a,phone:r,password:o,user_type:n})}async sendEmail(){let e=null;const t=await s.hi.post("email/verification-notification").catch((e=>{e=e.response.data.message}));return{data:t.data,error:e}}async resetEmail(e){try{const t=await s.hi.post("email/reset",{email:e});return t.data.data}catch(t){return t.response}}async resetPassword(e,t,a){let r=new FormData;r.append("password",e),r.append("email",t),r.append("token",a);try{const e=await s.hi.post("password/reset",r);return e.data}catch(o){return o.response}}async forgetPassword(e){try{const t=await s.hi.post("password/forgot-password",{email:e});return t.data}catch(t){return t.response}}async sessionData(){try{const e=await s.hi.get("session-data");return e.data.data}catch(e){(0,o.S3)(e)}}async refreshToken(){try{const e=await s.hi.post("/refresh");return e.data.data}catch(e){(0,o.S3)(e)}}async returnToTeam(){try{const e=await s.hi.get("/return-to-team");return e.data.data}catch(e){(0,o.S3)(e)}}}t.Z=new n},63199:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});a(76265);var s=a(66252),r=a(49963),o=a(3577),n=a.p+"img/forgot-password.f2bbd80d.png",i=a(79885);const l=e=>((0,s.dD)("data-v-0108c161"),e=e(),(0,s.Cn)(),e),c={class:"col-sm-12 mt-3 text-center"},d=l((()=>(0,s._)("div",{class:"iq-card-header-toolbar d-flex align-items-center mx-auto"},[(0,s._)("h4",{class:"text-center mt-3 mb-3"}," اعادة تعيين كلمة المرور ")],-1))),m={class:"iq-card-body p-0"},p=l((()=>(0,s._)("div",{class:"image-block text-center"},[(0,s._)("img",{src:n,class:"img-fluid rounded w-25",alt:"blog-img"})],-1))),u={class:"form-group"},w=l((()=>(0,s._)("label",{class:"form-label",for:"exampleInputEmail1"},"ادخل بريدك الالكتروني",-1))),g={key:0,style:{color:"red"}},h={class:"d-inline-block w-100 text-center"},f={key:0,class:"col-sm-12 text-center"},b=l((()=>(0,s._)("img",{src:i,alt:"loader",style:{height:"100px"}},null,-1))),y=[b],v={key:1,class:"text-center mt-3 mb-3"},k={key:2,type:"submit",class:"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto"},x={key:3,type:"submit",class:"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto"};function _(e,t,a,n,i,l){const b=(0,s.up)("iq-card");return(0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(b,{class:"iq-card"},{default:(0,s.w5)((()=>[d,(0,s._)("div",m,[p,(0,s._)("form",{class:"mt-4 mx-auto",onSubmit:t[1]||(t[1]=(0,r.iM)(((...e)=>l.forgetPassword&&l.forgetPassword(...e)),["prevent"]))},[(0,s._)("div",u,[w,(0,s.wy)((0,s._)("input",{type:"email",class:"form-control mb-0 w-75 mx-auto",id:"exampleInputEmail1",placeholder:"ادخل بريدك الالكتروني هنا","onUpdate:modelValue":t[0]||(t[0]=e=>n.v$.form.email.$model=e)},null,512),[[r.nr,n.v$.form.email.$model]]),n.v$.form.email.$error?((0,s.wg)(),(0,s.iD)("p",g,"قم بادخال البريد الالكتروني")):(0,s.kq)("",!0)]),(0,s._)("div",h,[i.loader?((0,s.wg)(),(0,s.iD)("div",f,y)):(0,s.kq)("",!0),i.message?((0,s.wg)(),(0,s.iD)("h4",v,(0,o.zw)(i.message),1)):(0,s.kq)("",!0),i.sent?((0,s.wg)(),(0,s.iD)("button",x," اعادة ارسال ")):((0,s.wg)(),(0,s.iD)("button",k," ارسال "))])],32)])])),_:1})])}var $=a(5705),D=a(10760),P=a(89809),q={name:"ForgetPassword",setup(){return{v$:(0,$.ZP)()}},components:{},data(){return{loader:!1,sent:!1,message:"",form:{email:""},error:"",submitStatus:null,options:{centeredSlides:!1,loop:!1,slidesPerView:1,autoplay:{delay:3e3},spaceBetween:15,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}}}},methods:{async forgetPassword(){if(this.v$.$touch(),!this.v$.form.$invalid){this.message="",this.loader=!0;const e=await P.Z.forgetPassword(this.form.email);200==e.statusCode?(this.sent=!0,this.message="تم ارسال بريد"):this.message=" حدث خطأ",this.loader=!1}}},validations(){return{form:{email:{required:D.C1,email:D.Do}}}}},E=a(83744);const S=(0,E.Z)(q,[["render",_],["__scopeId","data-v-0108c161"]]);var Z=S}}]);
//# sourceMappingURL=7934.cd2105f1.js.map