{"version":3,"file":"js/775.ad5f078c.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/user-group.service.js","webpack://Osboha180/./src/utilities/errors.js","webpack://Osboha180/./src/views/OsbohaMain/Group/AddMember.vue","webpack://Osboha180/./src/views/OsbohaMain/Group/AddMember.vue?834b"],"sourcesContent":["import { handleError } from \"vue\";\nimport { customHandleError } from \"../../utilities/errors\";\nimport { api, handelErrors } from \"../Intercepter\";\n\nclass UserGroup {\n  constructor() {\n    this.prefix = \"user-group\";\n  }\n\n  async usersByGroupId(group_id) {\n    try {\n      const response = await api.get(`${this.prefix}/users/${group_id}`);\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n  async AddMember(memberInfo) {\n    try {\n      const response = await api.post(`${this.prefix}/add-member`, memberInfo, {\n        headers: { \"Content-type\": \"multipart/form-data\" },\n      });\n      return response.data.data;\n    } catch (error) {\n      customHandleError(error, \"UserGroupService.AddMember\");\n    }\n  }\n  async delete(user_group_id) {\n    try {\n      return await api.delete(`${this.prefix}/delete/${user_group_id}`);\n    } catch (error) {\n      handleError(error);\n    }\n  }\n  async withdrawnMember(user_group_id) {\n    const formData = new FormData();\n    formData.append(\"user_group_id\", user_group_id);\n\n    try {\n      return await api.post(`${this.prefix}/withdrawn`, formData, {\n        headers: { \"Content-type\": \"multipart/form-data\" },\n      });\n    } catch (error) {\n      handleError(error);\n    }\n  }\n}\n\nexport default new UserGroup();\n","import router from \"../router\";\n\nexport function customHandleError(error, page = \"\") {\n  console.log(`[ERROR] ${page} =>`, error.response.data);\n  if (error.response.data.statusCode === 404) {\n    router.push({ name: \"NotFound\" });\n  } else if (error.response.data.statusCode === 403) {\n    router.push({ name: \"NotAuthorized\" });\n  }\n  throw error;\n}\n","<template>\n  <div class=\"col-sm-12 mt-3\">\n    <iq-card class=\"iq-card\">\n      <div\n        class=\"iq-card-header-toolbar d-flex text-center align-items-center mx-auto\"\n      >\n        <h1 class=\"text-center mt-3 mb-3\">عضو جديد</h1>\n      </div>\n      <div class=\"iq-card-body p-4\">\n        <div class=\"image-block text-center\">\n          <img\n            src=\"@/assets/images/main/add-user.png\"\n            class=\"img-fluid rounded w-75\"\n            alt=\"add-user\"\n          />\n        </div>\n      </div>\n      <div class=\"col-12 bg-white pt-2\">\n        <div class=\"sign-in-from\">\n          <h1 class=\"mb-0\">اضافة عضو</h1>\n          <form class=\"mt-2\" @submit.prevent=\"onSubmit()\">\n            <div class=\"form-group\">\n              <label for=\"exampleInputEmail1\">الايميل</label>\n              <input\n                type=\"text\"\n                v-model=\"v$.form.email.$model\"\n                class=\"form-control mb-0\"\n                id=\"exampleInputEmail1\"\n                placeholder=\"البريد الالكتروني العضو\"\n              />\n              <template v-if=\"v$.form.email.$error\">\n                <small style=\"color: red\" v-if=\"v$.form.email.required.$invalid\"\n                  >البريد الالكتروني مطلوب</small\n                >\n                <small style=\"color: red\" v-if=\"v$.form.email.email.$invalid\"\n                  >البريد الالكتروني غير صحيح</small\n                >\n              </template>\n            </div>\n            <div class=\"form-group\">\n              <select\n                v-model=\"v$.form.role_id.$model\"\n                class=\"form-select\"\n                data-trigger\n                name=\"choices-single-default\"\n                id=\"choices-single-default\"\n              >\n                <option value=\"0\" selected>اختر دور العضو</option>\n                <option\n                  v-for=\"(role, index) in roles\"\n                  :key=\"index\"\n                  :value=\"role.id\"\n                >\n                  {{ user_type[role.name] }}\n                </option>\n              </select>\n              <small style=\"color: red\" v-if=\"v$.form.role_id.$error\">\n                يرجى اختيار دور العضو في المجموعة\n              </small>\n            </div>\n            <div class=\"form-group text-center\" v-if=\"message\">\n              <small style=\"color: red\">\n                {{ message }}\n              </small>\n            </div>\n            <div class=\"col-sm-12 text-center\" v-if=\"loader\">\n              <p class=\"text-center\">جاري الاضافة</p>\n              <img\n                src=\"@/assets/images/page-img/page-load-loader.gif\"\n                alt=\"loader\"\n                style=\"height: 100px\"\n              />\n            </div>\n            <div class=\"d-inline-block w-100\" v-else>\n              <button type=\"submit\" class=\"btn btn-primary float-end\">\n                اضافة\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </iq-card>\n  </div>\n</template>\n<script>\nimport useVuelidate from \"@vuelidate/core\";\nimport { required, maxLength, email } from \"@vuelidate/validators\";\nimport UserGroupService from \"@/API/services/user-group.service\";\nimport { api } from \"@/API/Intercepter.js\";\n\nconst greaterThanZero = (value) => value > 0;\n\nexport default {\n  name: \"AddBook\",\n  setup() {\n    return { v$: useVuelidate() };\n  },\n\n  async created() {\n    const roles = await api.get(`get-roles/1`);\n    this.roles = roles.data.data;\n  },\n\n  data() {\n    return {\n      loader: false,\n      user_type: {\n        ambassador: \"سفير\",\n        leader: \"قائد\",\n        supervisor: \"مراقب\",\n        advisor: \"موجه\",\n        consultant: \"مستشار\",\n        admin: \"ادارة\",\n      },\n      form: {\n        email: \"\",\n        role_id: 0,\n        group_id: this.$route.params.group_id,\n      },\n      roles: [],\n      message: \"\",\n    };\n  },\n  methods: {\n    async onSubmit() {\n      this.v$.$touch();\n      if (!this.v$.form.$invalid) {\n        this.loader = true;\n\n        try {\n          this.message = \"\";\n          const response = await UserGroupService.AddMember(this.form);\n          this.message = response;\n\n          this.v$.form.$reset();\n          this.form = {\n            email: \"\",\n            role_id: 0,\n            group_id: this.$route.params.group_id,\n          };\n\n          setTimeout(() => {\n            this.message = \"\";\n          }, 3000);\n        } catch (error) {\n          this.message = \"حدث خطأ\";\n          console.log(error);\n        } finally {\n          this.loader = false;\n        }\n      }\n    },\n  },\n  validations() {\n    return {\n      form: {\n        email: {\n          required,\n          email,\n        },\n        role_id: {\n          required,\n          maxValue: greaterThanZero,\n        },\n      },\n    };\n  },\n};\n</script>\n","import { render } from \"./AddMember.vue?vue&type=template&id=e8c12920\"\nimport script from \"./AddMember.vue?vue&type=script&lang=js\"\nexport * from \"./AddMember.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["UserGroup","constructor","this","prefix","usersByGroupId","group_id","response","api","get","data","error","AddMember","memberInfo","post","headers","customHandleError","delete","user_group_id","handleError","withdrawnMember","formData","FormData","append","page","console","log","statusCode","router","push","name","class","_createElementVNode","src","_imports_0","alt","for","style","value","selected","_imports_1","_hoisted_18","_hoisted_19","type","_hoisted_22","_createElementBlock","_hoisted_1","_createVNode","_component_iq_card","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","onSubmit","_cache","_withModifiers","$event","$options","_hoisted_7","_hoisted_8","$setup","v$","form","email","$model","id","placeholder","$error","_Fragment","key","required","$invalid","_hoisted_9","_hoisted_10","_hoisted_11","role_id","_hoisted_12","_renderList","$data","roles","role","index","user_type","_hoisted_13","_hoisted_14","message","_hoisted_15","_hoisted_16","_toDisplayString","loader","_hoisted_17","_hoisted_20","_hoisted_21","_hoisted_23","greaterThanZero","setup","useVuelidate","created","ambassador","leader","supervisor","advisor","consultant","admin","$route","params","methods","$touch","UserGroupService","$reset","setTimeout","validations","maxValue","__exports__","render"],"sourceRoot":""}