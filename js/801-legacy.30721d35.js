"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[801],{90031:function(t,e,n){var r=n(50124),a=n(48534),s=n(13087),c=n(62833),i=(n(34338),n(66252)),u=n(24150),o=function(){function t(){(0,s.Z)(this,t),this.prefix="general-conversations"}return(0,c.Z)(t,[{key:"addQuestion",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a,s;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=new FormData,n.append("question",e.question),e.media&&e.media.length>0)for(a=0;a<e.media.length;a++)n.append("media[]",e.media[a]);return t.prev=3,t.next=6,u.hi.post("".concat(this.prefix,"/questions"),n,{headers:{"Content-type":"multipart/form-data"}});case 6:return s=t.sent,t.abrupt("return",s.data);case 10:t.prev=10,t.t0=t["catch"](3),(0,i.S3)(t.t0);case 13:case"end":return t.stop()}}),t,this,[[3,10]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addAnswer",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("answer",e.answer),n.append("question_id",e.question_id),e.image&&n.append("image",e.image),t.prev=4,t.next=7,u.hi.post("".concat(this.prefix,"/answers"),n,{headers:{"Content-type":"multipart/form-data"}});case 7:return a=t.sent,t.abrupt("return",a.data);case 11:t.prev=11,t.t0=t["catch"](4),(0,i.S3)(t.t0);case 14:case"end":return t.stop()}}),t,this,[[4,11]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getQuestions",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions?page=").concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getQuestionById",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions/").concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getMyQuestions",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions/my-questions?page=").concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAssignedToMeQuestions",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions/assigned-to-me?page=").concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"solveQuestion",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.put("".concat(this.prefix,"/questions/").concat(e,"/solve"));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"closeQuestion",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.put("".concat(this.prefix,"/questions/").concat(e,"/close"));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"assignToParent",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.put("".concat(this.prefix,"/questions/").concat(e,"/assign-to-parent"));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getStatistics",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/questions/statistics"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"closeOverdueQuestions",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.put("".concat(this.prefix,"/questions/close-overdue"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"addWorkingHours",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.post("".concat(this.prefix,"/working-hours"),{date:e,minutes:n});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"getWorkingHours",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/working-hours"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getWorkingHoursStatistics",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e,n,a=arguments;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"",t.prev=1,t.next=4,u.hi.get("".concat(this.prefix,"/working-hours/statistics?date=").concat(e));case 4:return n=t.sent,t.abrupt("return",n.data);case 8:t.prev=8,t.t0=t["catch"](1),(0,i.S3)(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"addFollowup",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.post("".concat(this.prefix,"/followup"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getFollowupStatistics",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.hi.get("".concat(this.prefix,"/followup/statistics"));case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t["catch"](0),(0,i.S3)(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}]),t}();e.Z=new o},60351:function(t,e,n){n.d(e,{So:function(){return r},Wx:function(){return s},b5:function(){return i},gg:function(){return c},jx:function(){return a}});var r={ambassador:"سفير",leader:"قائد",supervisor:"مراقب",advisor:"موجه",consultant:"مستشار",admin:"ادارة",book_quality_team:"جودة الكتب"},a={arabic:"اللغة العربية",english:"اللغة الانجليزية"},s={normal:"منهج",ramadan:"رمضان",young:"يافعين",kids:"أطفال",tafseer:"تفسير",free:"كتاب حر"},c={January:"يناير",February:"فبراير",March:"مارس",April:"ابريل",May:"مايو",June:"يونيو",July:"يوليو",August:"أغسطس",September:"سبتمبر",October:"أكتوبر",November:"نوفمبر",December:"ديسمبر"},i={"01":"يناير","02":"فبراير","03":"مارس","04":"ابريل","05":"مايو","06":"يونيو","07":"يوليو","08":"أغسطس","09":"سبتمبر",10:"أكتوبر",11:"نوفمبر",12:"ديسمبر"}},90801:function(t,e,n){n.r(e),n.d(e,{default:function(){return it}});var r=n(66252),a=n(3577),s=n(49963),c=n(38657),i=n(51948),u=function(t){return(0,r.dD)("data-v-ea50794a"),t=t(),(0,r.Cn)(),t},o={class:"container"},l={class:"row"},p={class:"col-lg-12"},d={class:"card"},h=u((function(){return(0,r._)("div",{class:"card-header"},[(0,r._)("div",{class:"header-title"},[(0,r._)("h4",{class:"card-title bg-primary text-white text-center px-2 py-3"}," إحصائيات ساعات العمل ")])],-1)})),v={class:"card-body"},f={key:0,class:"col-sm-12 text-center"},w=u((function(){return(0,r._)("img",{src:c,alt:"loader"},null,-1)})),m=[w],g={key:1,class:"col-12"},y={class:"row"},x={class:"col-12 col-md-12 col-lg-12"},_={class:"card"},k={class:"card-title pt-2"},Z={class:"text-center"},b={class:"card-body"},M=u((function(){return(0,r._)("div",{class:"d-flex align-items-center justify-content-center"},[(0,r._)("div",{class:"border rounded avatar-55 d-flex align-items-center justify-content-center"},[(0,r._)("img",{class:"img-fluid",src:i,alt:""})])],-1)})),S={class:"mt-4"},H={class:"text-center rtl"},T=u((function(){return(0,r._)("p",{class:"mb-0 text-center"},"مجموع الساعات",-1)})),D={class:"form-group col-12"},q={class:"col-12 col-md-12 col-lg-12"},O={class:"card"},Y={class:"card-title pt-2"},A={class:"text-center"},z={class:"card-body"},W={class:"d-flex align-items-center justify-content-around"},Q=u((function(){return(0,r._)("div",{class:"border rounded avatar-55 d-flex align-items-center justify-content-center"},[(0,r._)("img",{class:"img-fluid",src:i,alt:""})],-1)})),j={class:"text-center rtl"},C=u((function(){return(0,r._)("p",{class:"mb-0 text-center"},"مجموع الساعات",-1)})),F={class:"card-title pt-2 px-2 d-flex align-items-center"},K=u((function(){return(0,r._)("span",{class:"material-symbols-outlined"}," atr ",-1)})),J={class:"card-body"},E={class:"blog-description"},I={class:"table w-100 table-bordered"},L=u((function(){return(0,r._)("thead",null,[(0,r._)("tr",{class:"py-3"},[(0,r._)("th",{scope:"col"},"الاسم"),(0,r._)("th",{scope:"col"},"الأحد"),(0,r._)("th",{scope:"col"},"الاثنين"),(0,r._)("th",{scope:"col"},"الثلاثاء"),(0,r._)("th",{scope:"col"},"الأربعاء"),(0,r._)("th",{scope:"col"},"الخميس"),(0,r._)("th",{scope:"col"},"الجمعة"),(0,r._)("th",{scope:"col"},"السبت"),(0,r._)("th",{scope:"col"},"مجموع الساعات"),(0,r._)("th",{scope:"col"},"أيام التقصير")])],-1)})),B=["colspan"],N=u((function(){return(0,r._)("td",{class:"bold"},"المجموع بالدقائق",-1)})),P=["colspan"],R=u((function(){return(0,r._)("td",{class:"bold"},"المجموع بالساعات",-1)})),U=["colspan"],V=u((function(){return(0,r._)("hr",null,null,-1)}));function G(t,e,n,c,i,u){var w,G,X;return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",l,[(0,r._)("div",p,[(0,r._)("div",d,[h,(0,r._)("div",v,[i.loading?((0,r.wg)(),(0,r.iD)("div",f,m)):((0,r.wg)(),(0,r.iD)("div",g,[(0,r._)("div",y,[(0,r._)("div",x,[(0,r._)("div",_,[(0,r._)("div",k,[(0,r._)("h3",Z,(0,a.zw)(null===(w=i.lastWeek)||void 0===w?void 0:w.title),1)]),(0,r._)("div",b,[M,(0,r._)("div",S,[(0,r._)("h4",H,(0,a.zw)(null!==(G=i.lastWeek)&&void 0!==G&&G.minutes?t.minutesToHoursAndMinutes(null===(X=i.lastWeek)||void 0===X?void 0:X.minutes):0),1),T])])])]),(0,r._)("div",D,[(0,r.wy)((0,r._)("input",{type:"month",class:"form-control",id:"inputMonth","onUpdate:modelValue":e[0]||(e[0]=function(t){return i.selectedMonthYear=t})},null,512),[[s.nr,i.selectedMonthYear]])]),(0,r._)("div",q,[(0,r._)("div",O,[(0,r._)("div",Y,[(0,r._)("h3",A,"شهر "+(0,a.zw)(u.monthTitle),1)]),(0,r._)("div",z,[(0,r._)("div",W,[Q,(0,r._)("div",null,[(0,r._)("h4",j,(0,a.zw)(i.minutesOfSelectedMonth),1),C])]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.workingHours,(function(e,n){return(0,r.wg)(),(0,r.iD)("div",{class:"card mt-4",key:n},[(0,r._)("div",F,[K,(0,r._)("h5",null,(0,a.zw)(n),1)]),(0,r._)("div",J,[(0,r._)("div",E,[(0,r._)("table",I,[L,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.objectToArray(e),(function(e){return(0,r.wg)(),(0,r.iD)(r.HY,{key:e.key},[(0,r._)("tr",null,[(0,r._)("td",{colspan:i.columns,class:"table-info text-center bold py-2"},(0,a.zw)(e.key),9,B)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.value,(function(e){return(0,r.wg)(),(0,r.iD)("tr",{key:e.user.id},[(0,r._)("td",null,(0,a.zw)(e.user.name),1),((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(7,(function(n){var s,c;return(0,r._)("td",{key:n,class:(0,a.C_)(["text-white text-center",{"bg-primary":u.isMoreThanOneHour(null!==(s=e.days[n])&&void 0!==s?s:0),"bg-danger":!u.isMoreThanOneHour(null!==(c=e.days[n])&&void 0!==c?c:0)}])},(0,a.zw)(e.days[n]?t.minutesToHoursAndMinutes(e.days[n]):0),3)})),64)),(0,r._)("td",null,(0,a.zw)(e.minutes?t.minutesToHoursAndMinutes(e.minutes):0),1),(0,r._)("td",null,(0,a.zw)(u.calculateDaysLessThanOneHour(e.days)),1)])})),128)),(0,r._)("tr",null,[N,(0,r._)("td",{class:"bold",colspan:i.columns-1},(0,a.zw)(e.value?u.calculateTotalMinutes(e.value)+" دقيقة":0),9,P)]),(0,r._)("tr",null,[R,(0,r._)("td",{class:"bold",colspan:i.columns-1},(0,a.zw)(e.value?t.minutesToHoursAndMinutes(u.calculateTotalMinutes(e.value)):0),9,U)])],64)})),128))])]),V])])])})),128))])])])])]))])])])])])}var X=n(95082),$=n(50124),tt=n(48534),et=(n(34338),n(278),n(60228),n(90031)),nt=n(31025),rt=n(60351),at={name:"WorkingHoursStats",created:function(){var t=this;return(0,tt.Z)((0,$.Z)().mark((function e(){return(0,$.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getStatistics();case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=new Date,e=nt.Z.getMonthAndYear(t),n=e.year,r=e.month,a="".concat(n,"-").concat(r);this.selectedMonthYear=a},data:function(){return{lastWeek:null,workingHours:[],selectedMonth:(new Date).getMonth()+1,minutesOfSelectedMonth:0,loading:!1,columns:10,selectedMonthYear:""}},computed:{monthTitle:function(){var t=nt.Z.getMonthAndYear(this.selectedMonthYear),e=t.month;return rt.b5[e]}},watch:{selectedMonthYear:function(){this.getStatistics()}},methods:(0,X.Z)((0,X.Z)({},nt.Z),{},{getStatistics:function(){var t=this;return(0,tt.Z)((0,$.Z)().mark((function e(){var n,r;return(0,$.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,et.Z.getWorkingHoursStatistics(t.selectedMonthYear);case 4:n=e.sent,r=n.data,t.lastWeek=r.lastWeek,t.workingHours=r.workingHours,t.minutesOfSelectedMonth=r.minutesOfSelectedMonth?t.minutesToHoursAndMinutes(r.minutesOfSelectedMonth):0,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.toggleErrorToast();case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()},calculateTotalMinutes:function(t){return t.reduce((function(t,e){return t+e.minutes}),0)},isMoreThanOneHour:function(t){return t>=60},calculateDaysLessThanOneHour:function(t){for(var e=0,n=1;n<=7;n++)(!t["0".concat(n)]||t["0".concat(n)]&&t["0".concat(n)]<60)&&e++;return--e}})},st=n(83744);const ct=(0,st.Z)(at,[["render",G],["__scopeId","data-v-ea50794a"]]);var it=ct},51948:function(t,e,n){t.exports=n.p+"img/chart.d628d913.gif"},38657:function(t,e,n){t.exports=n.p+"img/loader-3.208ab985.gif"},88820:function(t,e,n){var r=n(10509),a=n(90690),s=n(94413),c=n(6310),i=TypeError,u=function(t){return function(e,n,u,o){r(n);var l=a(e),p=s(l),d=c(l),h=t?d-1:0,v=t?-1:1;if(u<2)while(1){if(h in p){o=p[h],h+=v;break}if(h+=v,t?h<0:d<=h)throw new i("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=v)h in p&&(o=n(o,p[h],h,l));return o}};t.exports={left:u(!1),right:u(!0)}},278:function(t,e,n){var r=n(79989),a=n(88820).left,s=n(16834),c=n(3615),i=n(50806),u=!i&&c>79&&c<83,o=u||!s("reduce");r({target:"Array",proto:!0,forced:o},{reduce:function(t){var e=arguments.length;return a(this,t,e,e>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=801-legacy.30721d35.js.map