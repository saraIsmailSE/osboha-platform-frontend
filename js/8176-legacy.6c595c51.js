"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[8176],{28176:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});n(38077),n(60228),n(89730);var i=n(66252),l=n(3577),o={class:"col-sm-12 mt-3"},c={class:"iq-card-header-toolbar d-flex align-items-center mx-auto"},r={class:"text-center mt-3 mb-3"},a={class:"iq-card-body p-3"},s={class:"d-flex align-items-center mt-3"},u={class:"col-12"},d={class:"card card-block card-stretch card-height blog"},p=(0,i._)("div",{class:"card-header"},[(0,i._)("h2",null,"الاجازات")],-1),_={class:"card-body"},g={class:"form-group"},h=(0,i._)("option",{value:""},"فلترة حسب",-1),m=(0,i._)("option",{value:"oldest"}," الأقدم ",-1),f=(0,i._)("option",{value:"latest"}," الأحدث ",-1),v=(0,i._)("option",{value:"freez"}," تجميد فقط ",-1),w=(0,i._)("option",{value:"exceptional_freez"}," تجميد استثنائي فقط ",-1),x=(0,i._)("option",{value:"exams"}," امتحانات فقط ",-1),b=(0,i._)("option",{value:"accepted"}," مقبول ",-1),k=(0,i._)("option",{value:"pending"}," بانتظار الموافقة ",-1),y=(0,i._)("option",{value:"rejected"}," مرفوض ",-1),Z=(0,i._)("option",{value:"finished"}," منتهي ",-1),z=[h,m,f,v,w,x,b,k,y,Z],D={class:"blog-description"},q={class:"table w-100"},C=(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"اسم السفير"),(0,i._)("th",{scope:"col"},"نوع الاجازة"),(0,i._)("th",{scope:"col"},"الحالة"),(0,i._)("th",{scope:"col"},"الانتهاء")])],-1),E={key:0},j={key:0},M={key:1},O=(0,i._)("td",null,[(0,i._)("i",{role:"button",class:"material-symbols-outlined md-18 me-1 text-primary"}," visibility ")],-1),W={key:1},$=(0,i._)("tr",{colspan:"4"},[(0,i._)("td",null,"لا يوجد بيانات لعرضها")],-1),A=[$],F=(0,i._)("hr",null,null,-1),G={class:"d-flex align-items-center mt-3 row"},H={class:"d-inline-block w-100 text-center col-12"};function K(e,t,n,h,m,f){var v=(0,i.up)("router-link"),w=(0,i.up)("iq-card");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",o,[(0,i.Wm)(w,{class:"iq-card"},{default:(0,i.w5)((function(){return[(0,i._)("div",c,[(0,i._)("h3",r,(0,l.zw)(m.group_title)+" - "+(0,l.zw)(m.week_title),1)]),(0,i._)("div",a,[(0,i._)("div",s,[(0,i._)("div",u,[(0,i._)("div",d,[p,(0,i._)("div",_,[(0,i._)("div",g,[(0,i._)("select",{class:"form-select",onChange:t[0]||(t[0]=function(e){return f.filter(e)}),"data-trigger":"",name:"choices-single-default",id:"choices-single-default"},z,32)]),(0,i._)("div",D,[(0,i._)("table",q,[C,m.exceptions&&m.exceptions.length>0?((0,i.wg)(),(0,i.iD)("tbody",E,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.exceptions.slice(0,m.length),(function(e){return(0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,(0,l.zw)(e.user.name),1),(0,i._)("td",null,(0,l.zw)(e.type.type),1),(0,i._)("td",null,(0,l.zw)(m.exception_status[e.status]),1),e.end_at?((0,i.wg)(),(0,i.iD)("td",j,(0,l.zw)(e.end_at),1)):((0,i.wg)(),(0,i.iD)("td",M,"------")),(0,i.Wm)(v,{to:{name:"exceptions.listException",params:{exception_id:e.id}}},{default:(0,i.w5)((function(){return[O]})),_:2},1032,["to"])])})),128))])):((0,i.wg)(),(0,i.iD)("tbody",W,A))]),m.exceptions&&m.exceptions.length>m.length?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"w-100 text-center mt-3 btn",role:"button",onClick:t[1]||(t[1]=function(e){return f.loadMore()})}," عرض المزيد ")):(0,i.kq)("",!0),F])])])])]),(0,i._)("div",G,[(0,i._)("div",H,[(0,i._)("button",{type:"",onClick:t[2]||(t[2]=function(e){return f.back()}),class:"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto"}," عودة للفريق ")])])])]})),_:1})])])}var L=n(50124),Y=n(48534),B=(n(70560),n(22658)),I={name:"List Exceptions",created:function(){var e=this;return(0,Y.Z)((0,L.Z)().mark((function t(){var n;return(0,L.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.Z.getAllGroupExceptions(e.group_id);case 3:n=t.sent,e.exceptions=n.exceptions,e.group_title=n.group.name,e.week_title=n.week.title,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},data:function(){return{exceptions:null,group_title:"",week_title:"",group_id:this.$route.params.group_id,exception_status:{pending:"قيد المراجعة",accepted:"مقبول",rejected:"مرفوض",cancelled:"ملغي",finished:"منتهي"},length:10}},methods:{loadMore:function(){this.length+=10},back:function(){this.$router.push({name:"group.group-detail",params:{group_id:this.group_id}})},filter:function(e){var t=this;return(0,Y.Z)((0,L.Z)().mark((function n(){return(0,L.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,B.Z.exceptionsFilter(e.target.value,t.group_id);case 2:t.exceptions=n.sent;case 3:case"end":return n.stop()}}),n)})))()}}},J=n(83744);const N=(0,J.Z)(I,[["render",K]]);var P=N}}]);
//# sourceMappingURL=8176-legacy.6c595c51.js.map