{"version":3,"file":"js/455.8ea11833.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/audit-marks.service.js","webpack://Osboha180/./src/views/OsbohaMain/Group/AuditMarks/Mark.vue","webpack://Osboha180/./src/components/group/audit/Note.vue","webpack://Osboha180/./src/components/group/audit/Note.vue?c3dc","webpack://Osboha180/./src/views/OsbohaMain/Group/AuditMarks/Mark.vue?4785"],"sourcesContent":["import { api, handelErrors } from \"../Intercepter\";\n\nclass AuditMarks {\n\n  constructor() {\n    this.prefix = 'audit-marks'\n  }\n\n  /**\n   * get audit marks with group exceptions => list only for group administrators\n *  @param  group_id\n * @return mark with Achievement\n */\n  async groupAuditMarks(group_id) {\n    try {\n      const response = await api.get(`${this.prefix}/group-audit-marks/${group_id}`)\n        .catch((error) => { // error is handled in catch block\n          if (error.response) {\n            handelErrors(error.response.status)\n\n          } else if (error.request) { // The request was made but no response was received\n            console.log(error.request);\n          } else {// Error on setting up the request\n            console.log('Error', error.message);\n          }\n        });\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n  /**\n   * get mark with theses by mark id => list only for group administrators\n *  @param  mark_for_audit_id\n * @return mark with Achievement\n */\n  async markForAudit(mark_for_audit_id) {\n    try {\n      const response = await api.get(`${this.prefix}/mark-for-audit/${mark_for_audit_id}`)\n        .catch((error) => { // error is handled in catch block\n          if (error.response) {\n            handelErrors(error.response.status)\n\n          } else if (error.request) { // The request was made but no response was received\n            console.log(error.request);\n          } else {// Error on setting up the request\n            console.log('Error', error.message);\n          }\n        });\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  /**\n* Update Mark for Audit Status.\n*\n* @param  status, mark_for_audit_id\n*/\n  async updateMarkForAuditStatus(status, id) {\n    try {\n      const response = api.patch(`${this.prefix}/update-mark-for-audit-status/${id}`, {\n        status: status,\n      }).catch((error) => { // error is handled in catch block\n        if (error.response) {\n          handelErrors(error.response.status)\n\n        } else if (error.request) { // The request was made but no response was received\n          console.log(error.request);\n        } else {// Error on setting up the request\n          console.log('Error', error.message);\n        }\n      });\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n\n  }\n\n  /**\n  * Add Note.\n  *  @param  noteForm\n  * @return response\n  */\n  async addNote(noteForm) {\n    try {\n      const response = await api.post(`/${this.prefix}/add-note`, noteForm, {\n        headers: { \"Content-type\": \"multipart/form-data\" },\n      }).catch((error) => { // error is handled in catch block\n        if (error.response) {\n          handelErrors(error.response.status)\n\n        } else if (error.request) { // The request was made but no response was received\n          console.log(error.request);\n        } else {// Error on setting up the request\n          console.log('Error', error.message);\n        }\n      });\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n\n  /**\n  * get all groups audit for supervisor.\n  * @return response\n  */\n  async groupsAudit(supervisor_id) {\n    try {\n      const response = await api.get(`/${this.prefix}/groups-audit/${supervisor_id}`)\n        .catch((error) => { // error is handled in catch block\n          if (error.response) {\n            handelErrors(error.response.status)\n\n          } else if (error.request) { // The request was made but no response was received\n            console.log(error.request);\n          } else {// Error on setting up the request\n            console.log('Error', error.message);\n          }\n        })\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n  /**\n  * get all groups audit for supervisor.\n  * @return response\n  */\n  async supervisorsAudit(advisor_id) {\n    try {\n      const response = await api.get(`/${this.prefix}/supervisors-audit/${advisor_id}`)\n        .catch((error) => { // error is handled in catch block\n          if (error.response) {\n            handelErrors(error.response.status)\n\n          } else if (error.request) { // The request was made but no response was received\n            console.log(error.request);\n          } else {// Error on setting up the request\n            console.log('Error', error.message);\n          }\n        })\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  \n  /**\n  * get all advisor audit .\n  * @return response\n  */\n  async advisorMainAudit(advisor_id) {\n    try {\n      const response = await api.get(`/${this.prefix}/advisor-main-audit/${advisor_id}`)\n        .catch((error) => { // error is handled in catch block\n          if (error.response) {\n            handelErrors(error.response.status)\n\n          } else if (error.request) { // The request was made but no response was received\n            console.log(error.request);\n          } else {// Error on setting up the request\n            console.log('Error', error.message);\n          }\n        })\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n  \n\n  /**\n  * get notes for specific audit.\n  * @return response\n  */\n  async getNotes(mark_for_audit_id) {\n    try {\n      const response = await api.get(`/${this.prefix}/get-notes/${mark_for_audit_id}`)\n        .catch((error) => { // error is handled in catch block\n          if (error.response) {\n            handelErrors(error.response.status)\n\n          } else if (error.request) { // The request was made but no response was received\n            console.log(error.request);\n          } else {// Error on setting up the request\n            console.log('Error', error.message);\n          }\n        })\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  \n  /**\n  * Get Pending Theses.\n  * @param supervisor_id\n  * @return response\n  */\n  async   pendingTheses(supervisor_id) {\n    try {\n      const response = await api.get(`/${this.prefix}/pending-theses/${supervisor_id}`)\n        .catch((error) => { // error is handled in catch block\n          if (error.response) {\n            handelErrors(error.response.status)\n\n          } else if (error.request) { // The request was made but no response was received\n            console.log(error.request);\n          } else {// Error on setting up the request\n            console.log('Error', error.message);\n          }\n        })\n      return response.data.data;\n    } catch (error) {\n      return error;\n    }\n  }\n\n\n}\n\nexport default new AuditMarks();","<template>\r\n    <div>\r\n        <div class=\"col-sm-12 mt-3\">\r\n            <count-down v-if=\"week && authorized\" :week=\"week\" :timer_type=\"'audit_timer'\" />\r\n\r\n            <iq-card class=\"iq-card\">\r\n                <div class=\"iq-card-header-toolbar d-flex align-items-center mx-auto\">\r\n                    <h3 class=\"text-center mt-3 mb-3\" style=\" direction: rtl;\" v-if=\"mark && week\">{{ mark.user.name }} -\r\n                        الأسبوع {{ week.title }}\r\n                    </h3>\r\n                </div>\r\n                <div class=\"text-center\">\r\n                    <span v-if=\"mark_for_audit\"\r\n                        :class=\"`ms-2 rounded badge text-white ${statusClass(mark_for_audit.status)}`\">{{\r\n                            audit_status[mark_for_audit.status] }}</span>\r\n                </div>\r\n\r\n                <div class=\"iq-card-body p-3\">\r\n                    <AchievementCard v-if=\"mark\" :mark=\"mark\" :group=\"group\" />\r\n                    <div class=\"d-flex align-items-center mt-3\">\r\n                        <Check v-if=\"Object.keys(theses).length > 0\" :theses=\"theses\" />\r\n                        <div v-else class=\"alert alert-secondary w-100 text-center\" role=\"alert\">\r\n                            لا يوجد انجاز\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"d-flex align-items-center mt-3 row\">\r\n                        <div class=\"text-center mb-3\" v-if=\"!expired && authorized\">\r\n                            <button class=\"btn btn-primary ms-1 me-1\" @click=\"updateStatus('acceptable')\">مقبول</button>\r\n                            <button class=\"btn btn-danger ms-1 me-1\" @click=\"updateStatus('unacceptable')\">مرفوض</button>\r\n                            <div v-if=\"msg\" class=\"alert alert-primary mt-2\">{{ msg }}</div>\r\n                        </div>\r\n\r\n                        <Note v-if=\"mark_for_audit\" />\r\n                        <div class=\"d-flex align-items-center mt-3 row\">\r\n                            <div class=\"d-inline-block w-100 text-center col-12\">\r\n                                <a role=\"button\" @click=\"$router.go(-1)\" class=\" d-block mt-3 mb-3 w-75 mx-auto\">\r\n                                    <span>عودة</span>\r\n                                    <span class=\"align-middle material-symbols-outlined\">\r\n                                        keyboard_return\r\n                                    </span>\r\n                                </a>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </iq-card>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport AchievementCard from '@/components/book/theses/achievement-card.vue'\r\nimport Check from '@/components/book/theses/check.vue'\r\nimport CountDown from '@/components/timer/Countdown.vue'\r\nimport Note from '@/components/group/audit/Note.vue'\r\nimport AuditMarkService from '@/API/services/audit-marks.service';\r\nimport UserInfoService from \"@/Services/userInfoService\";\r\n\r\nexport default {\r\n    name: \"Audit Mark\",\r\n    async created() {\r\n\r\n        try {\r\n            const response = await AuditMarkService.markForAudit(this.$route.params.mark_for_audit);\r\n            this.mark_for_audit = response.mark_for_audit;\r\n            this.mark = response.mark_for_audit.mark;\r\n            this.theses = response.theses.reduce((groupByBook, item) => {\r\n                const group = (groupByBook[item.book.name] || []);\r\n                group['title'] = item.book.name;\r\n                group.push(item);\r\n                groupByBook[item.book.name] = group;\r\n                return groupByBook;\r\n            }, {});\r\n            this.group = response.group\r\n            this.week = response.week\r\n            this.expired = this.time < 0;\r\n\r\n            this.authorized = response.authorized\r\n\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    components: {\r\n        Check,\r\n        AchievementCard,\r\n        CountDown,\r\n        Note\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            theses: [],\r\n            group: null,\r\n            week: null,\r\n            expired: true,\r\n            mark: null,\r\n            authorized: false,\r\n            mark_for_audit: null,\r\n            audit_status: {\r\n                'acceptable': \"مقبول\",\r\n                'unacceptable': \"مرفوض\",\r\n                'not_audited': \"لم يتم تدقيقه\",\r\n            },\r\n            msg: '',\r\n\r\n        };\r\n    },\r\n    methods: {\r\n\r\n        /**\r\n        * return status bg-color class.\r\n        *  @param  status\r\n        * @return class\r\n        */\r\n        statusClass(status) {\r\n            switch (status) {\r\n                case 'acceptable':\r\n                    return 'bg-primary'\r\n\r\n                case 'unacceptable':\r\n                    return 'bg-danger'\r\n\r\n                default:\r\n                    return 'bg-dark'\r\n            }\r\n        },\r\n        /**\r\n        * update status of mark for audit.\r\n        *  @param  status\r\n        */\r\n        async updateStatus(status) {\r\n            const response = await AuditMarkService.updateMarkForAuditStatus(status, this.$route.params.mark_for_audit);\r\n            this.mark_for_audit.status = status\r\n            this.msg = 'تم التدقيق'\r\n        },\r\n    },\r\n    computed: {\r\n        user() {\r\n            return this.$store.getters.getUser;\r\n        },\r\n        isAdvisor() {\r\n            return UserInfoService.hasRole(this.user, \"advisor\");\r\n        },\r\n\r\n        time() {\r\n            const riyadh = new Date().toLocaleString(\"en-US\", { timeZone: \"Asia/Riyadh\" });\r\n            const date = new Date(this.week.audit_timer);\r\n            const now = new Date(riyadh);\r\n            if (this.isAdvisor) {\r\n                return (date.getTime() + (26 * 60 * 60 * 1000)) - now;\r\n            }\r\n            return date - now;\r\n        },\r\n    },\r\n\r\n};\r\n</script>","<template>\r\n    <iq-card body-class=\"p-0\">\r\n        <template v-slot:body>\r\n\r\n            <!-- START NOTES -->\r\n            <div class=\"col-12\">\r\n                <div class=\"card\">\r\n                    <div class=\"card-header\" style=\"background:#cae0cd;\">\r\n                        <h4 class=\"card-title\"> ملاحظات حول الانجاز </h4>\r\n                    </div>\r\n                    <div class=\"card-content\">\r\n                        <div class=\"card-body\">\r\n                            <div class=\"row rounded-lg overflow-hidden shadow\">\r\n                                <!-- NOtes Box-->\r\n                                <div class=\"col-12 px-0\">\r\n                                    <div class=\"px-4 py-5 chat-box bg-white\" v-if=\"notes\" id=\"notes_container\">\r\n                                        <div v-for=\"note in notes\" :key=\"note.id\" class=\"media w-auto mb-3\"\r\n                                            :class=\"[note.from_id == user.id ? 'ml-auto' : 'ltrDirection']\">\r\n                                            <base-avatar v-if=\"note.from_id != user.id\" :profileImg=\"note.from.user_profile.profile_picture\r\n                                                \" :profile_id=\"note.from.user_profile.id\" :title=\"note.from.name\"\r\n                                                :gender=\"note.from.gender\" avatarClass=\"rounded-circle avatar-40\"\r\n                                                width=\"50\" />\r\n                                            <div class=\"media-body ml-3\">\r\n\r\n                                                <div class=\"rounded py-2 px-3 mb-2\"\r\n                                                    :class=\"[note.from_id == user.id ? 'bg-sender' : 'bg-recipient']\">\r\n                                                    <small v-if=\"note.from_id != user.id\" class=\"font-weight-bold\">\r\n                                                        {{ note.from.name }}\r\n                                                    </small>\r\n\r\n                                                    <p class=\"text-small mb-0 text-muted\">\r\n                                                        {{ note.body }}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <p class=\"small text-muted\">\r\n                                                    {{ formatFullDate(note.created_at) }}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                                    <div class=\"col-sm-12 text-center\" v-if=\"loader\">\r\n                                        <img src=\"@/assets/images/page-img/page-load-loader.gif\" alt=\"loader\"\r\n                                            style=\"height: 100px\" />\r\n                                    </div>\r\n\r\n                                    <!-- Typing area -->\r\n                                    <form @submit.prevent=\"submitNote()\" class=\"mt-2\">\r\n                                        <div class=\"input-group\">\r\n                                            <div class=\"input-group-append m-auto\">\r\n                                                <button id=\"button-addon2\" type=\"submit\" class=\"btn btn-link\">\r\n                                                    <span class=\"display-5 text-dark material-symbols-outlined\">\r\n                                                        send\r\n                                                    </span>\r\n                                                </button>\r\n                                            </div>\r\n                                            <input type=\"text\" placeholder=\"اكتب ملاحظة\"\r\n                                                aria-describedby=\"button-addon2\"\r\n                                                class=\"border-bottom form-control rounded-0 border-0 py-4\"\r\n                                                v-model=\"v$.noteForm.body.$model\">\r\n                                            <small style=\"color: red\" v-if=\"v$.noteForm.body.$invalid\">\r\n                                                الملاحظة مطلوبة\r\n                                            </small>\r\n                                        </div>\r\n                                    </form>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </iq-card>\r\n</template>\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required } from \"@vuelidate/validators\";\r\nimport AuditMarkService from '@/API/services/audit-marks.service';\r\nimport helper from \"@/utilities/helper\";\r\n\r\n\r\nexport default {\r\n    name: \"Audit Notes\",\r\n    setup() {\r\n        return { v$: useVuelidate() };\r\n    },\r\n    async created() {\r\n        this.notes = await AuditMarkService.getNotes(this.noteForm.mark_for_audit_id);\r\n    },\r\n    data() {\r\n        return {\r\n            notes: null,\r\n            loader: false,\r\n            noteForm: {\r\n                body: '',\r\n                mark_for_audit_id: this.$route.params.mark_for_audit,\r\n            }\r\n        };\r\n    },\r\n    validations() {\r\n        return {\r\n            noteForm: {\r\n                body: {\r\n                    required\r\n                },\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        ...helper,\r\n        /**\r\n        * Add Note.\r\n        */\r\n        async submitNote() {\r\n            this.v$.$touch();\r\n            if (!this.v$.noteForm.$invalid) {\r\n                this.loader = true;\r\n                try {\r\n                    const response = await AuditMarkService.addNote(this.noteForm);\r\n                    this.loader = false;\r\n                    this.notes.push(response);\r\n                    this.scrollToEnd();\r\n                    this.noteForm.body = '';\r\n                    this.v$.noteForm.$reset()\r\n                }\r\n                catch (error) {\r\n                    console.log(error);\r\n                }\r\n            }\r\n        },\r\n        scrollToEnd: function () {\r\n            var container = this.$el.querySelector(\"#notes_container\");\r\n            console.log(\"🚀 ~ file: Note.vue:137 ~ container:\", container)\r\n\r\n            container.scrollTop = container.scrollHeight;\r\n        },\r\n\r\n\r\n    },\r\n    computed: {\r\n        user() {\r\n            return this.$store.getters.getUser;\r\n        },\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.validation-alert {\r\n    display: none;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n    width: 5px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n    width: 5px;\r\n    background: #f5f5f5;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n    width: 1em;\r\n    background-color: #ddd;\r\n    outline: 1px solid slategrey;\r\n    border-radius: 1rem;\r\n}\r\n\r\n.text-small {\r\n    font-size: 0.9rem;\r\n}\r\n\r\n.messages-box,\r\n.chat-box {\r\n    height: 510px;\r\n    overflow-y: scroll;\r\n}\r\n\r\n.ltrDirection {\r\n    direction: ltr;\r\n}\r\n\r\n.rounded-lg {\r\n    border-radius: 0.5rem;\r\n}\r\n\r\ninput::placeholder {\r\n    font-size: 0.9rem;\r\n    color: #999;\r\n}\r\n\r\n.bg-sender {\r\n    background-color: #e3ebe4\r\n}\r\n\r\n.bg-recipient {\r\n    background-color: #cae0cd\r\n}\r\n\r\n.font-weight-bold {\r\n    font-weight: bold;\r\n}\r\n</style>","import { render } from \"./Note.vue?vue&type=template&id=21bdfcf4&scoped=true\"\nimport script from \"./Note.vue?vue&type=script&lang=js\"\nexport * from \"./Note.vue?vue&type=script&lang=js\"\n\nimport \"./Note.vue?vue&type=style&index=0&id=21bdfcf4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21bdfcf4\"]])\n\nexport default __exports__","import { render } from \"./Mark.vue?vue&type=template&id=30d8cac8\"\nimport script from \"./Mark.vue?vue&type=script&lang=js\"\nexport * from \"./Mark.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["AuditMarks","constructor","this","prefix","groupAuditMarks","group_id","response","api","get","catch","error","handelErrors","status","request","console","log","message","data","markForAudit","mark_for_audit_id","updateMarkForAuditStatus","id","patch","addNote","noteForm","post","headers","groupsAudit","supervisor_id","supervisorsAudit","advisor_id","advisorMainAudit","getNotes","pendingTheses","class","style","role","_createElementVNode","_hoisted_13","_hoisted_14","_createElementBlock","_hoisted_1","$data","week","authorized","_createBlock","_component_count_down","timer_type","_createVNode","_component_iq_card","_hoisted_2","mark","_hoisted_3","_toDisplayString","user","name","title","_hoisted_4","mark_for_audit","_normalizeClass","$options","statusClass","audit_status","_hoisted_5","_component_AchievementCard","group","_hoisted_6","Object","keys","theses","length","_component_Check","_hoisted_7","_hoisted_8","expired","_hoisted_9","onClick","_cache","$event","updateStatus","msg","_hoisted_10","_component_Note","key","_hoisted_11","_hoisted_12","_ctx","$router","go","src","_imports_0","alt","type","body","_withCtx","notes","_Fragment","_renderList","note","from_id","_component_base_avatar","profileImg","from","user_profile","profile_picture","profile_id","gender","avatarClass","width","formatFullDate","created_at","loader","_hoisted_15","onSubmit","_withModifiers","submitNote","_hoisted_16","_hoisted_17","placeholder","$setup","v$","$model","$invalid","_hoisted_18","setup","useVuelidate","created","AuditMarkService","$route","params","validations","required","methods","_objectSpread","helper","$touch","push","scrollToEnd","$reset","container","$el","querySelector","scrollTop","scrollHeight","computed","$store","getters","getUser","__exports__","reduce","groupByBook","item","book","time","components","Check","AchievementCard","CountDown","Note","isAdvisor","UserInfoService","hasRole","riyadh","Date","toLocaleString","timeZone","date","audit_timer","now","getTime","render"],"sourceRoot":""}