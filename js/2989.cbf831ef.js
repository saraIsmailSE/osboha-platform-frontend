"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[2989],{79113:function(e,r,a){var t=a(24150);class s{constructor(){this.prefix="roles"}async assignRole(e){try{const r=await t.hi.post(`${this.prefix}/assign-role`,e);return r.data.data}catch(r){return r.response}}async ChangeAdvisingTeam(e){try{const r=await t.hi.post(`${this.prefix}/change-advising-team`,e);return r.data.data}catch(r){return r.response}}async supervisorsSwap(e){try{const r=await t.hi.post(`${this.prefix}/supervisors-swap`,e);return r.data.data}catch(r){return r.response}}async newSupervisor_currentToAmbassador(e){try{const r=await t.hi.post(`${this.prefix}/new-supervisor-current-to-ambassador`,e);return r.data.data}catch(r){return r.response}}async newSupervisor_currentToLeader(e){try{const r=await t.hi.post(`${this.prefix}/new-supervisor-current-to-leader`,e);return r.data.data}catch(r){return r.response}}async newLeader_currentToAmbassador(e){try{const r=await t.hi.post(`${this.prefix}/new-leader-current-to-ambassador`,e);return r.data.data}catch(r){return r.response}}async transferLeader(e){try{const r=await t.hi.post(`${this.prefix}/transfer-leader`,e);return r.data.data}catch(r){return r.response}}async transferAmbassador(e){try{const r=await t.hi.post(`${this.prefix}/transfer-ambassador`,e);return r.data.data}catch(r){return r.response}}}r.Z=new s},52989:function(e,r,a){a.r(r),a.d(r,{default:function(){return P}});var t=a(66252),s=a(49963),o=a(3577),n=a(87041),i=a(79885);const d={class:"col-sm-12 mt-3"},c=(0,t._)("div",{class:"iq-card-header-toolbar text-center align-items-center mx-auto"},[(0,t._)("h1",{class:"text-center mt-3"},"تبديل القادة"),(0,t._)("h4",{class:"text-center mt-1 mb-3"},"في فريق الرقابة نفسه")],-1),l=(0,t._)("div",{class:"iq-card-body p-4"},[(0,t._)("div",{class:"image-block text-center"},[(0,t._)("img",{src:n,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),m={class:"col-12 bg-white pt-2"},u={class:"sign-in-from"},p={class:"form-group"},h=(0,t._)("label",{for:"role"},"اختر نوع الاجراء",-1),w=(0,t._)("option",{value:"",selected:""},"اختر نوع الاجراء ...",-1),f=(0,t._)("option",{value:"newLeader_currentToAmbassador"},"قائد جديد - الحالي إلى سفير",-1),v=[w,f],g={class:"form-group"},y=(0,t._)("label",{for:"currentLeader"},"القائد الحالي",-1),b={key:0,style:{color:"red"}},_={key:1,style:{color:"red"}},$={class:"form-group"},L=(0,t._)("label",{for:"newLeader"},"القائد الجديد",-1),k={key:0,style:{color:"red"}},x={key:1,style:{color:"red"}},q={key:0,class:"form-group text-center"},A={style:{color:"red"}},T={key:1,class:"col-sm-12 text-center"},D=(0,t._)("p",{class:"text-center"},"جاري التبديل",-1),S=(0,t._)("img",{src:i,alt:"loader",style:{height:"100px"}},null,-1),F=[D,S],O={key:2,class:"d-inline-block w-100"},C=["disabled"];function Z(e,r,a,n,i,w){const f=(0,t.up)("iq-card");return(0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(f,{class:"iq-card"},{default:(0,t.w5)((()=>[c,l,(0,t._)("div",m,[(0,t._)("div",u,[(0,t._)("div",p,[h,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>i.formOption=e),class:"form-select","data-trigger":"",name:"role",id:"role",onChange:r[1]||(r[1]=e=>w.displayForm())},v,544),[[s.bM,i.formOption]])]),i.formOption?((0,t.wg)(),(0,t.iD)("form",{key:0,class:"mt-2",onSubmit:r[4]||(r[4]=(0,s.iM)((e=>w.onSubmit()),["prevent"]))},[(0,t._)("div",g,[y,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[2]||(r[2]=e=>n.v$.form.currentLeader.$model=e),type:"email",class:"form-control mb-0",id:"currentLeader",placeholder:"ادخل بريد القائد الحالي"},null,512),[[s.nr,n.v$.form.currentLeader.$model]]),n.v$.form.currentLeader.$error?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[n.v$.form.currentLeader.required.$invalid?((0,t.wg)(),(0,t.iD)("small",b,"البريد الالكتروني للقائد الحالي مطلوب")):(0,t.kq)("",!0),n.v$.form.currentLeader.email.$invalid?((0,t.wg)(),(0,t.iD)("small",_,"البريد الالكتروني للقائد الحالي غير صحيح")):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)]),(0,t._)("div",$,[L,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":r[3]||(r[3]=e=>n.v$.form.newLeader.$model=e),type:"email",class:"form-control mb-0",id:"newLeader",placeholder:"ادخل بريد القائد الجديد"},null,512),[[s.nr,n.v$.form.newLeader.$model]]),n.v$.form.newLeader.$error?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[n.v$.form.newLeader.required.$invalid?((0,t.wg)(),(0,t.iD)("small",k,"البريد الالكتروني القائد الجديد مطلوب")):(0,t.kq)("",!0),n.v$.form.newLeader.email.$invalid?((0,t.wg)(),(0,t.iD)("small",x,"البريد الالكتروني القائد الجديد غير صحيح")):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)]),i.message?((0,t.wg)(),(0,t.iD)("div",q,[(0,t._)("small",A,(0,o.zw)(i.message),1)])):(0,t.kq)("",!0),i.loader?((0,t.wg)(),(0,t.iD)("div",T,F)):((0,t.wg)(),(0,t.iD)("div",O,[(0,t._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:i.loader}," تبديل ",8,C)]))],32)):(0,t.kq)("",!0)])])])),_:1})])}var U=a(5705),V=a(10760),H=a(79113),M={name:"Assign Administrator",setup(){return{v$:(0,U.ZP)()}},data(){return{loader:!1,form:{currentLeader:"",newSupervisor:"",newLeader:""},message:"",formOption:"",supervisorsSwap:!1,newLeader_currentToAmbassador:!1,newSupervisor_currentToLeader:!1}},validations(){return{form:{currentLeader:{required:V.C1,email:V.Do},newLeader:{required:(0,V.CF)((function(){return this.newLeader_currentToAmbassador})),email:V.Do}}}},methods:{displayForm(){switch(this.formOption){case"newLeader_currentToAmbassador":this.newLeader_currentToAmbassador=!0,this.resetForm();break;default:this.newLeader_currentToAmbassador=!1,this.resetForm()}},async onSubmit(){if(this.v$.$validate(),!this.v$.$error){this.loader=!0;try{this.message="";let e=null;this.newLeader_currentToAmbassador?e=await H.Z.newLeader_currentToAmbassador(this.form):this.message="يجب اختيار نوع الاجراء!",this.message=e,this.resetForm(),setTimeout((()=>{this.message=""}),1800)}catch(e){this.message="حدث خطأ, يرجى المحاولة لاحقاً"}finally{this.loader=!1}}},resetForm(){this.v$.form.$reset(),this.form={currentLeader:"",newSupervisor:""}}}},Y=a(83744);const z=(0,Y.Z)(M,[["render",Z]]);var P=z},87041:function(e,r,a){e.exports=a.p+"img/supervisors-swap.676723a2.png"}}]);
//# sourceMappingURL=2989.cbf831ef.js.map