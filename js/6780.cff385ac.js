"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[6780],{8417:function(t,e,s){var o=s(24150),a=s(66252),i=s(79940);class n{async create(t){const e=new FormData;e.append("body",t.body),e.append("type",t.type),e.append("timeline_id",t.timeline_id),t.media&&t.media.forEach((t=>{e.append("media[]",t)})),t.tags&&t.tags.forEach((t=>{e.append("tags[]",t)})),t.votes&&t.votes.forEach((t=>{e.append("votes[]",t)}));try{const t=await o.hi.post("/posts",e,{headers:{"Content-type":"multipart/form-data"}});return t.data}catch(s){(0,a.S3)(s)}}async delete(t){try{const e=await o.hi.delete(`/posts/${t}`);return e.data}catch(e){(0,a.S3)(e)}}async getPostById(t){try{const e=await o.hi.get(`/posts/${t}`);return e.data}catch(e){(0,i.F)(e,"PostService.getPostById")}}async updatePostById(t,e,s,a,i){const n=new FormData;n.append("image",i),n.append("type",s),n.append("timeline_id",a),n.append("body",t),n.append("user_id",e);try{return await o.hi.post("/post/update",{formData:n})}catch(l){return l}}async getPostsForMainPage(t){try{const e=await o.hi.get(`/posts/home?page=${t}`);return e.data}catch(e){(0,a.S3)(e)}}async getCurrentWeekSupportPost(){try{const t=await o.hi.get("/posts/current-week-support");return t.data.data}catch(t){(0,a.S3)(t)}}async postsByTimelineId(t,e){try{const s=await o.hi.get(`/posts/timeline/${t}?page=${e}`);return s.data}catch(s){(0,a.S3)(s)}}async getAnnouncements(t){try{const e=await o.hi.get(`/posts/announcements?page=${t}`);return e.data}catch(e){(0,a.S3)(e)}}async getSupportPosts(t){try{const e=await o.hi.get(`/posts/support?page=${t}`);return e.data}catch(e){(0,a.S3)(e)}}async contolComments(t){try{const e=await o.hi.patch(`/posts/${t}/control-comments`);return e.data}catch(e){(0,a.S3)(e)}}async pinPost(t){try{const e=await o.hi.patch(`/posts/pin/${t}`);return e.data}catch(e){(0,a.S3)(e)}}async getLastSupportPost(){try{const t=await o.hi.get("/posts/support/latest");return t.data}catch(t){(0,a.S3)(t)}}async getPendingPosts(t,e=""){try{const s=await o.hi.get(`/posts/pending/timeline/${t}/${e}`);return s.data}catch(s){(0,i.F)(s,"PostService.getPendingPosts")}}async acceptPost(t){try{const e=await o.hi.patch(`/posts/accept/${t}`);return e.data}catch(e){(0,a.S3)(e)}}async declinePost(t){try{const e=await o.hi.patch(`/posts/decline/${t}`);return e.data}catch(e){(0,a.S3)(e)}}}e.Z=new n},12174:function(t,e,s){var o=s(66252),a=s(24150);class i{async create(t){try{const e=await a.hi.post("/poll-votes",t);return e.data}catch(e){(0,o.S3)(e)}}async getPostVotesUsers(t,e=""){try{const s=await a.hi.get(`/poll-votes/posts/${t}/users/${e}`);return s.data}catch(s){(0,o.S3)(s)}}}e.Z=new i},79940:function(t,e,s){s.d(e,{F:function(){return a}});s(70560);var o=s(1120);function a(t,e=""){throw console.log(`[ERROR] ${e} =>`,t.response.data),404===t.response.data.statusCode?o.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&o.Z.push({name:"NotAuthorized"}),t}},66107:function(t,e,s){s.d(e,{Z:function(){return f}});s(76265);var o=s(66252),a=s(3577),i=s(49963);const n={class:"mt-3"},l=["innerHTML"],r={key:0,class:"mt-3"},d={class:"poll-input d-flex justify-content-around align-items-center w-100 h-100"},c=["id","value","disabled"],p=["for"],u={class:"me-2 text-primary bold-600"};function h(t,e,s,h,g,m){var v;const y=(0,o.up)("progressbar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",n,[(0,o._)("p",{style:{"white-space":"pre-wrap",direction:"rtl"},innerHTML:m.urlifyFn(g.shortPostText)},null,8,l),m.isMore?((0,o.wg)(),(0,o.iD)("a",{key:0,dir:"ltr",role:"button",class:"load-btn",onClick:e[0]||(e[0]=(...t)=>m.loadMoreBriefText&&m.loadMoreBriefText(...t))},"...قراءة المزيد")):(0,o.kq)("",!0),m.isLess?((0,o.wg)(),(0,o.iD)("a",{key:1,dir:"ltr",role:"button",class:"load-btn",onClick:e[1]||(e[1]=(...t)=>m.loadLessBriefText&&m.loadLessBriefText(...t))},"قراءة أقل")):(0,o.kq)("",!0)]),null!==(v=m.post.pollOptions)&&void 0!==v&&v.length?((0,o.wg)(),(0,o.iD)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.post.pollOptions,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"progress my-2 border border-light rounded bg-transparent",key:t.id},[(0,o.Wm)(y,{style:(0,a.j5)({width:m.getOptionVotesPercentage(t.id)}),class:"progress-bar",className:"rounded","aria-valuemin":"0","aria-valuemax":"100"},null,8,["style"]),(0,o._)("div",d,[(0,o.wy)((0,o._)("input",{type:"radio",id:t.id,value:t.id,"onUpdate:modelValue":e[2]||(e[2]=t=>g.choosedOption=t),class:"ms-1 mt-0",onChange:e[3]||(e[3]=(...t)=>m.vote&&m.vote(...t)),disabled:!m.post.allow_comments},null,40,c),[[i.G2,g.choosedOption]]),(0,o._)("label",{for:t.id,class:"form-check-label flex-grow-1 text-truncate ms-2 align-right"},(0,a.zw)(t.option),9,p),(0,o._)("span",u,(0,a.zw)(m.getOptionVotesPercentage(t.id)),1)])])))),128))])):(0,o.kq)("",!0)],64)}s(64043),s(57267);var g=s(12174),m=s(8209),v={name:"PostBody",inject:{voteOnPost:{default:()=>{}},post:{required:!0}},data(){return{choosedOption:"",errorMessage:"",fullPostText:"",shortPostText:""}},mounted(){this.post.pollOptions.length>0&&(this.choosedOption=this.getSelectedOptionId())},created(){var t,e;this.fullPostText=null===(t=this.post)||void 0===t?void 0:t.body,this.shortPostText=null===(e=this.fullPostText)||void 0===e?void 0:e.slice(0,200)},methods:{async vote(){const t={option_id:this.choosedOption,post_id:this.post.id};try{const e=await g.Z.create(t);if(200!==e.statusCode)return void m.Z.toggleToast("حدث خطأ ما, حاول مرة أخرى","error");const s=e.data;if(!s)return;const o=this.getSelectedOptionId();this.voteOnPost({option_id:this.choosedOption,post_id:this.post.id,old_option_id:o,status:s})}catch(s){var e;return console.log("[vote error]",s),this.choosedOption="",null!==(e=s.response)&&void 0!==e&&null!==(e=e.data)&&void 0!==e&&e.message?void m.Z.toggleToast(s.response.data.message,"error"):void m.Z.toggleToast("حدث خطأ ما, حاول مرة أخرى","error")}},getOptionVotesPercentage(t){const e=this.post.votes_count,s=this.post.pollOptions.find((e=>e.id===t)).votes_count;if(0===e)return"0%";const o=Math.round(s/e*100);return`${o}%`},getSelectedOptionId(){const t=this.post.pollOptions.find((t=>!0===t.selected_by_user));return t?t.id:""},urlifyFn(t){if(t){let e=/(https?:\/\/[^\s]+)/g;return t.replace(e,(function(t){return'<a href="'+t+'"  target="_blank" direction: rtl;">'+t+"</a>"}))}},loadMoreBriefText(){this.shortPostText=this.fullPostText},loadLessBriefText(){var t;this.shortPostText=null===(t=this.fullPostText)||void 0===t?void 0:t.slice(0,200)}},computed:{isMore(){var t,e;return(null===(t=this.shortPostText)||void 0===t?void 0:t.length)<(null===(e=this.fullPostText)||void 0===e?void 0:e.length)},isLess(){var t,e,s;return(null===(t=this.shortPostText)||void 0===t?void 0:t.length)>=(null===(e=this.fullPostText)||void 0===e?void 0:e.length)&&(null===(s=this.fullPostText)||void 0===s?void 0:s.length)>200}}},y=s(83744);const w=(0,y.Z)(v,[["render",h],["__scopeId","data-v-a8465150"]]);var f=w},11035:function(t,e,s){s.d(e,{Z:function(){return W}});var o=s(66252),a=s(3577),i=s(49963);const n=t=>((0,o.dD)("data-v-881e41a6"),t=t(),(0,o.Cn)(),t),l={key:0,class:"user-post"},r={class:"row g-2"},d=["onClick"],c=["src"],p={key:0,class:"overlay",role:"button"},u=n((()=>(0,o._)("span",{class:"material-symbols-outlined"}," add ",-1))),h=n((()=>(0,o._)("span",{class:"ms-1"}," المزيد",-1)));function g(t,e,s,n,g,m){const v=(0,o.up)("PostMediaModal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[m.slicedMedia?((0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.slicedMedia,((t,e)=>{var s,n;return(0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["position-relative",m.col]),key:t.path,onClick:(0,i.iM)((t=>m.showPostMedia(e)),["prevent"])},[(0,o._)("img",{src:t.path,alt:"post-image",class:"rounded w-100 h-100 post-image",style:{"object-fit":"cover"}},null,8,c),(null===(s=m.post.media)||void 0===s?void 0:s.length)>m.slicedMedia.length&&e===m.slicedMedia.length-1?((0,o.wg)(),(0,o.iD)("div",p,[u,(0,o._)("span",null,(0,a.zw)((null===(n=m.post.media)||void 0===n?void 0:n.length)-m.slicedMedia.length),1),h])):(0,o.kq)("",!0)],10,d)})),128))])])):(0,o.kq)("",!0),(0,o.Wm)(v,{ref:"postMediaModal"},null,512)],64)}const m={href:"javascript:void(0);",class:"lh-1","data-bs-dismiss":"modal",ref:"galleryModalCloseBtn"},v=(0,o._)("span",{class:"material-symbols-outlined"},"close",-1),y=[v],w={class:"col-12"},f=["id"],_={class:"carousel-indicators"},b=["data-bs-target","data-bs-slide-to","aria-current","aria-label"],P={class:"carousel-inner h-100"},k={class:"d-flex justify-content-center align-items-center h-100"},x=["href"],M=["src","alt"],T=["data-bs-target"],C=(0,o._)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),D=(0,o._)("span",{class:"visually-hidden"},"Previous",-1),$=[C,D],S=["data-bs-target"],Z=(0,o._)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),O=(0,o._)("span",{class:"visually-hidden"},"Next",-1),B=[Z,O];function U(t,e,s,i,n,l){const r=(0,o.up)("model-header"),d=(0,o.up)("model-body"),c=(0,o.up)("modal");return(0,o.wg)(),(0,o.j4)(c,{ref:"galleryModalRef",id:`galleryModal-${l.post.id}`,dialogClass:"modal-lg modal-dialog-centered",tabindex:"-1","aria-labelledby":`galleryModalLabel-${l.post.id}`,"aria-hidden":!0},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("a",m,y,512)])),_:1}),(0,o.Wm)(d,{style:{"background-color":"#eee"}},{default:(0,o.w5)((()=>[(0,o._)("div",w,[(0,o._)("div",{id:`gallery-${l.post.id}`,class:"carousel slide carousel-dark","data-bs-ride":"carousel",style:{height:"60vh"}},[(0,o._)("div",_,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.post.media,((t,e)=>((0,o.wg)(),(0,o.iD)("button",{key:t.id,type:"button","data-bs-target":`#gallery-${l.post.id}`,"data-bs-slide-to":e,"aria-current":e===n.currentMediaIndex,"aria-label":`Slide ${e+1}`,class:(0,a.C_)({active:e===n.currentMediaIndex})},null,10,b)))),128))]),(0,o._)("div",P,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.post.media,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["carousel-item mx-auto h-100",{active:e===n.currentMediaIndex}]),key:t.id},[(0,o._)("div",k,[(0,o._)("a",{href:t.path,target:"_blank"},[(0,o._)("img",{src:t.path,class:"d-block h-100 img-fluid",alt:`Post Image ${e+1}`},null,8,M)],8,x)])],2)))),128))]),(0,o._)("button",{class:"carousel-control-prev",type:"button","data-bs-target":`#gallery-${l.post.id}`,"data-bs-slide":"next"},$,8,T),(0,o._)("button",{class:"carousel-control-next",type:"button","data-bs-target":`#gallery-${l.post.id}`,"data-bs-slide":"prev"},B,8,S)],8,f)])])),_:1})])),_:1},8,["id","aria-labelledby"])}var I=s(79909),F={name:"PostMediaModal",inject:["post"],data(){return{galleryModal:null,currentMediaIndex:0}},mounted(){this.galleryModal=new I.u_(this.$refs.galleryModalRef.$el)},methods:{showPostMedia(t){this.galleryModal.show(),this.currentMediaIndex=t}}},q=s(83744);const z=(0,q.Z)(F,[["render",U]]);var L=z,j={name:"PostMedia",components:{PostMediaModal:L},inject:["post"],computed:{col(){return this.post.media.length>1?"col-6":"col-12"},slicedMedia(){return this.post.media?this.post.media.slice(0,4):[]}},methods:{showPostMedia(t){this.$refs.postMediaModal.showPostMedia(t)}}};const H=(0,q.Z)(j,[["render",g],["__scopeId","data-v-881e41a6"]]);var W=H},34932:function(t,e,s){s.d(e,{Z:function(){return D}});s(76265);var o=s(66252),a=s(3577),i=s(49963);const n={class:"user-post-data"},l={class:"d-flex justify-content-between"},r={class:"d-flex align-items-center"},d={key:0,class:"material-symbols-outlined ms-1"},c={key:1,class:"ms-1 text-white badge bg-danger rounded-pill px-2"},p={key:0,class:"card-post-toolbar"},u=(0,o._)("span",{class:"material-symbols-outlined"}," more_horiz ",-1),h=[u],g=(0,o._)("span",{class:"material-symbols-outlined me-2 md-18"}," push_pin ",-1),m={class:"material-symbols-outlined me-2 md-18"},v=["aria-disabled"],y=(0,o._)("span",{class:"material-symbols-outlined me-2 md-18"}," delete ",-1),w=(0,o._)("span",{class:"material-symbols-outlined me-2 md-18"}," cancel ",-1);function f(t,e,s,u,f,_){const b=(0,o.up)("tooltip"),P=(0,o.up)("PostUser");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",l,[(0,o.Wm)(P,{post:_.post},{date:(0,o.w5)((()=>[(0,o._)("div",r,[(0,o.Wm)(b,{tag:"p",class:"mb-0 text-primary",tooltipPlacement:"bottom","data-bs-toggle":"tooltip",title:t.formatFullDate(_.post.created_at),style:{width:"fit-content"},onClick:_.sendToPostPage},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(t.formatDateToWritten(_.post.created_at)),1)])),_:1},8,["title","onClick"]),_.post.is_pinned?((0,o.wg)(),(0,o.iD)("span",d," push_pin ")):(0,o.kq)("",!0),"announcement"===_.post.type.toLowerCase()?((0,o.wg)(),(0,o.iD)("span",c,"إعلان")):(0,o.kq)("",!0)])])),_:1},8,["post"]),_.byAuth||_.isAdmin?((0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("div",{class:"dropdown-toggle",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false",role:"button",onClick:e[0]||(e[0]=t=>f.show=!f.show)},h),(0,o._)("div",{class:(0,a.C_)("dropdown-menu dropdown-menu-right "+(f.show?"show":"")),"aria-labelledby":"dropdownMenuButton",style:{}},[s.showPin?((0,o.wg)(),(0,o.iD)("a",{key:0,class:"dropdown-item d-flex align-items-center text-primary",href:"#",onClick:e[1]||(e[1]=(0,i.iM)(((...t)=>_.pin&&_.pin(...t)),["prevent"]))},[g,(0,o.Uk)(" "+(0,a.zw)(_.post.is_pinned?"فك التثبيت":"تثبيت"),1)])):(0,o.kq)("",!0),(0,o._)("a",{class:"dropdown-item d-flex align-items-center text-primary",href:"#",onClick:e[2]||(e[2]=(0,i.iM)(((...t)=>_.closeComments&&_.closeComments(...t)),["prevent"]))},[(0,o._)("span",m,(0,a.zw)(_.post.allow_comments?"comments_disabled":"comment"),1),(0,o.Uk)(" "+(0,a.zw)(_.post.allow_comments?"إغلاق":"فتح")+" التعليقات ",1)]),(0,o._)("a",{class:"dropdown-item d-flex align-items-center",href:"#",role:"button","aria-disabled":f.deleteLoading,onClick:e[3]||(e[3]=(0,i.iM)(((...t)=>_.deletePost&&_.deletePost(...t)),["prevent"]))},[y,(0,o.Uk)("حذف")],8,v),(0,o._)("a",{class:"dropdown-item d-flex align-items-center",href:"#",onClick:e[4]||(e[4]=(0,i.iM)((t=>f.show=!1),["prevent"]))},[w,(0,o.Uk)("إغلاق")])],2)])):(0,o.kq)("",!0)])])}var _=s(43144),b=(s(70560),s(8209)),P=s(19947),k=s(8417),x=s(49579),M={name:"PostHeader",inject:{closePostComments:{default:()=>{}},pinPost:{default:()=>{}},postDelete:{default:()=>{}},post:{required:!0}},components:{PostUser:P.Z},props:{showPin:{type:Boolean,default:!1}},data(){return{show:!1,deleteLoading:!1}},computed:{byAuth(){return this.post.user.id===this.$store.getters.getUser.id},isAdmin(){return x.Z.hasRole(this.$store.getters.getUser,"admin")}},methods:(0,_.Z)((0,_.Z)({},b.Z),{},{async closeComments(){try{await k.Z.contolComments(this.post.id),this.closePostComments(this.post.id),this.post.allow_comments?this.toggleToast("تم فتح التعليقات","success"):this.toggleToast("تم إغلاق التعليقات","success")}catch(t){this.toggleToast("حدث خطأ ما, حاول مرة أخرى","error")}},async pin(){try{const t=await k.Z.pinPost(this.post.id);if(200!==t.statusCode)return void this.toggleToast("حدث خطأ ما, حاول مرة أخرى","error");const e="pinned"===t.data;this.pinPost(this.post.id,e),e?this.toggleToast("تم تثبيت المنشور","success"):this.toggleToast("تم فك التثبيت","success")}catch(t){this.toggleToast("حدث خطأ ما, حاول مرة أخرى","error")}},async deletePost(){if(this.deleteLoading)return;const t=this.$swal.mixin({customClass:{confirmButton:"btn btn-primary btn-lg",cancelButton:"btn btn-outline-danger btn-lg ms-2"},buttonsStyling:!1});t.fire({title:"هل أنت متأكد؟",text:"سيتم حذف هذا المنشور نهائياً!",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم, احذف!",cancelButtonText:"تراجع",showClass:{popup:"animate__animated animate__zoomIn"},hideClass:{popup:"animate__animated animate__zoomOut"}}).then((async t=>{if(t.isConfirmed){this.deleteLoading=!0;try{await k.Z.delete(this.post.id),this.postDelete(this.post.id),b.Z.handleSuccessSwal("تم حذف المنشور بنجاح")}catch(e){b.Z.handleErrorSwal("حدث خطأ أثناء الحذف, يرجى المحاولة مرة أخرى!")}finally{this.deleteLoading=!1}}}))},sendToPostPage(){this.post.is_approved?this.$router.push({name:"osboha.post",params:{post_id:this.post.id}}):this.$router.push({name:"osboha.pendingPosts",params:{timeline_id:this.post.timeline.id,post_id:this.post.id}})}})},T=s(83744);const C=(0,T.Z)(M,[["render",f]]);var D=C},19947:function(t,e,s){s.d(e,{Z:function(){return w}});s(76265);var o=s(66252),a=s(3577),i=s(49963);const n=t=>((0,o.dD)("data-v-95a6144a"),t=t(),(0,o.Cn)(),t),l={class:"mx-2 flex-grow-1"},r={class:"author-friends p-0 m-0"},d={class:"mx-1"},c=n((()=>(0,o._)("span",{class:"mx-1"}," مع ",-1))),p=["onClick"],u={key:0,class:"mx-1"},h={key:1};function g(t,e,s,n,g,m){var v,y,w,f,_,b,P,k,x,M,T;const C=(0,o.up)("BaseAvatar");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(C,{profileImg:null===(v=m.userProfile)||void 0===v?void 0:v.profile_picture,profile_id:null===(y=m.userProfile)||void 0===y?void 0:y.id,title:null===(w=s.post.user)||void 0===w?void 0:w.name,gender:null===(f=s.post.user)||void 0===f?void 0:f.gender,avatarClass:"avatar-50 rounded-circle"},null,8,["profileImg","profile_id","title","gender"]),(0,o._)("div",l,[(0,o._)("div",r,[(0,o._)("span",{class:(0,a.C_)(["author-name",{"hover-undelined":m.authUser.id!=(null===(_=s.post.user)||void 0===_?void 0:_.id)}]),role:"button",onClick:e[0]||(e[0]=(0,i.iM)((t=>{var e,o;return m.authUser.id!=(null===(e=s.post.user)||void 0===e?void 0:e.id)?m.sendToProfile(null===(o=s.post.user)||void 0===o?void 0:o.id):null}),["prevent"]))},(0,a.zw)(null===(b=s.post.user)||void 0===b?void 0:b.name),3),s.post.timeline&&(s.post.timeline.user&&s.post.timeline.user.id!=(null===(P=s.post.user)||void 0===P?void 0:P.id)||s.post.timeline.group)?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o._)("span",d,(0,a.zw)(s.post.timeline.user?"عند":"في"),1),s.post.timeline.user&&s.post.timeline.user.id!=(null===(k=s.post.user)||void 0===k?void 0:k.id)?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"author-name hover-undelined",role:"button",onClick:e[1]||(e[1]=(0,i.iM)((t=>{var e;return m.sendToProfile(null===(e=s.post.timeline)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.id)}),["prevent"]))},(0,a.zw)(null!==(x=s.post.timeline.user.name)&&void 0!==x?x:""),1)):s.post.timeline.group?((0,o.wg)(),(0,o.iD)("span",{key:1,class:"author-name hover-undelined",role:"button",onClick:e[2]||(e[2]=(0,i.iM)((t=>m.sendToGroup(s.post.timeline.group.id)),["prevent"]))},(0,a.zw)(null!==(M=s.post.timeline.group.name)&&void 0!==M?M:""),1)):(0,o.kq)("",!0)],64)):(0,o.kq)("",!0),null!==(T=s.post.taggedUsers)&&void 0!==T&&T.length?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[c,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.slicedTaggedFriends,((n,l)=>{var r,d,c,g,v;return(0,o.wg)(),(0,o.iD)("span",{key:n.id},[(0,o._)("span",{class:"author-name hover-undelined",role:"button",onClick:(0,i.iM)((t=>m.sendToProfile(n.user.id)),["prevent"])},(0,a.zw)(null!==(r=null===(d=n.user)||void 0===d?void 0:d.name)&&void 0!==r?r:""),9,p),l!==m.slicedTaggedFriends.length-1||(null===(c=s.post.taggedUsers)||void 0===c?void 0:c.length)>m.slicedTaggedFriends.length?((0,o.wg)(),(0,o.iD)("span",u,"و")):(0,o.kq)("",!0),l===m.slicedTaggedFriends.length-1?((0,o.wg)(),(0,o.iD)("span",h,[(null===(g=s.post.taggedUsers)||void 0===g?void 0:g.length)>m.slicedTaggedFriends.length?((0,o.wg)(),(0,o.iD)("span",{key:0,class:"author-name hover-undelined",role:"button",onClick:e[3]||(e[3]=(0,i.iM)(((...e)=>t.getFriends&&t.getFriends(...e)),["prevent"]))},(0,a.zw)((null===(v=s.post.taggedUsers)||void 0===v?void 0:v.length)-m.slicedTaggedFriends.length)+" أكثر",1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])})),128))],64)):(0,o.kq)("",!0)]),(0,o.WI)(t.$slots,"date",{},void 0,!0)])],64)}s(70560);var m={name:"PostUser",props:{post:{type:Object,required:!0}},computed:{slicedTaggedFriends(){var t;return null===(t=this.post.taggedUsers)||void 0===t?void 0:t.slice(0,3)},profile_picture(){var t;const e=s(29822),o=s(48934),a=null===(t=this.post.user)||void 0===t||null===(t=t.gender)||void 0===t?void 0:t.toLowerCase();return"female"===a?e:o},authUser(){return this.$store.getters.getUser},userProfile(){var t,e,s;return null!==(t=null===(e=this.post)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.profile)&&void 0!==t?t:null===(s=this.post)||void 0===s||null===(s=s.user)||void 0===s?void 0:s.user_profile}},methods:{sendToProfile(t){this.$router.push({name:"user.profile",params:{user_id:t}})},sendToGroup(t){this.$router.push({name:"group.group-detail",params:{group_id:t}})}}},v=s(83744);const y=(0,v.Z)(m,[["render",g],["__scopeId","data-v-95a6144a"]]);var w=y},29822:function(t,e,s){t.exports=s.p+"img/avatar-04.f7603e1d.jpg"},48934:function(t,e,s){t.exports=s.p+"img/avatar-05.5d33d3c7.jpg"}}]);
//# sourceMappingURL=6780.cff385ac.js.map