"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[3683],{79113:function(e,r,t){var a=t(50124),n=t(48534),s=t(13087),i=t(62833),u=t(24150),o=function(){function e(){(0,s.Z)(this,e),this.prefix="roles"}return(0,i.Z)(e,[{key:"assignRole",value:function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/assign-role"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"ChangeAdvisingTeam",value:function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/change-advising-team"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"supervisorsSwap",value:function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/supervisors-swap"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newSupervisor_currentToAmbassador",value:function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/new-supervisor-current-to-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newSupervisor_currentToLeader",value:function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/new-supervisor-current-to-leader"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newLeader_currentToAmbassador",value:function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/new-leader-current-to-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"transferLeader",value:function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/transfer-leader"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"transferAmbassador",value:function(){var e=(0,n.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/transfer-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()}]),e}();r.Z=new o},29968:function(e,r,t){t.r(r),t.d(r,{default:function(){return Y}});var a=t(66252),n=t(49963),s=t(3577),i=t.p+"img/transfer-ambassador.5fd9129b.png",u=t(79885),o={class:"col-sm-12 mt-3"},c=(0,a._)("div",{class:"iq-card-header-toolbar text-center align-items-center mx-auto"},[(0,a._)("h1",{class:"text-center mt-3"},"نقل سفير"),(0,a._)("h4",{class:"text-center mt-1 mb-3"},"إلى فريق متابعة جديدة")],-1),l=(0,a._)("div",{class:"iq-card-body p-4"},[(0,a._)("div",{class:"image-block text-center"},[(0,a._)("img",{src:i,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),p={class:"col-12 bg-white pt-2"},d={class:"sign-in-from"},m={class:"form-group"},v=(0,a._)("label",{for:"ambassador_email"},"السفير المراد نقله",-1),f={key:0,style:{color:"red"}},h={key:1,style:{color:"red"}},b={class:"form-group"},w=(0,a._)("label",{for:"leader_email"},"القائد الجديد",-1),_={key:0,style:{color:"red"}},k={key:1,style:{color:"red"}},g={key:0,class:"form-group text-center"},x={style:{color:"red"}},y={key:1,class:"col-sm-12 text-center"},Z=(0,a._)("p",{class:"text-center"},"جاري النقل",-1),$=(0,a._)("img",{src:u,alt:"loader",style:{height:"100px"}},null,-1),q=[Z,$],D={key:2,class:"d-inline-block w-100"},A=["disabled"];function S(e,r,t,i,u,Z){var $=(0,a.up)("iq-card");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)($,{class:"iq-card"},{default:(0,a.w5)((function(){return[c,l,(0,a._)("div",p,[(0,a._)("div",d,[(0,a._)("form",{class:"mt-2",onSubmit:r[2]||(r[2]=(0,n.iM)((function(e){return Z.onSubmit()}),["prevent"]))},[(0,a._)("div",m,[v,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return i.v$.form.ambassador_email.$model=e}),type:"email",class:"form-control mb-0",id:"ambassador_email",placeholder:"ادخل بريد السفير السفير"},null,512),[[n.nr,i.v$.form.ambassador_email.$model]]),i.v$.form.ambassador_email.$error?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[i.v$.form.ambassador_email.required.$invalid?((0,a.wg)(),(0,a.iD)("small",f,"البريد الالكتروني للسفير مطلوب")):(0,a.kq)("",!0),i.v$.form.ambassador_email.email.$invalid?((0,a.wg)(),(0,a.iD)("small",h,"البريد الالكتروني للسفير غير صحيح")):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0)]),(0,a._)("div",b,[w,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return i.v$.form.leader_email.$model=e}),type:"email",class:"form-control mb-0",id:"leader_email",placeholder:"ادخل بريد القائد الجديد"},null,512),[[n.nr,i.v$.form.leader_email.$model]]),i.v$.form.leader_email.$error?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[i.v$.form.leader_email.required.$invalid?((0,a.wg)(),(0,a.iD)("small",_,"البريد الالكتروني للقائد الجديد مطلوب")):(0,a.kq)("",!0),i.v$.form.leader_email.email.$invalid?((0,a.wg)(),(0,a.iD)("small",k,"البريد الالكتروني للقائد الجديد غير صحيح")):(0,a.kq)("",!0)],64)):(0,a.kq)("",!0)]),u.message?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("small",x,(0,s.zw)(u.message),1)])):(0,a.kq)("",!0),u.loader?((0,a.wg)(),(0,a.iD)("div",y,q)):((0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:u.loader}," نقل ",8,A)]))],32)])])]})),_:1})])}var C=t(50124),T=t(48534),L=t(5705),F=t(10760),H=t(79113),O={name:"Assign Administrator",setup:function(){return{v$:(0,L.ZP)()}},data:function(){return{loader:!1,form:{ambassador_email:"",leader_email:""},message:""}},validations:function(){return{form:{ambassador_email:{required:F.C1,email:F.Do},leader_email:{required:F.C1,email:F.Do}}}},methods:{onSubmit:function(){var e=this;return(0,T.Z)((0,C.Z)().mark((function r(){var t;return(0,C.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.v$.$validate(),e.v$.$error){r.next=19;break}return e.loader=!0,r.prev=3,e.message="",r.next=7,H.Z.transferAmbassador(e.form);case 7:t=r.sent,e.message=t,e.resetForm(),setTimeout((function(){e.message=""}),1800),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](3),e.message="حدث خطأ, يرجى المحاولة لاحقاً";case 16:return r.prev=16,e.loader=!1,r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[3,13,16,19]])})))()},resetForm:function(){this.v$.form.$reset(),this.form={ambassador_email:"",leader_email:""}}}},U=t(83744);const V=(0,U.Z)(O,[["render",S]]);var Y=V}}]);
//# sourceMappingURL=3683-legacy.13ef4ee0.js.map