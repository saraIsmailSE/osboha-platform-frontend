"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[5647],{79113:function(r,e,s){var t=s(24150);class a{constructor(){this.prefix="roles"}async assignRole(r){try{const e=await t.hi.post(`${this.prefix}/assign-role`,r);return e.data.data}catch(e){return e.response}}async ChangeAdvisingTeam(r){try{const e=await t.hi.post(`${this.prefix}/change-advising-team`,r);return e.data.data}catch(e){return e.response}}async supervisorsSwap(r){try{const e=await t.hi.post(`${this.prefix}/supervisors-swap`,r);return e.data.data}catch(e){return e.response}}async newSupervisor_currentToAmbassador(r){try{const e=await t.hi.post(`${this.prefix}/new-supervisor-current-to-ambassador`,r);return e.data.data}catch(e){return e.response}}async newSupervisor_currentToLeader(r){try{const e=await t.hi.post(`${this.prefix}/new-supervisor-current-to-leader`,r);return e.data.data}catch(e){return e.response}}async newLeader_currentToAmbassador(r){try{const e=await t.hi.post(`${this.prefix}/new-leader-current-to-ambassador`,r);return e.data.data}catch(e){return e.response}}async transferLeader(r){try{const e=await t.hi.post(`${this.prefix}/transfer-leader`,r);return e.data.data}catch(e){return e.response}}async transferAmbassador(r){try{const e=await t.hi.post(`${this.prefix}/transfer-ambassador`,r);return e.data.data}catch(e){return e.response}}}e.Z=new a},85647:function(r,e,s){s.r(e),s.d(e,{default:function(){return G}});var t=s(66252),a=s(49963),o=s(3577),i=s(87041),n=s(79885);const u={class:"col-sm-12 mt-3"},l=(0,t._)("div",{class:"iq-card-header-toolbar text-center align-items-center mx-auto"},[(0,t._)("h1",{class:"text-center mt-3"},"تبديل المراقبين"),(0,t._)("h4",{class:"text-center mt-1 mb-3"},"في التوجيه نفسه")],-1),c=(0,t._)("div",{class:"iq-card-body p-4"},[(0,t._)("div",{class:"image-block text-center"},[(0,t._)("img",{src:i,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),d={class:"col-12 bg-white pt-2"},p={class:"sign-in-from"},m={class:"form-group"},v=(0,t._)("label",{for:"role"},"اختر نوع الاجراء",-1),w=(0,t._)("option",{value:"",selected:""},"اختر نوع الاجراء ...",-1),h=(0,t._)("option",{value:"newSupervisor_currentToLeader"},"مراقب جديد - الحالي إلى قائد",-1),f=(0,t._)("option",{value:"newSupervisor_currentToAmbassador"},"مراقب جديد - الحالي إلى سفير",-1),S=(0,t._)("option",{value:"supervisorsSwap"},"تبديل بين مراقبين",-1),y=[w,h,f,S],_={class:"form-group"},g=(0,t._)("label",{for:"currentSupervisor"},"المراقب الحالي",-1),b={key:0,style:{color:"red"}},$={key:1,style:{color:"red"}},k={class:"form-group"},T=(0,t._)("label",{for:"newSupervisor"},"المراقب الجديد",-1),q={key:0,style:{color:"red"}},L={key:1,style:{color:"red"}},x={key:0,class:"form-group"},D=(0,t._)("label",{for:"newLeader"},"القائد الجديد",-1),A={key:0,style:{color:"red"}},F={key:1,style:{color:"red"}},C={key:1,class:"form-group text-center"},O={style:{color:"red"}},Z={key:2,class:"col-sm-12 text-center"},U=(0,t._)("p",{class:"text-center"},"جاري التبديل",-1),V=(0,t._)("img",{src:n,alt:"loader",style:{height:"100px"}},null,-1),H=[U,V],Y={key:3,class:"d-inline-block w-100"},M=["disabled"];function z(r,e,s,i,n,w){const h=(0,t.up)("iq-card");return(0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(h,{class:"iq-card"},{default:(0,t.w5)((()=>[l,c,(0,t._)("div",d,[(0,t._)("div",p,[(0,t._)("div",m,[v,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>n.formOption=r),class:"form-select","data-trigger":"",name:"role",id:"role",onChange:e[1]||(e[1]=r=>w.displayForm())},y,544),[[a.bM,n.formOption]])]),n.formOption?((0,t.wg)(),(0,t.iD)("form",{key:0,class:"mt-2",onSubmit:e[5]||(e[5]=(0,a.iM)((r=>w.onSubmit()),["prevent"]))},[(0,t._)("div",_,[g,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>i.v$.form.currentSupervisor.$model=r),type:"email",class:"form-control mb-0",id:"currentSupervisor",placeholder:"ادخل بريد المراقب الحالي"},null,512),[[a.nr,i.v$.form.currentSupervisor.$model]]),i.v$.form.currentSupervisor.$error?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[i.v$.form.currentSupervisor.required.$invalid?((0,t.wg)(),(0,t.iD)("small",b,"البريد الالكتروني للمراقب الحالي مطلوب")):(0,t.kq)("",!0),i.v$.form.currentSupervisor.email.$invalid?((0,t.wg)(),(0,t.iD)("small",$,"البريد الالكتروني للمراقب الحالي غير صحيح")):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)]),(0,t._)("div",k,[T,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>i.v$.form.newSupervisor.$model=r),type:"email",class:"form-control mb-0",id:"newSupervisor",placeholder:"ادخل بريد المراقب الجديد"},null,512),[[a.nr,i.v$.form.newSupervisor.$model]]),i.v$.form.newSupervisor.$error?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[i.v$.form.newSupervisor.required.$invalid?((0,t.wg)(),(0,t.iD)("small",q,"البريد الالكتروني للمراقب الجديد مطلوب")):(0,t.kq)("",!0),i.v$.form.newSupervisor.email.$invalid?((0,t.wg)(),(0,t.iD)("small",L,"البريد الالكتروني للمراقب الجديد غير صحيح")):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)]),n.newSupervisor_currentToAmbassador?((0,t.wg)(),(0,t.iD)("div",x,[D,(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>i.v$.form.newLeader.$model=r),type:"email",class:"form-control mb-0",id:"newLeader",placeholder:"ادخل بريد القائد الجديد"},null,512),[[a.nr,i.v$.form.newLeader.$model]]),i.v$.form.newLeader.$error?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[i.v$.form.newLeader.required.$invalid?((0,t.wg)(),(0,t.iD)("small",A,"البريد الالكتروني القائد الجديد مطلوب")):(0,t.kq)("",!0),i.v$.form.newLeader.email.$invalid?((0,t.wg)(),(0,t.iD)("small",F,"البريد الالكتروني القائد الجديد غير صحيح")):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),n.message?((0,t.wg)(),(0,t.iD)("div",C,[(0,t._)("small",O,(0,o.zw)(n.message),1)])):(0,t.kq)("",!0),n.loader?((0,t.wg)(),(0,t.iD)("div",Z,H)):((0,t.wg)(),(0,t.iD)("div",Y,[(0,t._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:n.loader}," تبديل ",8,M)]))],32)):(0,t.kq)("",!0)])])])),_:1})])}var P=s(5705),R=s(10760),W=s(79113),j={name:"Assign Administrator",setup(){return{v$:(0,P.ZP)()}},data(){return{loader:!1,form:{currentSupervisor:"",newSupervisor:"",newLeader:""},message:"",formOption:"",supervisorsSwap:!1,newSupervisor_currentToAmbassador:!1,newSupervisor_currentToLeader:!1}},validations(){return{form:{currentSupervisor:{required:R.C1,email:R.Do},newSupervisor:{required:R.C1,email:R.Do},newLeader:{required:(0,R.CF)((function(){return this.newSupervisor_currentToAmbassador})),email:R.Do}}}},methods:{displayForm(){switch(this.formOption){case"supervisorsSwap":this.supervisorsSwap=!0,this.newSupervisor_currentToAmbassador=!1,this.newSupervisor_currentToLeader=!1,this.resetForm();break;case"newSupervisor_currentToAmbassador":this.supervisorsSwap=!1,this.newSupervisor_currentToAmbassador=!0,this.newSupervisor_currentToLeader=!1,this.resetForm();break;case"newSupervisor_currentToLeader":this.supervisorsSwap=!1,this.newSupervisor_currentToAmbassador=!1,this.newSupervisor_currentToLeader=!0,this.resetForm();break;default:this.supervisorsSwap=!1,this.newSupervisor_currentToAmbassador=!1,this.newSupervisor_currentToLeader=!1,this.resetForm()}},async onSubmit(){if(this.v$.$validate(),!this.v$.$error){this.loader=!0;try{this.message="";let r=null;this.supervisorsSwap?r=await W.Z.supervisorsSwap(this.form):this.newSupervisor_currentToAmbassador?r=await W.Z.newSupervisor_currentToAmbassador(this.form):this.newSupervisor_currentToLeader?r=await W.Z.newSupervisor_currentToLeader(this.form):this.message="يجب اختيار نوع الاجراء!",this.message=r,this.resetForm(),setTimeout((()=>{this.message=""}),1800)}catch(r){this.message="حدث خطأ, يرجى المحاولة لاحقاً"}finally{this.loader=!1}}},resetForm(){this.v$.form.$reset(),this.form={currentSupervisor:"",newSupervisor:""}}}},B=s(83744);const E=(0,B.Z)(j,[["render",z]]);var G=E},87041:function(r,e,s){r.exports=s.p+"img/supervisors-swap.676723a2.png"}}]);
//# sourceMappingURL=5647.9fe8a21f.js.map