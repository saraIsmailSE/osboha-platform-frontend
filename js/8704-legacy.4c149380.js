"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[8704],{74740:function(e,r,t){var n=t(50124),a=t(48534),s=t(13087),u=t(62833),i=t(66252),c=t(79940),o=t(24150),l=function(){function e(){(0,s.Z)(this,e)}return(0,u.Z)(e,[{key:"getUnactive",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.hi.get("users/list/un-active");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()},{key:"searchByEmail",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.hi.get("users/search-by-email/".concat(r));case 2:return t=e.sent,e.abrupt("return",t.data.data);case 4:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()},{key:"listInChargeOf",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.get("users/list-in-charge-of");case 3:return r=e.sent,e.abrupt("return",r.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function r(){return e.apply(this,arguments)}return r}()},{key:"getUnactiveReviwers",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.hi.get("users/list/un-active-reviwers-auditors");case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()},{key:"deleteUser",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.hi.delete("users/".concat(r));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()},{key:"acceptUser",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.hi.patch("users/activate/".concat(r));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function r(r){return e.apply(this,arguments)}return r}()},{key:"acceptThesis",value:function(e){return!0}},{key:"searchUsers",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.get("users/search?search=".concat(r));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,i.S3)(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"assignToParent",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hi.post("users/assign-to-parent",r,{headers:{"Content-type":"multipart/form-data"}});case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:e.prev=7,e.t0=e["catch"](0),(0,c.F)(e.t0,"UserGroupService.AddMember");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()}]),e}();r.Z=new l},79940:function(e,r,t){t.d(r,{F:function(){return a}});t(70560);var n=t(1120);function a(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";throw console.log("[ERROR] ".concat(r," =>"),e.response.data),404===e.response.data.statusCode?n.Z.push({name:"NotFound"}):403===e.response.data.statusCode&&n.Z.push({name:"NotAuthorized"}),e}},18704:function(e,r,t){t.r(r),t.d(r,{default:function(){return E}});var n=t(66252),a=t(49963),s=t(3577),u=t(42922),i=t(79885),c={class:"col-sm-12 mt-3"},o=(0,n._)("div",{class:"iq-card-header-toolbar d-flex text-center align-items-center mx-auto"},[(0,n._)("h1",{class:"text-center mt-3 mb-3"},"تعيين مسؤول عنه")],-1),l=(0,n._)("div",{class:"iq-card-body p-4"},[(0,n._)("div",{class:"image-block text-center"},[(0,n._)("img",{src:u,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),d={class:"col-12 bg-white pt-2"},p={class:"sign-in-from"},v={class:"form-group"},f=(0,n._)("label",{for:"user"},"المستخدم",-1),m={key:0,style:{color:"red"}},h={key:1,style:{color:"red"}},w={class:"form-group"},g=(0,n._)("label",{for:"head_user"}," المسؤول عنه",-1),k={key:0,style:{color:"red"}},y={key:1,style:{color:"red"}},b={key:0,class:"form-group text-center"},Z={style:{color:"red"}},x={key:1,class:"col-sm-12 text-center"},_=(0,n._)("p",{class:"text-center"},"جاري التعيين",-1),$=(0,n._)("img",{src:i,alt:"loader",style:{height:"100px"}},null,-1),q=[_,$],D={key:2,class:"d-inline-block w-100"},C=["disabled"];function U(e,r,t,u,i,_){var $=(0,n.up)("iq-card");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)($,{class:"iq-card"},{default:(0,n.w5)((function(){return[o,l,(0,n._)("div",d,[(0,n._)("div",p,[(0,n._)("form",{class:"mt-2",onSubmit:r[2]||(r[2]=(0,a.iM)((function(e){return _.onSubmit()}),["prevent"]))},[(0,n._)("div",v,[f,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return u.v$.form.user.$model=e}),type:"email",class:"form-control mb-0",id:"user",placeholder:"ادخل بريد المستخدم"},null,512),[[a.nr,u.v$.form.user.$model]]),u.v$.form.user.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[u.v$.form.user.required.$invalid?((0,n.wg)(),(0,n.iD)("small",m,"البريد الالكتروني للمستخدم مطلوب")):(0,n.kq)("",!0),u.v$.form.user.email.$invalid?((0,n.wg)(),(0,n.iD)("small",h,"البريد الالكتروني للمستخدم غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),(0,n._)("div",w,[g,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(e){return u.v$.form.head_user.$model=e}),type:"email",class:"form-control mb-0",id:"head_user",placeholder:"ادخل بريد المسؤول عنه"},null,512),[[a.nr,u.v$.form.head_user.$model]]),u.v$.form.head_user.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[u.v$.form.head_user.required.$invalid?((0,n.wg)(),(0,n.iD)("small",k," البريد الالكتروني للمسؤول مطلوب")):(0,n.kq)("",!0),u.v$.form.head_user.email.$invalid?((0,n.wg)(),(0,n.iD)("small",y," البريد الالكتروني للمسؤول غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),i.message?((0,n.wg)(),(0,n.iD)("div",b,[(0,n._)("small",Z,(0,s.zw)(i.message),1)])):(0,n.kq)("",!0),i.loader?((0,n.wg)(),(0,n.iD)("div",x,q)):((0,n.wg)(),(0,n.iD)("div",D,[(0,n._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:i.loader}," تعيين ",8,C)]))],32)])])]})),_:1})])}var S=t(50124),T=t(48534),O=t(5705),P=t(10760),R=t(74740),A={name:"Assign To Parent",setup:function(){return{v$:(0,O.ZP)()}},data:function(){return{loader:!1,form:{user:"",head_user:""},message:""}},validations:function(){return{form:{user:{required:P.C1,email:P.Do},head_user:{required:P.C1,email:P.Do}}}},methods:{onSubmit:function(){var e=this;return(0,T.Z)((0,S.Z)().mark((function r(){var t;return(0,S.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.v$.$validate(),e.v$.$error){r.next=20;break}return e.loader=!0,r.prev=3,e.message="",r.next=7,R.Z.assignToParent(e.form);case 7:t=r.sent,e.message=t,e.v$.form.$reset(),e.form={user:"",head_user:""},setTimeout((function(){e.message=""}),5e3),r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](3),e.message="حدث خطأ, يرجى المحاولة لاحقاً";case 17:return r.prev=17,e.loader=!1,r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[3,14,17,20]])})))()}}},F=t(83744);const z=(0,F.Z)(A,[["render",U]]);var E=z},42922:function(e,r,t){e.exports=t.p+"img/assign-administrator.46bdcb01.png"}}]);
//# sourceMappingURL=8704-legacy.4c149380.js.map