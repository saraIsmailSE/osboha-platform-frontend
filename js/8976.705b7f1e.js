"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[8976],{22658:function(t,e,a){var r=a(66252),s=a(24150),o=a(79940);class n{async createGroup(t){try{const e=await s.hi.post("/group/create",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async getAll(t,e){try{const a=await s.hi.get(`/group?page=${e}&name=${t}`);return await a.data}catch(a){return a}}async searchGroupByName(t){try{const e=await s.hi.get(`group/search-group-by-name/${t}`);return await e.data}catch(e){return e}}async getById(t){try{const e=await s.hi.get(`group/show/${t}`);return e.data.data}catch(e){return e}}async showBasicInfo(t){try{const e=await s.hi.get(`group/show-basic-info/${t}`);return e.data.data}catch(e){return e}}async getBooks(t){try{const e=await s.hi.get(`group/books/${t}`);return e.data.data}catch(e){(0,r.S3)(e)}}async getAllGroupExceptions(t){try{const e=await s.hi.get(`group/group-exceptions/${t}`);return e.data.data}catch(e){return e}}async exceptionsFilter(t,e){try{const a=await s.hi.get(`group/exceptions-filter/${t}/${e}`);return a.data.data}catch(a){return a}}async BasicMarksView(t,e){try{const a=await s.hi.get(`group/basic-mark-view/${t}/${e}`);return a.data.data}catch(a){return a}}async AllAchievements(t,e){try{const a=await s.hi.get(`group/all-achievements/${t}/${e}`);return a.data.data}catch(a){return a}}async AchievementAsPages(t,e){try{const a=await s.hi.get(`group/achievement-as-pages/${t}/${e}`);return a.data.data}catch(a){return a}}async searchForAmbassadorAchievement(t,e,a){try{const r=await s.hi.get(`group/search-for-ambassador-achievement/${t}/${e}/${a}`);return r.data.data}catch(r){return r}}async searchForAmbassador(t,e){try{const a=await s.hi.get(`group/search-for-ambassador/${t}/${e}`);return a.data.data}catch(a){return a}}async createLeaderRequest(t){try{const e=await s.hi.post("/group/create-leader-request",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){return e}}async lastLeaderRequest(t){try{const e=await s.hi.get(`group/last-leader-request/${t}`);return e.data.data}catch(e){return e}}async deleteById(t){try{return await s.hi.delete(`/group/delete/${t}`)}catch(e){return e}}async update(t){try{const e=await s.hi.post("/group/update",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async getGroupByType(t){try{const e=await s.hi.get(`/group/group-by-type/${t}`);return e.data.data}catch(e){return e}}async userGroups(t,e){try{const a=await s.hi.get(`/group/user-groups?page=${e}&name=${t}`);return a.data}catch(a){return a}}async statistics(t){try{const e=await s.hi.get(`group/statistics/${t}`);return e.data.data}catch(e){(0,o.F)(e,"statistics")}}async thesesAndScreensByWeek(t,e){try{const a=await s.hi.get(`group/theses-and-screens-by-week/${t}/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}async monthAchievement(t,e){try{const a=await s.hi.get(`group/month-achievement/${t}/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}async assignAdministrator(t){try{const e=await s.hi.post("/group/assign-administrator",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}}e.Z=new n},2985:function(t,e,a){var r=a(66252),s=a(79940),o=a(24150);class n{async create(t){try{const e=await o.hi.post("/userexception/create",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async setExceptionalFreez(t){try{const e=await o.hi.post("/userexception/set-exceptional-freez",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async setNewUser(t){try{const e=await o.hi.post("/userexception/set-new-user",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async getExceptionById(t){try{const e=await o.hi.get(`userexception/show/${t}`);return e.data.data}catch(e){(0,s.F)(e)}}async update(t,e){try{const a=await o.hi.patch(`userexception/${t}`,e,{headers:{"Content-type":"multipart/form-data"}});return a.data.data}catch(a){return a}}async updateStatus(t,e){try{const a=await o.hi.patch(`userexception/update-status/${t}`,{decision:e.decision,note:e.note,week_id:e.week_id});return a.data.data}catch(a){return a}}async updateExceptionTypeById(t,e){try{return await o.hi.post("/userexception/update",{id:t,type:e})}catch(a){return a}}async cancelException(t){try{return await o.hi.get(`userexception/cancel/${t}`)}catch(e){return e}}async getAllUserExceptions(t){try{const e=await o.hi.get(`userexception/user-exceptions/${t}`);return e.data.data}catch(e){return e}}async exceptionsFilter(t,e){try{const a=await o.hi.get(`userexception/exceptions-filter/${t}/${e}`);return a.data.data}catch(a){return a}}}e.Z=new n},79940:function(t,e,a){a.d(e,{F:function(){return s}});a(70560);var r=a(1120);function s(t,e=""){throw console.log(`[ERROR] ${e} =>`,t.response.data),404===t.response.data.statusCode?r.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&r.Z.push({name:"NotAuthorized"}),t}},52597:function(t,e,a){a.d(e,{Z:function(){return y}});var r=a(66252),s=a(3577);const o={class:"d-flex align-items-center w-100 row"},n={class:"col-lg-3 col-md-3 col-sm-12 ms-3"},i={class:"d-inline-block"},c={class:"col-lg-5 col-md-5 col-sm-12 form-check mt-2"},u={class:"d-block w-100"},d={class:"progress"},l={class:"col-lg-3 col-md-3 col-sm-12 text-center"};function m(t,e,a,m,p,h){const g=(0,r.up)("BaseAvatar"),w=(0,r.up)("router-link"),y=(0,r.up)("OtherActions");return a.ambassador?((0,r.wg)(),(0,r.iD)("li",{key:0,class:"d-flex align-items-center p-3",style:(0,s.j5)(`cursor: ${h.cursorStyle(a.ambassador.mark)}`)},[(0,r.Wm)(g,{profileImg:a.ambassador.user_profile.profile_picture,profile_id:a.ambassador.user_profile.id,title:a.ambassador.name,gender:a.ambassador.gender,avatarClass:"rounded-circle avatar-40"},null,8,["profileImg","profile_id","title","gender"]),(0,r._)("div",o,[(0,r._)("div",n,[(0,r._)("h6",i,[(0,r._)("strong",null,(0,s.zw)(a.ambassador.name),1)])]),(0,r._)("div",c,[(0,r._)("div",u,[(0,r._)("div",d,[a.ambassador.mark.length>0&&a.ambassador.mark[0].is_freezed?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,s.C_)([`${h.markClass(-1)}`,"progress-bar progress-bar-striped"]),role:"progressbar","aria-valuenow":"90","aria-valuemin":"0","aria-valuemax":"100",style:"width: 100%;"},null,2)):((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,s.C_)([`${h.markClass(h.getMark(a.ambassador.mark))}`,"progress-bar progress-bar-striped"]),role:"progressbar","aria-valuenow":"90","aria-valuemin":"0","aria-valuemax":"100",style:(0,s.j5)(`width: ${h.getMark(a.ambassador.mark)}%;`)},null,6))])])]),(0,r._)("div",l,[(0,r.Wm)(w,{to:{name:"group.listOneAmbassadorReading",params:{ambassador_id:a.ambassador.id,week_id:a.week_id}}},{default:(0,r.w5)((()=>[(0,r._)("button",{class:(0,s.C_)(["badge ms-0 ms-md-3 my-1 my-md-0 w-75 text-center border-0 outline-none",{"bg-primary":a.ambassador.mark.length>0,"d-none":0==a.ambassador.mark.length}]),style:(0,s.j5)(`cursor: ${h.cursorStyle(a.ambassador.mark)}`)}," عرض ",6)])),_:1},8,["to"]),0==a.ambassador.mark.length?((0,r.wg)(),(0,r.j4)(y,{key:0,user:a.ambassador},null,8,["user"])):(0,r.kq)("",!0)])])],4)):(0,r.kq)("",!0)}var p=a(39356),h={name:"Achievement Progress",components:{OtherActions:p.Z},props:{ambassador:{type:[Object],required:!0},week_id:{type:[Number],required:!0}},data(){return{}},methods:{markClass(t){switch(t){case-1:return"freeze";case 100:return"full-mark";case 0:return"zero-mark";default:return"incomplete"}},getMark(t){return(null===t||void 0===t?void 0:t.length)>0?t[0].reading_mark+t[0].writing_mark+t[0].support:0},cursorStyle(t){return 0==(null===t||void 0===t?void 0:t.length)?"not-allowed":"pointer"}}},g=a(83744);const w=(0,g.Z)(h,[["render",m],["__scopeId","data-v-28b637a2"]]);var y=w},99260:function(t,e,a){a.d(e,{Z:function(){return m}});var r=a(66252),s=a(3577);const o={class:"card position-relative inner-page-bg",style:{direction:"rtl !important","background-color":"#cae0cd",height:"100px"}},n={class:"inner-page-title"},i={class:"text-dark"};function c(t,e,a,c,u,d){return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",n,[(0,r._)("h3",i,"فريق المتابعة || "+(0,s.zw)(a.group_name),1),(0,r._)("p",null,[(0,r.Uk)(" عدد السفراء "),(0,r._)("strong",null,(0,s.zw)(a.group_users),1)])])])}var u={name:"Group Title",props:{group_name:{type:[String],required:!0},group_users:{type:[Number],required:!0}},data(){return[]}},d=a(83744);const l=(0,d.Z)(u,[["render",c]]);var m=l},39356:function(t,e,a){a.d(e,{Z:function(){return D}});a(76265);var r=a(66252),s=a(49963),o=a(3577),n=a(79885);const i=t=>((0,r.dD)("data-v-c2455b6a"),t=t(),(0,r.Cn)(),t),c={class:"card-body"},u={class:"blog-description"},d={class:"form-group mt-3 mb-1"},l=i((()=>(0,r._)("h4",null,"السبب",-1))),m={class:"form-group row"},p={class:"mb-0"},h={key:0,class:"d-block text-start mt-1",style:{color:"red"}},g={class:"form-group"},w=["disabled"],y={class:"form-check mt-2 w-100 text-start"},b=["checked"],k=i((()=>(0,r._)("h4",{class:"form-check-label",for:"allow_submit_is_new"}," هذا العضو جديد وفي اسبوعه الأول أو الثاني ",-1))),_={class:"form-group"},x=["disabled"],v={key:0,class:"col-sm-12 text-center"},f=i((()=>(0,r._)("img",{src:n,alt:"loader",style:{height:"100px"}},null,-1))),$=[f],F={key:1,class:"text-center mt-3 mb-3"};function C(t,e,a,n,i,f){return(0,r.wg)(),(0,r.iD)("div",c,[(0,r._)("div",u,[(0,r._)("button",{class:"btn mr-2 mt-1 w-75 btn-freez",onClick:e[0]||(e[0]=()=>{i.showExceptionForm=!i.showExceptionForm,i.showIsNewForm=!1})}," طلب تجميد استثنائي "),f.isnew&&t.mark.reading_mark+t.mark.writing_mark+t.mark.support<=50?((0,r.wg)(),(0,r.iD)("button",{key:0,class:"btn btn-success ms-2 mt-1 w-75",onClick:e[1]||(e[1]=()=>{i.showIsNewForm=!i.showIsNewForm,i.showExceptionForm=!1})}," تعيين عضو جديد ")):(0,r.kq)("",!0)]),(0,r.wy)((0,r._)("form",{onSubmit:e[3]||(e[3]=(0,s.iM)(((...t)=>f.submitException&&f.submitException(...t)),["prevent"])),class:"post-text ml-3 w-100 row"},[(0,r._)("div",d,[l,(0,r._)("div",m,[(0,r.wy)((0,r._)("textarea",{rows:"5",placeholder:"سبب التجميد الاستثنائي",class:"rounded form-control mt-2 col-12",id:"exceptionReason","onUpdate:modelValue":e[2]||(e[2]=t=>n.v$.exceptionForm.reason.$model=t),name:"reason"},"\r\n                        ",512),[[s.nr,n.v$.exceptionForm.reason.$model]]),(0,r._)("p",p,[(0,r._)("span",{class:(0,o.C_)({"text-danger":n.v$.exceptionForm.reason.$error})},(0,o.zw)(n.v$.exceptionForm.reason.$model.length),3),(0,r.Uk)(" /250 ")])]),n.v$.exceptionForm.reason.$error?((0,r.wg)(),(0,r.iD)("small",h," * قم بادخال سبب لا ينقص عن 10 حروف ولا يزيد عن 250 حرف ")):(0,r.kq)("",!0)]),(0,r._)("div",g,[(0,r._)("button",{type:"submit",disabled:i.message,class:"btn d-block btn-freez float-end mx-auto"}," تجميد ",8,w)])],544),[[s.F8,i.showExceptionForm]]),(0,r.wy)((0,r._)("form",{onSubmit:e[5]||(e[5]=(0,s.iM)(((...t)=>f.submitIsNew&&f.submitIsNew(...t)),["prevent"])),class:"mt-3 post-text ml-3 w-100 row"},[(0,r._)("div",y,[(0,r._)("input",{type:"checkbox",checked:i.allowSubmitIsNew,class:"form-check-input",id:"allow_submit_is_new",ref:"allow_submit_is_new",onClick:e[4]||(e[4]=t=>i.allowSubmitIsNew=!i.allowSubmitIsNew)},null,8,b),k]),(0,r._)("div",_,[(0,r._)("button",{type:"submit",disabled:!i.allowSubmitIsNew,class:"btn d-block btn-primary float-end mx-auto"}," اعتماد عضو جديد ",8,x)])],544),[[s.F8,i.showIsNewForm]]),i.loader?((0,r.wg)(),(0,r.iD)("div",v,$)):(0,r.kq)("",!0),i.message?((0,r.wg)(),(0,r.iD)("h4",F,(0,o.zw)(i.message),1)):(0,r.kq)("",!0)])}var I=a(2985),S=a(5705),N=a(10760),A={name:"List Reading",setup(){return{v$:(0,S.ZP)()}},created(){this.exceptionForm.user_id=this.user.id,this.exceptionForm.week_id=this.$route.params.week_id},props:{user:{type:Object,required:!0}},data(){return{exceptionForm:{reason:"",user_id:0,week_id:0},showExceptionForm:!1,showIsNewForm:!1,allowSubmitIsNew:!1,loader:!1,message:null}},validations(){return{exceptionForm:{reason:{required:N.C1,minLength:(0,N.Ei)(10),maxLength:(0,N.BS)(250)}}}},methods:{async submitException(){if(this.v$.$touch(),!this.v$.exceptionForm.$invalid){this.message="",this.loader=!0;try{const t=await I.Z.setExceptionalFreez(this.exceptionForm);this.message=t,this.showExceptionForm=!1,this.v$.exceptionForm.$reset()}catch(t){console.log("[Exception request error]",t)}finally{this.loader=!1}}},async submitIsNew(){this.message="",this.loader=!0;try{this.exceptionForm.reason="عضو جديد";const t=await I.Z.setNewUser(this.exceptionForm);this.message=t,this.showIsNewForm=!1,this.v$.exceptionForm.$reset()}catch(t){console.log("[submit new user error]",t)}finally{this.loader=!1}}},computed:{isnew(){if(this.user){const t=new Date(this.user.created_at),e=new Date,a=new Date;return a.setDate(e.getDate()-14),a.setHours(0,0,0,0),t.setHours(0,0,0,0),t>=a&&t<=e}return!1}}},E=a(83744);const q=(0,E.Z)(A,[["render",C],["__scopeId","data-v-c2455b6a"]]);var D=q},84621:function(t,e,a){t.exports=a.p+"img/reader.b5157672.png"}}]);
//# sourceMappingURL=8976.705b7f1e.js.map