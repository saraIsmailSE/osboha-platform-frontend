"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[2989],{79113:function(e,r,t){var n=t(50124),a=t(48534),s=t(13087),o=t(62833),u=t(24150),i=function(){function e(){(0,s.Z)(this,e),this.prefix="roles"}return(0,o.Z)(e,[{key:"assignRole",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/assign-role"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"ChangeAdvisingTeam",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/change-advising-team"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"supervisorsSwap",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/supervisors-swap"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newSupervisor_currentToAmbassador",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/new-supervisor-current-to-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newSupervisor_currentToLeader",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/new-supervisor-current-to-leader"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"newLeader_currentToAmbassador",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/new-leader-current-to-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"transferLeader",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/transfer-leader"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()},{key:"transferAmbassador",value:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.hi.post("".concat(this.prefix,"/transfer-ambassador"),r);case 3:return t=e.sent,e.abrupt("return",t.data.data);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function r(r){return e.apply(this,arguments)}return r}()}]),e}();r.Z=new i},52989:function(e,r,t){t.r(r),t.d(r,{default:function(){return W}});var n=t(66252),a=t(49963),s=t(3577),o=t(87041),u=t(79885),i={class:"col-sm-12 mt-3"},c=(0,n._)("div",{class:"iq-card-header-toolbar text-center align-items-center mx-auto"},[(0,n._)("h1",{class:"text-center mt-3"},"تبديل القادة"),(0,n._)("h4",{class:"text-center mt-1 mb-3"},"في فريق الرقابة نفسه")],-1),p=(0,n._)("div",{class:"iq-card-body p-4"},[(0,n._)("div",{class:"image-block text-center"},[(0,n._)("img",{src:o,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),l={class:"col-12 bg-white pt-2"},d={class:"sign-in-from"},m={class:"form-group"},f=(0,n._)("label",{for:"role"},"اختر نوع الاجراء",-1),v=(0,n._)("option",{value:"",selected:""},"اختر نوع الاجراء ...",-1),h=(0,n._)("option",{value:"newLeader_currentToAmbassador"},"قائد جديد - الحالي إلى سفير",-1),w=[v,h],b={class:"form-group"},k=(0,n._)("label",{for:"currentLeader"},"القائد الحالي",-1),g={key:0,style:{color:"red"}},y={key:1,style:{color:"red"}},x={class:"form-group"},_=(0,n._)("label",{for:"newLeader"},"القائد الجديد",-1),Z={key:0,style:{color:"red"}},L={key:1,style:{color:"red"}},$={key:0,class:"form-group text-center"},q={style:{color:"red"}},A={key:1,class:"col-sm-12 text-center"},T=(0,n._)("p",{class:"text-center"},"جاري التبديل",-1),D=(0,n._)("img",{src:u,alt:"loader",style:{height:"100px"}},null,-1),S=[T,D],F={key:2,class:"d-inline-block w-100"},O=["disabled"];function C(e,r,t,o,u,v){var h=(0,n.up)("iq-card");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(h,{class:"iq-card"},{default:(0,n.w5)((function(){return[c,p,(0,n._)("div",l,[(0,n._)("div",d,[(0,n._)("div",m,[f,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":r[0]||(r[0]=function(e){return u.formOption=e}),class:"form-select","data-trigger":"",name:"role",id:"role",onChange:r[1]||(r[1]=function(e){return v.displayForm()})},w,544),[[a.bM,u.formOption]])]),u.formOption?((0,n.wg)(),(0,n.iD)("form",{key:0,class:"mt-2",onSubmit:r[4]||(r[4]=(0,a.iM)((function(e){return v.onSubmit()}),["prevent"]))},[(0,n._)("div",b,[k,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":r[2]||(r[2]=function(e){return o.v$.form.currentLeader.$model=e}),type:"email",class:"form-control mb-0",id:"currentLeader",placeholder:"ادخل بريد القائد الحالي"},null,512),[[a.nr,o.v$.form.currentLeader.$model]]),o.v$.form.currentLeader.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[o.v$.form.currentLeader.required.$invalid?((0,n.wg)(),(0,n.iD)("small",g,"البريد الالكتروني للقائد الحالي مطلوب")):(0,n.kq)("",!0),o.v$.form.currentLeader.email.$invalid?((0,n.wg)(),(0,n.iD)("small",y,"البريد الالكتروني للقائد الحالي غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),(0,n._)("div",x,[_,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":r[3]||(r[3]=function(e){return o.v$.form.newLeader.$model=e}),type:"email",class:"form-control mb-0",id:"newLeader",placeholder:"ادخل بريد القائد الجديد"},null,512),[[a.nr,o.v$.form.newLeader.$model]]),o.v$.form.newLeader.$error?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[o.v$.form.newLeader.required.$invalid?((0,n.wg)(),(0,n.iD)("small",Z,"البريد الالكتروني القائد الجديد مطلوب")):(0,n.kq)("",!0),o.v$.form.newLeader.email.$invalid?((0,n.wg)(),(0,n.iD)("small",L,"البريد الالكتروني القائد الجديد غير صحيح")):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0)]),u.message?((0,n.wg)(),(0,n.iD)("div",$,[(0,n._)("small",q,(0,s.zw)(u.message),1)])):(0,n.kq)("",!0),u.loader?((0,n.wg)(),(0,n.iD)("div",A,S)):((0,n.wg)(),(0,n.iD)("div",F,[(0,n._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:u.loader}," تبديل ",8,O)]))],32)):(0,n.kq)("",!0)])])]})),_:1})])}var U=t(50124),V=t(48534),H=t(5705),M=t(10760),Y=t(79113),z={name:"Assign Administrator",setup:function(){return{v$:(0,H.ZP)()}},data:function(){return{loader:!1,form:{currentLeader:"",newSupervisor:"",newLeader:""},message:"",formOption:"",supervisorsSwap:!1,newLeader_currentToAmbassador:!1,newSupervisor_currentToLeader:!1}},validations:function(){return{form:{currentLeader:{required:M.C1,email:M.Do},newLeader:{required:(0,M.CF)((function(){return this.newLeader_currentToAmbassador})),email:M.Do}}}},methods:{displayForm:function(){switch(this.formOption){case"newLeader_currentToAmbassador":this.newLeader_currentToAmbassador=!0,this.resetForm();break;default:this.newLeader_currentToAmbassador=!1,this.resetForm()}},onSubmit:function(){var e=this;return(0,V.Z)((0,U.Z)().mark((function r(){var t;return(0,U.Z)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.v$.$validate(),e.v$.$error){r.next=24;break}if(e.loader=!0,r.prev=3,e.message="",t=null,!e.newLeader_currentToAmbassador){r.next=12;break}return r.next=9,Y.Z.newLeader_currentToAmbassador(e.form);case 9:t=r.sent,r.next=13;break;case 12:e.message="يجب اختيار نوع الاجراء!";case 13:e.message=t,e.resetForm(),setTimeout((function(){e.message=""}),1800),r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](3),e.message="حدث خطأ, يرجى المحاولة لاحقاً";case 21:return r.prev=21,e.loader=!1,r.finish(21);case 24:case"end":return r.stop()}}),r,null,[[3,18,21,24]])})))()},resetForm:function(){this.v$.form.$reset(),this.form={currentLeader:"",newSupervisor:""}}}},P=t(83744);const R=(0,P.Z)(z,[["render",C]]);var W=R},87041:function(e,r,t){e.exports=t.p+"img/supervisors-swap.676723a2.png"}}]);
//# sourceMappingURL=2989-legacy.dbf24fd5.js.map