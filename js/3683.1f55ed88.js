"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[3683],{79113:function(e,a,r){var s=r(24150);class t{constructor(){this.prefix="roles"}async assignRole(e){try{const a=await s.hi.post(`${this.prefix}/assign-role`,e);return a.data.data}catch(a){return a.response}}async ChangeAdvisingTeam(e){try{const a=await s.hi.post(`${this.prefix}/change-advising-team`,e);return a.data.data}catch(a){return a.response}}async supervisorsSwap(e){try{const a=await s.hi.post(`${this.prefix}/supervisors-swap`,e);return a.data.data}catch(a){return a.response}}async newSupervisor_currentToAmbassador(e){try{const a=await s.hi.post(`${this.prefix}/new-supervisor-current-to-ambassador`,e);return a.data.data}catch(a){return a.response}}async newSupervisor_currentToLeader(e){try{const a=await s.hi.post(`${this.prefix}/new-supervisor-current-to-leader`,e);return a.data.data}catch(a){return a.response}}async newLeader_currentToAmbassador(e){try{const a=await s.hi.post(`${this.prefix}/new-leader-current-to-ambassador`,e);return a.data.data}catch(a){return a.response}}async transferLeader(e){try{const a=await s.hi.post(`${this.prefix}/transfer-leader`,e);return a.data.data}catch(a){return a.response}}async transferAmbassador(e){try{const a=await s.hi.post(`${this.prefix}/transfer-ambassador`,e);return a.data.data}catch(a){return a.response}}}a.Z=new t},29968:function(e,a,r){r.r(a),r.d(a,{default:function(){return U}});var s=r(66252),t=r(49963),i=r(3577),o=r.p+"img/transfer-ambassador.5fd9129b.png",l=r(79885);const n={class:"col-sm-12 mt-3"},d=(0,s._)("div",{class:"iq-card-header-toolbar text-center align-items-center mx-auto"},[(0,s._)("h1",{class:"text-center mt-3"},"نقل سفير"),(0,s._)("h4",{class:"text-center mt-1 mb-3"},"إلى فريق متابعة جديدة")],-1),m=(0,s._)("div",{class:"iq-card-body p-4"},[(0,s._)("div",{class:"image-block text-center"},[(0,s._)("img",{src:o,class:"img-fluid rounded w-75",alt:"blog-img"})])],-1),c={class:"col-12 bg-white pt-2"},u={class:"sign-in-from"},p={class:"form-group"},h=(0,s._)("label",{for:"ambassador_email"},"السفير المراد نقله",-1),f={key:0,style:{color:"red"}},v={key:1,style:{color:"red"}},b={class:"form-group"},_=(0,s._)("label",{for:"leader_email"},"القائد الجديد",-1),y={key:0,style:{color:"red"}},g={key:1,style:{color:"red"}},w={key:0,class:"form-group text-center"},$={style:{color:"red"}},k={key:1,class:"col-sm-12 text-center"},x=(0,s._)("p",{class:"text-center"},"جاري النقل",-1),q=(0,s._)("img",{src:l,alt:"loader",style:{height:"100px"}},null,-1),D=[x,q],A={key:2,class:"d-inline-block w-100"},S=["disabled"];function C(e,a,r,o,l,x){const q=(0,s.up)("iq-card");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(q,{class:"iq-card"},{default:(0,s.w5)((()=>[d,m,(0,s._)("div",c,[(0,s._)("div",u,[(0,s._)("form",{class:"mt-2",onSubmit:a[2]||(a[2]=(0,t.iM)((e=>x.onSubmit()),["prevent"]))},[(0,s._)("div",p,[h,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>o.v$.form.ambassador_email.$model=e),type:"email",class:"form-control mb-0",id:"ambassador_email",placeholder:"ادخل بريد السفير السفير"},null,512),[[t.nr,o.v$.form.ambassador_email.$model]]),o.v$.form.ambassador_email.$error?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[o.v$.form.ambassador_email.required.$invalid?((0,s.wg)(),(0,s.iD)("small",f,"البريد الالكتروني للسفير مطلوب")):(0,s.kq)("",!0),o.v$.form.ambassador_email.email.$invalid?((0,s.wg)(),(0,s.iD)("small",v,"البريد الالكتروني للسفير غير صحيح")):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0)]),(0,s._)("div",b,[_,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>o.v$.form.leader_email.$model=e),type:"email",class:"form-control mb-0",id:"leader_email",placeholder:"ادخل بريد القائد الجديد"},null,512),[[t.nr,o.v$.form.leader_email.$model]]),o.v$.form.leader_email.$error?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[o.v$.form.leader_email.required.$invalid?((0,s.wg)(),(0,s.iD)("small",y,"البريد الالكتروني للقائد الجديد مطلوب")):(0,s.kq)("",!0),o.v$.form.leader_email.email.$invalid?((0,s.wg)(),(0,s.iD)("small",g,"البريد الالكتروني للقائد الجديد غير صحيح")):(0,s.kq)("",!0)],64)):(0,s.kq)("",!0)]),l.message?((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("small",$,(0,i.zw)(l.message),1)])):(0,s.kq)("",!0),l.loader?((0,s.wg)(),(0,s.iD)("div",k,D)):((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("button",{type:"submit",class:"btn btn-primary float-end",disabled:l.loader}," نقل ",8,S)]))],32)])])])),_:1})])}var T=r(5705),Z=r(10760),L=r(79113),F={name:"Assign Administrator",setup(){return{v$:(0,T.ZP)()}},data(){return{loader:!1,form:{ambassador_email:"",leader_email:""},message:""}},validations(){return{form:{ambassador_email:{required:Z.C1,email:Z.Do},leader_email:{required:Z.C1,email:Z.Do}}}},methods:{async onSubmit(){if(this.v$.$validate(),!this.v$.$error){this.loader=!0;try{this.message="";const e=await L.Z.transferAmbassador(this.form);this.message=e,this.resetForm(),setTimeout((()=>{this.message=""}),1800)}catch(e){this.message="حدث خطأ, يرجى المحاولة لاحقاً"}finally{this.loader=!1}}},resetForm(){this.v$.form.$reset(),this.form={ambassador_email:"",leader_email:""}}}},H=r(83744);const O=(0,H.Z)(F,[["render",C]]);var U=O}}]);
//# sourceMappingURL=3683.1f55ed88.js.map