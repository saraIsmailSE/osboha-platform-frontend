"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[59],{79940:function(t,e,o){o.d(e,{F:function(){return n}});o(70560);var s=o(1120);function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";throw console.log("[ERROR] ".concat(e," =>"),t.response.data),404===t.response.data.statusCode?s.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&s.Z.push({name:"NotAuthorized"}),t}},7847:function(t,e,o){o.r(e),o.d(e,{default:function(){return T}});o(32320);var s=o(66252),n=o(3577),r={class:"row"},a={class:"col-lg-8 row m-0 p-0"},c={key:0,class:"d-flex align-items-center justify-content-center"},i={class:"me-2"},d={key:1,class:"col-sm-12 text-center"},u=["src"],l={class:"col-sm-12"},m={class:"card card-block card-stretch card-height blog user-comment"},p=(0,s._)("div",{class:"card-header d-flex justify-content-between"},[(0,s._)("div",{class:"header-title"},[(0,s._)("h4",{class:"card-title"},"التعليقات")])],-1),f={class:"card-body",ref:"commentsSectionBody"},h={class:"row"};function g(t,e,g,v,C,w){var _,y=(0,s.up)("font-awesome-icon"),k=(0,s.up)("Post"),Z=(0,s.up)("LazyLoadedComments"),b=(0,s.up)("CreateComment");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",a,[C.emptyMessage?((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",i,[(0,s.Wm)(y,{icon:["fas","circle-exclamation"],size:"xl"})]),(0,s._)("div",null,(0,n.zw)(C.emptyMessage),1)])):C.loading?((0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("img",{src:o(79885),alt:"loader",style:{height:"100px"}},null,8,u)])):((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[(0,s.Wm)(k,{post:C.post},null,8,["post"]),(0,s._)("div",l,[(0,s._)("div",m,[p,(0,s._)("div",f,[(0,s._)("div",h,[C.post?((0,s.wg)(),(0,s.j4)(Z,{key:0,post:C.post,userId:t.$route.params.user_id?parseInt(t.$route.params.user_id):null,loadOnCreate:!0,ref:"lazyLoadedCommentsRef"},null,8,["post","userId"])):(0,s.kq)("",!0),null!==(_=C.post)&&void 0!==_&&_.allow_comments?((0,s.wg)(),(0,s.j4)(b,{key:1,ref:"SinglePostCreateComment",type:"comment",class:"flex-grow-1",post_id:C.post.id,onAddComment:w.addComment},null,8,["post_id","onAddComment"])):(0,s.kq)("",!0)])],512)])])],64))])])}var v=o(50124),C=o(48534),w=o(8417),_=o(20867),y=o(19250),k=o(21295),Z=o(31025),b={name:"PostView",components:{Post:_.Z,CreateComment:y.Z,LazyLoadedComments:k.Z},provide:function(){var t=this;return{focusComment:this.focusComment,incrementCommentsCount:function(){t.post.comments_count++},decrementCommentsCount:function(){t.post.comments_count--},reactToPost:this.reactToPost}},data:function(){return{post:null,loading:!1,emptyMessage:""}},created:function(){var t=this;return(0,C.Z)((0,v.Z)().mark((function e(){return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPost();case 2:case"end":return e.stop()}}),e)})))()},methods:{getPost:function(){var t=this;return(0,C.Z)((0,v.Z)().mark((function e(){var o;return(0,v.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,e.next=6,w.Z.getPostById(t.$route.params.post_id);case 6:o=e.sent,t.post=o.data,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),Z.Z.toggleToast("حدث خطأ أثناء تحميل المنشور, الرجاء المحاولة مرة أخرى","error");case 13:return e.prev=13,t.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()},focusComment:function(){this.post.allow_comments?(this.$refs.commentsSectionBody.scrollTop=this.$refs.commentsSectionBody.scrollHeight,this.$refs.SinglePostCreateComment.focusInput()):Z.Z.toggleToast("لا يمكنك التعليق على هذا المنشور الآن","error")},addComment:function(t,e){this.$refs.lazyLoadedCommentsRef.addComment(t,e),e||this.$nextTick((function(){window.scrollTo(0,document.body.scrollHeight)}))},reactToPost:function(t,e){e?(this.post.reactions_count++,this.post.reacted_by_user=!0):(this.post.reactions_count--,this.post.reacted_by_user=!1)}}},x=o(83744);const P=(0,x.Z)(b,[["render",g]]);var T=P}}]);
//# sourceMappingURL=59-legacy.d9afd4a4.js.map