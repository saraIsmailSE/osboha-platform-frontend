{"version":3,"file":"js/5579.7095ef48.js","mappings":"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","sources":["webpack://Osboha180/./src/API/services/auth.service.js","webpack://Osboha180/./src/views/AuthPages/Default/ConfirmMail.vue","webpack://Osboha180/./src/views/AuthPages/Default/ConfirmMail.vue?6da9"],"sourcesContent":["import { api } from \"../Intercepter\";\nimport UserInfo from \"../../Services/userInfoService\";\nimport { handleError } from \"vue\";\n\nclass AuthService {\n  async login({ username, password }) {\n    try {\n      const response = api.post(\"/auth/signin\", {\n        username,\n        password,\n      });\n\n      if (response.data.accessToken) {\n        UserInfo.setUser(response.date);\n      }\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  logout() {\n    UserInfo.removeUser();\n  }\n\n  async register(name, gender, email, phone, password, user_type) {\n    return await api.post(\"/register\", {\n      name,\n      gender,\n      email,\n      phone,\n      password,\n      user_type,\n    });\n  }\n\n  async sendEmail() {\n    let error = null;\n    const res = await api\n      .post(\"email/verification-notification\")\n      .catch((error) => {\n        error = error.response.data.message;\n        error;\n      });\n    return { data: res.data, error };\n  }\n  async resetEmail(email) {\n    try {\n      const response = await api.post(\"email/reset\", {\n        email: email,\n      });\n      return response.data.data;\n    } catch (error) {\n      return error.response;\n    }\n  }\n\n  async resetPassword(password, email, token) {\n    let resetData = new FormData();\n    resetData.append(\"password\", password);\n    resetData.append(\"email\", email);\n    resetData.append(\"token\", token);\n    try {\n      const response = await api.post(\"password/reset\", resetData);\n      return response.data;\n    } catch (error) {\n      return error.response;\n    }\n  }\n  async forgetPassword(email) {\n    try {\n      const response = await api.post(\"password/forgot-password\", {\n        email: email,\n      });\n      return response.data;\n    } catch (error) {\n      return error.response;\n    }\n  }\n  async sessionData() {\n    try {\n      const response = await api.get(\"session-data\");\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  async refreshToken() {\n    try {\n      const response = await api.post(\"/refresh\");\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  \n  async returnToTeam() {\n    try {\n      const response = await api.get(\"/return-to-team\");\n      return response.data.data;\n    } catch (error) {\n      handleError(error);\n    }\n  }\n\n  \n}\n\nexport default new AuthService();\n","<template>\n  <div class=\"container-fluid p-0\">\n    <div class=\"row no-gutters\">\n      <div class=\"col-sm-12 text-center\">\n        <div class=\"iq-error position-relative mt-5\">\n          <img src=\"@/assets/images/main/confirm_mail.png\" class=\"img-fluid iq-error-img\" alt=\"confirm email\">\n          <div>\n\n            <h2 class=\"mb-2 text-center\">تفقد بريدك الالكتروني</h2>\n            <p class=\"text-center\">قم بتاكيد بريدك الالكتروني لتستطيع استخذام الموقع</p>\n\n            <div class=\"alert alert-warning w-75 m-auto\" role=\"alert\">\n              الايميل المسجل به: {{ user.email }}\n            </div>\n\n            <div class=\"d-inline-block w-100 text-center\">\n              <h4 class=\"text-center\" style=\"color:red;\" v-if=\"message\">تم الارسال</h4>\n              <button type=\"submit\" class=\"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto\" @click=\"sendMail\">\n                اعادة ارسال البريد الالكتروني\n              </button>\n            </div>\n            <h4 class=\"p-2 text-center text-danger\">\n              اذا كنت تواجه مشكلة في تأكيد بريدك الالكتروني الحالي يمكن إعادة تعيينه من\n              <router-link :to=\"{ name: 'auth.reset-email' }\">\n                هنا\n              </router-link>\n            </h4>\n\n            <a href=\"javascript:void(0);\" class=\"d-flex align-items-center m-3\" @click=\"logout\">\n              <i class=\"material-symbols-outlined\">logout</i>\n              <span class=\"mobile-text d-lg-none ms-3\">تسجيل خروج</span>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Auth from '@/API/services/auth.service'\nimport UserInfoService from \"@/Services/userInfoService\";\n\nexport default {\n  name: \"ConfirmMail\",\n  data() {\n    return {\n      message: false,\n    };\n  }, methods: {\n    async sendMail() {\n      this.message = true;\n      await Auth.sendEmail();\n    },\n    logout() {\n      this.$store.dispatch('logout');\n      this.$router.push({ name: 'osboha' })\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.getters.getUser;\n    },\n  }\n};\n</script>","import { render } from \"./ConfirmMail.vue?vue&type=template&id=a6596192\"\nimport script from \"./ConfirmMail.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmMail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["AuthService","login","username","password","response","api","post","data","accessToken","UserInfo","setUser","date","error","console","log","logout","removeUser","register","name","gender","email","phone","user_type","sendEmail","res","catch","message","resetEmail","resetPassword","token","resetData","FormData","append","forgetPassword","sessionData","get","handleError","refreshToken","returnToTeam","class","_createElementVNode","src","_imports_0","alt","role","style","_hoisted_12","_hoisted_13","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$options","user","_hoisted_9","$data","_hoisted_10","type","onClick","_cache","args","sendMail","_hoisted_11","_createVNode","_component_router_link","to","href","methods","this","Auth","$store","dispatch","$router","push","computed","getters","getUser","__exports__","render"],"sourceRoot":""}