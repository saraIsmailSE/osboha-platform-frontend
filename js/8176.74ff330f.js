"use strict";(self["webpackChunkOsboha180"]=self["webpackChunkOsboha180"]||[]).push([[8176],{22658:function(t,e,a){var r=a(66252),s=a(24150),n=a(79940);class c{async createGroup(t){try{const e=await s.hi.post("/group/create",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async getAll(t,e){try{const a=await s.hi.get(`/group?page=${e}&name=${t}`);return await a.data}catch(a){return a}}async searchGroupByName(t){try{const e=await s.hi.get(`group/search-group-by-name/${t}`);return await e.data}catch(e){return e}}async getById(t){try{const e=await s.hi.get(`group/show/${t}`);return e.data.data}catch(e){return e}}async showBasicInfo(t){try{const e=await s.hi.get(`group/show-basic-info/${t}`);return e.data.data}catch(e){return e}}async getBooks(t){try{const e=await s.hi.get(`group/books/${t}`);return e.data.data}catch(e){(0,r.S3)(e)}}async getAllGroupExceptions(t){try{const e=await s.hi.get(`group/group-exceptions/${t}`);return e.data.data}catch(e){return e}}async exceptionsFilter(t,e){try{const a=await s.hi.get(`group/exceptions-filter/${t}/${e}`);return a.data.data}catch(a){return a}}async BasicMarksView(t,e){try{const a=await s.hi.get(`group/basic-mark-view/${t}/${e}`);return a.data.data}catch(a){return a}}async AllAchievements(t,e){try{const a=await s.hi.get(`group/all-achievements/${t}/${e}`);return a.data.data}catch(a){return a}}async AchievementAsPages(t,e){try{const a=await s.hi.get(`group/achievement-as-pages/${t}/${e}`);return a.data.data}catch(a){return a}}async searchForAmbassadorAchievement(t,e,a){try{const r=await s.hi.get(`group/search-for-ambassador-achievement/${t}/${e}/${a}`);return r.data.data}catch(r){return r}}async searchForAmbassador(t,e){try{const a=await s.hi.get(`group/search-for-ambassador/${t}/${e}`);return a.data.data}catch(a){return a}}async createLeaderRequest(t){try{const e=await s.hi.post("/group/create-leader-request",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){return e}}async lastLeaderRequest(t){try{const e=await s.hi.get(`group/last-leader-request/${t}`);return e.data.data}catch(e){return e}}async deleteById(t){try{return await s.hi.delete(`/group/delete/${t}`)}catch(e){return e}}async update(t){try{const e=await s.hi.post("/group/update",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}async getGroupByType(t){try{const e=await s.hi.get(`/group/group-by-type/${t}`);return e.data.data}catch(e){return e}}async userGroups(t,e){try{const a=await s.hi.get(`/group/user-groups?page=${e}&name=${t}`);return a.data}catch(a){return a}}async statistics(t){try{const e=await s.hi.get(`group/statistics/${t}`);return e.data.data}catch(e){(0,n.F)(e,"statistics")}}async thesesAndScreensByWeek(t,e){try{const a=await s.hi.get(`group/theses-and-screens-by-week/${t}/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}async monthAchievement(t,e){try{const a=await s.hi.get(`group/month-achievement/${t}/${e}`);return a.data.data}catch(a){(0,r.S3)(a)}}async assignAdministrator(t){try{const e=await s.hi.post("/group/assign-administrator",t,{headers:{"Content-type":"multipart/form-data"}});return e.data.data}catch(e){(0,r.S3)(e)}}}e.Z=new c},79940:function(t,e,a){a.d(e,{F:function(){return s}});a(70560);var r=a(1120);function s(t,e=""){throw console.log(`[ERROR] ${e} =>`,t.response.data),404===t.response.data.statusCode?r.Z.push({name:"NotFound"}):403===t.response.data.statusCode&&r.Z.push({name:"NotAuthorized"}),t}},28176:function(t,e,a){a.r(e),a.d(e,{default:function(){return H}});var r=a(66252),s=a(3577);const n={class:"col-sm-12 mt-3"},c={class:"iq-card-header-toolbar d-flex align-items-center mx-auto"},o={class:"text-center mt-3 mb-3"},i={class:"iq-card-body p-3"},u={class:"d-flex align-items-center mt-3"},d={class:"col-12"},l={class:"card card-block card-stretch card-height blog"},p=(0,r._)("div",{class:"card-header"},[(0,r._)("h2",null,"الاجازات")],-1),h={class:"card-body"},g={class:"form-group"},y=(0,r._)("option",{value:""},"فلترة حسب",-1),m=(0,r._)("option",{value:"oldest"}," الأقدم ",-1),w=(0,r._)("option",{value:"latest"}," الأحدث ",-1),_=(0,r._)("option",{value:"freez"}," تجميد فقط ",-1),v=(0,r._)("option",{value:"exceptional_freez"}," تجميد استثنائي فقط ",-1),b=(0,r._)("option",{value:"exams"}," امتحانات فقط ",-1),f=(0,r._)("option",{value:"accepted"}," مقبول ",-1),$=(0,r._)("option",{value:"pending"}," بانتظار الموافقة ",-1),x=(0,r._)("option",{value:"rejected"}," مرفوض ",-1),k=(0,r._)("option",{value:"finished"}," منتهي ",-1),A=[y,m,w,_,v,b,f,$,x,k],C={class:"blog-description"},q={class:"table w-100"},z=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{scope:"col"},"اسم السفير"),(0,r._)("th",{scope:"col"},"نوع الاجازة"),(0,r._)("th",{scope:"col"},"الحالة"),(0,r._)("th",{scope:"col"},"الانتهاء")])],-1),B={key:0},D={key:0},F={key:1},S=(0,r._)("td",null,[(0,r._)("i",{role:"button",class:"material-symbols-outlined md-18 me-1 text-primary"}," visibility ")],-1),G={key:1},Z=(0,r._)("tr",{colspan:"4"},[(0,r._)("td",null,"لا يوجد بيانات لعرضها")],-1),E=[Z],R=(0,r._)("hr",null,null,-1),I={class:"d-flex align-items-center mt-3 row"},L={class:"d-inline-block w-100 text-center col-12"};function M(t,e,a,y,m,w){const _=(0,r.up)("router-link"),v=(0,r.up)("iq-card");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",n,[(0,r.Wm)(v,{class:"iq-card"},{default:(0,r.w5)((()=>[(0,r._)("div",c,[(0,r._)("h3",o,(0,s.zw)(m.group_title)+" - "+(0,s.zw)(m.week_title),1)]),(0,r._)("div",i,[(0,r._)("div",u,[(0,r._)("div",d,[(0,r._)("div",l,[p,(0,r._)("div",h,[(0,r._)("div",g,[(0,r._)("select",{class:"form-select",onChange:e[0]||(e[0]=t=>w.filter(t)),"data-trigger":"",name:"choices-single-default",id:"choices-single-default"},A,32)]),(0,r._)("div",C,[(0,r._)("table",q,[z,m.exceptions&&m.exceptions.length>0?((0,r.wg)(),(0,r.iD)("tbody",B,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.exceptions.slice(0,m.length),(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",null,(0,s.zw)(t.user.name),1),(0,r._)("td",null,(0,s.zw)(t.type.type),1),(0,r._)("td",null,(0,s.zw)(m.exception_status[t.status]),1),t.end_at?((0,r.wg)(),(0,r.iD)("td",D,(0,s.zw)(t.end_at),1)):((0,r.wg)(),(0,r.iD)("td",F,"------")),(0,r.Wm)(_,{to:{name:"exceptions.listException",params:{exception_id:t.id}}},{default:(0,r.w5)((()=>[S])),_:2},1032,["to"])])))),128))])):((0,r.wg)(),(0,r.iD)("tbody",G,E))]),m.exceptions&&m.exceptions.length>m.length?((0,r.wg)(),(0,r.iD)("span",{key:0,class:"w-100 text-center mt-3 btn",role:"button",onClick:e[1]||(e[1]=t=>w.loadMore())}," عرض المزيد ")):(0,r.kq)("",!0),R])])])])]),(0,r._)("div",I,[(0,r._)("div",L,[(0,r._)("button",{type:"",onClick:e[2]||(e[2]=t=>w.back()),class:"btn d-block btn-primary mt-3 mb-3 w-75 mx-auto"}," عودة للفريق ")])])])])),_:1})])])}a(70560);var N=a(22658),O={name:"List Exceptions",async created(){try{const t=await N.Z.getAllGroupExceptions(this.group_id);this.exceptions=t.exceptions,this.group_title=t.group.name,this.week_title=t.week.title}catch(t){console.log(t)}},data(){return{exceptions:null,group_title:"",week_title:"",group_id:this.$route.params.group_id,exception_status:{pending:"قيد المراجعة",accepted:"مقبول",rejected:"مرفوض",cancelled:"ملغي",finished:"منتهي"},length:10}},methods:{loadMore(){this.length+=10},back(){this.$router.push({name:"group.group-detail",params:{group_id:this.group_id}})},async filter(t){this.exceptions=await N.Z.exceptionsFilter(t.target.value,this.group_id)}}},W=a(83744);const j=(0,W.Z)(O,[["render",M]]);var H=j}}]);
//# sourceMappingURL=8176.74ff330f.js.map